<%@ Master Language="VB" AutoEventWireup="false" CodeBehind="Site.master.vb" Inherits="GrowthWare.CoreWeb.Site" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head runat="server">
	<title></title>
	<link href="~/Styles/Site.css" rel="stylesheet" type="text/css" />

	<script type="text/javascript" language="javascript">
		function InitPageNavigation() {
			var mNavControler = new NavigationControler();
			var mRefreshObject = new RefreshObject();
			mRefreshObject.ContentAreaID = 'HMenu';
			mRefreshObject.Refresh = function refresh() {
				// make call to either get data or html
				var mRetHTML = "hierarchical menu Refresh from javascript!!!";
				// if data only retruned then bind
				// the data to a template
				// put the results into the UI
				$('#' + this.ContentAreaID).html(mRetHTML.toString());
			}
			mNavControler.RegisterRefreshObject(mRefreshObject);

			mRefreshObject = new RefreshObject();
			mRefreshObject.ContentAreaID = 'title';
			mRefreshObject.Refresh = function refreshFunction() {
				// make call to either get data or html
				var mRetHTML = "<h1>My ASP.NET Application Refresh from javascript!!!</h1>";
				// if data only retruned then bind
				// the data to a template
				// put the results into the UI
				$('#' + this.ContentAreaID).html(mRetHTML.toString());
			}
			mNavControler.RegisterRefreshObject(mRefreshObject);
		}

		function Refresh() {
			var mNavControler = new NavigationControler();
			mNavControler.Refresh();
		}
	
	</script>

	<asp:ContentPlaceHolder ID="HeadContent" runat="server">
	</asp:ContentPlaceHolder>
</head>
<body>
	<form runat="server">
	<div class="page">
		<div class="header">
			<div id="title" class="title">
				<h1>
					My ASP.NET Application
				</h1>
			</div>
			<div class="loginDisplay">
				<asp:LoginView ID="HeadLoginView" runat="server" EnableViewState="false">
					<AnonymousTemplate>
						[ <a href="~/Account/Login.aspx" ID="HeadLoginStatus" runat="server">Log In</a> ]
					</AnonymousTemplate>
					<LoggedInTemplate>
						Welcome <span class="bold"><asp:LoginName ID="HeadLoginName" runat="server" /></span>!
						[ <asp:LoginStatus ID="HeadLoginStatus" runat="server" LogoutAction="Redirect" LogoutText="Log Out" LogoutPageUrl="~/"/> ]
					</LoggedInTemplate>
				</asp:LoginView>
			</div>
			<div class="clear hideSkiplink">
				<asp:Menu ID="NavigationMenu" runat="server" CssClass="menu" EnableViewState="false" IncludeStyleBlock="false" Orientation="Horizontal">
					<Items>
						<asp:MenuItem NavigateUrl="~/Default.aspx" Text="Home"/>
						<asp:MenuItem NavigateUrl="~/About.aspx" Text="About"/>
					</Items>
				</asp:Menu>
			</div>
		</div>
		<div class="main">
			<div id="HMenu">
				hierarchical menu
			</div>
			<input type="button" id="button" onclick="javascript:Refresh();" value="Refresh" />
			<input type="button" id="button2" onclick="javascript:LoadContent('Generic_Home', 'MainContentDiv');" value="Load" />

			<asp:ContentPlaceHolder ID="MainContent" runat="server"/>
		</div>
		<div class="clear">
		</div>
	</div>
	<div class="footer">
		
	</div>
	</form>
</body>
</html>
