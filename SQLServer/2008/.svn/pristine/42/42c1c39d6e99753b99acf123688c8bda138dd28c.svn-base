
/*
Usage:
	DECLARE 
		@V_Account VARCHAR(128) = 'Anonymous',
		@V_SE_SEQ_ID int = 1,
		@V_SE_NAME VARCHAR(256) = 'System',
		@V_Back_Color VARCHAR(15) = '#ffffff',
		@V_Left_Color VARCHAR(15) = '#eeeeee',
		@V_Head_Color VARCHAR(15) = '#6699cc',
		@V_Sub_Head_Color VARCHAR(15) = '#b6cbeb',
		@V_Color_Scheme VARCHAR(15) = 'Blue',
		@V_Favoriate_Action VARCHAR(50) = 'Home',
		@V_Thin_Actions VARCHAR(4000) = 'ThinActions',
		@V_Wide_Actions VARCHAR(4000) = 'WideActions',
		@V_Records_Per_Page int = 5

	exec ZGWCoreWeb.Account_Choices
		@V_Account VARCHAR(128),
		@V_SE_SEQ_ID int,
		@V_SE_NAME VARCHAR(256),
		@V_Back_Color VARCHAR(15),
		@V_Left_Color VARCHAR(15),
		@V_Head_Color VARCHAR(15),
		@V_Sub_Head_Color VARCHAR(15),
		@V_Color_Scheme VARCHAR(15),
		@V_Favoriate_Action VARCHAR(50),
		@V_Thin_Actions VARCHAR(4000),
		@V_Wide_Actions VARCHAR(4000),
		@V_Records_Per_Page	
*/
-- =============================================
-- Author:		Michael Regan
-- Create date: 07/26/2011
-- Description:	Inserts/Updates ZGWCoreWeb.Account_Choices based on @P_Account
-- =============================================
CREATE PROCEDURE [ZGWCoreWeb].[Set_Account_Choices]
	@P_Account VARCHAR(128),
	@P_SE_SEQ_ID int,
	@P_SE_NAME VARCHAR(256),
	@P_Back_Color VARCHAR(15),
	@P_Left_Color VARCHAR(15),
	@P_Head_Color VARCHAR(15),
	@P_Sub_Head_Color VARCHAR(15),
	@P_Color_Scheme VARCHAR(15),
	@P_Favoriate_Action VARCHAR(50),
	@P_Thin_Actions VARCHAR(4000),
	@P_Wide_Actions VARCHAR(4000),
	@P_Records_Per_Page int
AS
-- INSERT a new row in the table.
	IF(SELECT COUNT(*) FROM ZGWCoreWeb.Account_Choices WHERE Account = @P_Account) <= 0
		BEGIN	
			INSERT ZGWCoreWeb.Account_Choices
			(
				Account,
				SE_SEQ_ID,
				SE_NAME,
				Back_Color,
				Left_Color,
				Head_Color,
				Sub_Head_Color,
				Color_Scheme,
				Favoriate_Action,
				Thin_Actions,
				Wide_Actions,
				Records_Per_Page
			)
			VALUES
			(
				@P_Account,
				@P_SE_SEQ_ID,
				@P_SE_NAME,
				@P_Back_Color,
				@P_Left_Color,
				@P_Head_Color,
				@P_Sub_Head_Color,
				@P_Color_Scheme,
				@P_Favoriate_Action,
				@P_Thin_Actions,
				@P_Wide_Actions,
				@P_Records_Per_Page
			)
		END
	ELSE
		BEGIN
			UPDATE ZGWCoreWeb.Account_Choices
			SET
				SE_SEQ_ID = @P_SE_SEQ_ID,
				SE_NAME = @P_SE_NAME,
				Back_Color =@P_Back_Color ,
				Left_Color=@P_Left_Color,
				Head_Color=@P_Head_Color,
				Sub_Head_Color=@P_Sub_Head_Color,
				Color_Scheme=@P_Color_Scheme,
				Favoriate_Action=@P_Favoriate_Action,
				Thin_Actions=@P_Thin_Actions,
				Wide_Actions = @P_Wide_Actions,
				Records_Per_Page=@P_Records_Per_Page
			WHERE
				Account=@P_Account
		END
	-- END IF
-- Get the Error Code for the statement just executed.
--SELECT @P_ErrorCode=@@ERROR