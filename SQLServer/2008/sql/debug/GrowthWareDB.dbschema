<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="1.1" DspName="Microsoft.Data.Schema.Sql.Sql100DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False">
	<Header>
		<CustomData Category="ModelCapability">
			<Metadata Name="ModelCapability" Value="Default" />
		</CustomData>
		<CustomData Category="ClrTypesDbSchema" Type="DbSchema">
			<Metadata Name="ClrTypesDbSchema" Value="True" />
		</CustomData>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="100" />
		</CustomData>
		<CustomData Category="Permissions" Type="XmlPermissions">
			<Metadata Name="FileName" Value="D:\DEVELOPMENT\GROWTHWARE\2010\SQLSERVER\2008\PROPERTIES\DATABASE.SQLPERMISSIONS" />
		</CustomData>
		<CustomData Category="Reference" Type="DbSchema">
			<Metadata Name="FileName" Value="D:\DEVELOPMENT\GROWTHWARE\2010\EXTERNALDLLS\DBSCHEMAS\2008\MASTER.DBSCHEMA" />
			<Metadata Name="LogicalName" Value="master.dbschema" />
			<Metadata Name="ExternalParts" Value="[master]" />
		</CustomData>
	</Header>
	<Model>
		<Element Type="ISql100DatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[Directories]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Added_Date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Database_Information]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Added_By]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Database_Information]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Added_Date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Added_Date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[ADDED_DATE]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Added_Date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Added_Date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_Date]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="ISql90Route" Name="[AutoCreatedLocal]">
			<Property Name="Address" Value="LOCAL" />
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90File" Name="[GWDevelopment]">
			<Property Name="FileName" Value="$(Path2)$(DatabaseName).mdf" />
			<Property Name="FileGrowth" Value="1024" />
			<Property Name="FileGrowthUnit" Value="3" />
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90File" Name="[GWDevelopment_log]">
			<Property Name="FileName" Value="$(Path1)$(DatabaseName)_log.ldf" />
			<Property Name="MaxSize" Value="2097152" />
			<Property Name="IsUnlimited" Value="False" />
			<Property Name="FileGrowth" Value="10" />
			<Property Name="FileGrowthUnit" Value="1" />
			<Property Name="IsLogFile" Value="True" />
		</Element>
		<Element Type="ISql90Schema" Name="[ZGWCoreWeb]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWCoreWeb].[Account_Choices]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Account]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[SE_SEQ_ID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[SE_NAME]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Back_Color]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Left_Color]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Head_Color]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Sub_Head_Color]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Color_Scheme]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Favoriate_Action]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Thin_Actions]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Wide_Actions]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Account_Choices].[Records_Per_Page]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWCoreWeb].[DF_ZGWCoreWeb_Messages_Format_As_HTML]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Format_As_HTML]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWCoreWeb].[DF_ZGWCoreWeb_NOTIFICATIONS_ADDED_DATE]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWCoreWeb].[FK_Messages_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWCoreWeb].[FK_Notifications_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWCoreWeb].[FK_Notifications_Functions]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWCoreWeb].[FK_ZGWCore_Account_Choices_ZGWSecurity_Security_Accounts]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWCoreWeb].[FK_ZGWCoreWeb_Work_Flows_ZGWSystem_NVP]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWCoreWeb].[Work_Flows].[NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Work_Flows]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWCoreWeb].[FK_ZGWCoreWeb_Work_Flows_ZGWSystem_Statuses]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWCoreWeb].[Work_Flows].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Work_Flows]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWCoreWeb].[Get_Account_Choice]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF EXISTS(SELECT Account FROM ZGWCoreWeb.Account_Choices WHERE Account = @P_Account)
		BEGIN
			IF @P_Debug = 1 PRINT 'Selecting client choices for ' + CONVERT(VARCHAR(25),@P_Account)
			SELECT
				ACCOUNT AS ACCT
				, SE_SEQ_ID
				, SE_NAME
				, BACK_COLOR
				, LEFT_COLOR
				, HEAD_COLOR
				, SUB_HEAD_COLOR
				, COLOR_SCHEME
				, FAVORIATE_ACTION
				, THIN_ACTIONS
				, WIDE_ACTIONS
				, RECORDS_PER_PAGE
			FROM ZGWCoreWeb.Account_Choices
			WHERE
				Account = @P_Account
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Selecting client choices for the Anonymous account'
			SELECT
				ACCOUNT AS ACCT
				, SE_SEQ_ID
				, SE_NAME
				, BACK_COLOR
				, LEFT_COLOR
				, HEAD_COLOR
				, SUB_HEAD_COLOR
				, COLOR_SCHEME
				, FAVORIATE_ACTION
				, THIN_ACTIONS
				, WIDE_ACTIONS
				, RECORDS_PER_PAGE
			FROM ZGWCoreWeb.Account_Choices
			WHERE
				[Account] = 'Anonymous'
		END

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Account_Choice].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Account_Choice].[@P_Debug]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[SE_SEQ_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[SE_NAME]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Back_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Left_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Head_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Sub_Head_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Color_Scheme]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Favoriate_Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Thin_Actions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Wide_Actions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Records_Per_Page]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Account_Choice].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Account_Choice].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="372" />
				<Property Name="Length" Value="1441" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWCoreWeb.Get_Account_Choice&#xD;&#xA;&#x9;&#x9;@P_Account ,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/08/2011&#xD;&#xA;-- Description: Gets a record from xx&#xD;&#xA;--&#x9;given the Account&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWCoreWeb].[Get_Account_Choice]&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWCoreWeb].[Get_Messages]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWCoreWeb.Get_Messages'
	DECLARE @V_Default_Security_Entity_SeqID INT = ZGWSecurity.Get_Default_Entity_ID()
	/*
		Don't like this ... need to think of a better way
		something along the lines of core defaul security entity message
		+ other security entity messages ...
	*/
	IF (SELECT COUNT(*) FROM ZGWCoreWeb.[Messages] WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID) = 0
		BEGIN
			IF (SELECT COUNT(*) FROM ZGWCoreWeb.[Messages] WHERE Security_Entity_SeqID = @V_Default_Security_Entity_SeqID) > 0
				BEGIN
					INSERT INTO ZGWCoreWeb.[Messages]
						SELECT
							@P_Security_Entity_SeqID
							, Name
							, Title
							, [DESCRIPTION]
							, Format_As_HTML
							, Body
							, Added_By
							, Added_Date
							, Updated_By
							, Updated_Date
						FROM
							ZGWCoreWeb.[Messages] WHERE Security_Entity_SeqID = @V_Default_Security_Entity_SeqID
					IF @P_Debug = 1 PRINT 'Needed to add entries for all message for the requested Security_Entity'
				END
			ELSE
				IF @P_Debug = 1 PRINT 'There are no message as of yet stop trying to get them!'
				RETURN
			--END IF
		END
	--END IF

	IF @P_Message_SeqID <> -1
		BEGIN
			IF @P_Debug = 1 PRINT 'Getting single message'
			SELECT
				Message_SeqID as MESSAGE_SEQ_ID
				, Security_Entity_SeqID as SE_SEQ_ID
				, NAME
				, TITLE
				, [DESCRIPTION]
				, Format_As_HTML
				, BODY
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWCoreWeb.[Messages]
			WHERE
				Message_SeqID = @P_Message_SeqID
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Getting all messages'
			SELECT
				Message_SeqID as MESSAGE_SEQ_ID
				, Security_Entity_SeqID as SE_SEQ_ID
				, NAME
				, TITLE
				, [DESCRIPTION]
				, Format_As_HTML
				, BODY
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWCoreWeb.[Messages]
			ORDER BY
				[Name]
		END
	--END IF
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Default_Entity_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Messages].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Messages].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Title]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Format_As_HTML]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Body]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Messages].[@P_Message_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Message_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Title]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Body]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Messages].[@P_Message_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Messages].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Messages].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="503" />
				<Property Name="Length" Value="2644" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#x9;&#xD;&#xA;&#x9;&#x9;@P_Message_SeqID INT, &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWCoreWeb.Get_Messages&#xD;&#xA;&#x9;&#x9;@P_Message_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/19/2011&#xD;&#xA;-- Description:&#x9;Returns messages from ZGWCoreWeb.Messages&#xD;&#xA;--&#x9;given the Message_SeqID.  If Message_SeqID = -1&#xD;&#xA;--&#x9;all messages are returned.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWCoreWeb].[Get_Messages]&#xD;&#xA;&#x9;@P_Message_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWCoreWeb].[Get_Notification_Status]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Notification_Status'
	-- GET Account_SeqID
	DECLARE @V_Account_SeqID Int
	SET @V_Account_SeqID = (SELECT Account_SeqID FROM ZGWSecurity.Accounts WHERE Account = @P_Account)

	IF EXISTS
		(SELECT 
			Added_By
		FROM 
			ZGWCoreWeb.Notifications WITH(NOLOCK)
		WHERE 
			Security_Entity_SeqID = @P_Security_Entity_SeqID
			AND Function_SeqID = @P_Function_SeqID
			AND Added_By = @V_Account_SeqID)
		BEGIN
			SELECT @P_Primary_Key = 1
		END
	ELSE
		BEGIN
			SELECT @P_Primary_Key = 0
		END
	--END IF
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Notification_Status'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Primary_Key]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Notification_Status].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="529" />
				<Property Name="Length" Value="1387" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Primary_Key INT = null,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWCoreWeb.Get_Notification_Status&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/19/2011&#xD;&#xA;-- Description:&#x9;Returns single value of 0 or 1&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWCoreWeb].[Get_Notification_Status]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID int,&#xD;&#xA;&#x9;@P_Function_SeqID int,&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Primary_Key INT OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWCoreWeb].[Get_Notifications]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWCoreWeb.Get_Notifications'
	DECLARE @V_Enable_Notifications Int
	SET @V_Enable_Notifications = 1 -- True

	SELECT
		EMAIL
	FROM
		ZGWSecurity.Accounts Accounts WITH(NOLOCK)
			INNER JOIN ZGWCoreWeb.Notifications Notifications WITH(NOLOCK)
				ON Accounts.Account_SeqID = Notifications.Added_By
	WHERE
		Accounts.Enable_Notifications = @V_Enable_Notifications
		AND Notifications.Function_SeqID = @P_Function_SeqID
		AND Notifications.Security_Entity_SeqID = @P_Security_Entity_SeqID
	ORDER BY
		Email

	IF @P_Debug = 1 PRINT 'Ending ZGWCoreWeb.Get_Notifications'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Notifications].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Email]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Notifications].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Get_Notifications].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Email]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Notifications].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Notifications].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Get_Notifications].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="409" />
				<Property Name="Length" Value="1184" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWCoreWeb.Get_Notifications&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/19/2011&#xD;&#xA;-- Description:&#x9;Returns single value of 0 or 1&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWCoreWeb].[Get_Notifications]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID int,&#xD;&#xA;&#x9;@P_Function_SeqID int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWCoreWeb].[Messages]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Message_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Security_Entity_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Title]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Description]">
						<Property Name="IsSparse" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Format_As_HTML]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Body]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="10" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Messages].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[ZGWCoreWeb].[Messages].[FK_IX_Security_Entity_SeqID]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Messages].[Security_Entity_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWCoreWeb].[Notifications]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Notifications].[Notification_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Notifications].[Security_Entity_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Notifications].[Function_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Notifications].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Notifications].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[ZGWCoreWeb].[Notifications].[FK_IX_Notification_Entity_Function]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Notifications].[Notification_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Notifications].[Security_Entity_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Notifications].[Function_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWCoreWeb].[PK_ZFO_Messages]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Messages].[Message_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWCoreWeb].[PK_ZGWCoreWeb_NOTIFICATIONS]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Notifications].[Notification_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWCoreWeb].[PK_ZGWCoreWeb_Work_Flows]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Work_Flows].[NVP_Detail_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Work_Flows]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWCoreWeb].[Set_Account_Choices]">
			<Property Name="BodyScript">
				<Value><![CDATA[
-- INSERT a new row in the table.
	IF(SELECT COUNT(*) FROM ZGWCoreWeb.Account_Choices WHERE Account = @P_ACCT) <= 0
		BEGIN	
			INSERT ZGWCoreWeb.Account_Choices
			(
				Account,
				SE_SEQ_ID,
				SE_NAME,
				Back_Color,
				Left_Color,
				Head_Color,
				Sub_Head_Color,
				Color_Scheme,
				Favoriate_Action,
				Thin_Actions,
				Wide_Actions,
				Records_Per_Page
			)
			VALUES
			(
				@P_ACCT,
				@P_SE_SEQ_ID,
				@P_SE_NAME,
				@P_Back_Color,
				@P_Left_Color,
				@P_Head_Color,
				@P_Sub_Head_Color,
				@P_Color_Scheme,
				@P_Favoriate_Action,
				@P_Thin_Actions,
				@P_Wide_Actions,
				@P_Records_Per_Page
			)
		END
	ELSE
		BEGIN
			UPDATE ZGWCoreWeb.Account_Choices
			SET
				SE_SEQ_ID = @P_SE_SEQ_ID,
				SE_NAME = @P_SE_NAME,
				Back_Color =@P_Back_Color ,
				Left_Color=@P_Left_Color,
				Head_Color=@P_Head_Color,
				Sub_Head_Color=@P_Sub_Head_Color,
				Color_Scheme=@P_Color_Scheme,
				Favoriate_Action=@P_Favoriate_Action,
				Thin_Actions=@P_Thin_Actions,
				Wide_Actions = @P_Wide_Actions,
				Records_Per_Page=@P_Records_Per_Page
			WHERE
				Account=@P_ACCT
		END
	-- END IF
-- Get the Error Code for the statement just executed.
--SELECT @P_ErrorCode=@@ERROR]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_ACCT]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[SE_SEQ_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[SE_NAME]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Back_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Left_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Head_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Sub_Head_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Color_Scheme]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Favoriate_Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Thin_Actions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Wide_Actions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Records_Per_Page]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_SE_SEQ_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_SE_NAME]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Back_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Left_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Head_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Sub_Head_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Color_Scheme]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Favoriate_Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Thin_Actions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Wide_Actions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Records_Per_Page]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_ACCT]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_SE_SEQ_ID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_SE_NAME]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Back_Color]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Left_Color]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Head_Color]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Sub_Head_Color]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Color_Scheme]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Favoriate_Action]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Thin_Actions]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Wide_Actions]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Account_Choices].[@P_Records_Per_Page]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1153" />
				<Property Name="Length" Value="2817" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@V_Account VARCHAR(128) = 'Anonymous',&#xD;&#xA;&#x9;&#x9;@V_SE_SEQ_ID int = 1,&#xD;&#xA;&#x9;&#x9;@V_SE_NAME VARCHAR(256) = 'System',&#xD;&#xA;&#x9;&#x9;@V_Back_Color VARCHAR(15) = '#ffffff',&#xD;&#xA;&#x9;&#x9;@V_Left_Color VARCHAR(15) = '#eeeeee',&#xD;&#xA;&#x9;&#x9;@V_Head_Color VARCHAR(15) = '#6699cc',&#xD;&#xA;&#x9;&#x9;@V_Sub_Head_Color VARCHAR(15) = '#b6cbeb',&#xD;&#xA;&#x9;&#x9;@V_Color_Scheme VARCHAR(15) = 'Blue',&#xD;&#xA;&#x9;&#x9;@V_Favoriate_Action VARCHAR(50) = 'Home',&#xD;&#xA;&#x9;&#x9;@V_Thin_Actions VARCHAR(4000) = 'ThinActions',&#xD;&#xA;&#x9;&#x9;@V_Wide_Actions VARCHAR(4000) = 'WideActions',&#xD;&#xA;&#x9;&#x9;@V_Records_Per_Page int = 5&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWCoreWeb.Account_Choices&#xD;&#xA;&#x9;&#x9;@V_Account VARCHAR(128),&#xD;&#xA;&#x9;&#x9;@V_SE_SEQ_ID int,&#xD;&#xA;&#x9;&#x9;@V_SE_NAME VARCHAR(256),&#xD;&#xA;&#x9;&#x9;@V_Back_Color VARCHAR(15),&#xD;&#xA;&#x9;&#x9;@V_Left_Color VARCHAR(15),&#xD;&#xA;&#x9;&#x9;@V_Head_Color VARCHAR(15),&#xD;&#xA;&#x9;&#x9;@V_Sub_Head_Color VARCHAR(15),&#xD;&#xA;&#x9;&#x9;@V_Color_Scheme VARCHAR(15),&#xD;&#xA;&#x9;&#x9;@V_Favoriate_Action VARCHAR(50),&#xD;&#xA;&#x9;&#x9;@V_Thin_Actions VARCHAR(4000),&#xD;&#xA;&#x9;&#x9;@V_Wide_Actions VARCHAR(4000),&#xD;&#xA;&#x9;&#x9;@V_Records_Per_Page&#x9;&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/26/2011&#xD;&#xA;-- Description:&#x9;Inserts/Updates ZGWCoreWeb.Account_Choices based on @P_ACCT&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWCoreWeb].[Set_Account_Choices]&#xD;&#xA;&#x9;@P_ACCT VARCHAR(128),&#xD;&#xA;&#x9;@P_SE_SEQ_ID int,&#xD;&#xA;&#x9;@P_SE_NAME VARCHAR(256),&#xD;&#xA;&#x9;@P_Back_Color VARCHAR(15),&#xD;&#xA;&#x9;@P_Left_Color VARCHAR(15),&#xD;&#xA;&#x9;@P_Head_Color VARCHAR(15),&#xD;&#xA;&#x9;@P_Sub_Head_Color VARCHAR(15),&#xD;&#xA;&#x9;@P_Color_Scheme VARCHAR(15),&#xD;&#xA;&#x9;@P_Favoriate_Action VARCHAR(50),&#xD;&#xA;&#x9;@P_Thin_Actions VARCHAR(4000),&#xD;&#xA;&#x9;@P_Wide_Actions VARCHAR(4000),&#xD;&#xA;&#x9;@P_Records_Per_Page int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWCoreWeb].[Set_Message]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Set_Message'
	DECLARE @V_Now DATETIME = GETDATE()

	IF @P_Message_SeqID > -1
		BEGIN -- UPDATE PROFILE
			-- CHECK FOR DUPLICATE Name BEFORE INSERTING
			IF EXISTS( SELECT [Name]
				   FROM ZGWCoreWeb.[Messages]
				   WHERE [Name] = @P_Name AND
					Security_Entity_SeqID = @P_Security_Entity_SeqID
			)
				BEGIN
					UPDATE ZGWCoreWeb.[Messages]
					SET
						Security_Entity_SeqID = @P_Security_Entity_SeqID,
						[Name] = @P_Name,
						Title = @P_Title,
						[Description] = @P_Description,
						Format_As_HTML = @P_Format_As_HTML,
						BODY = @P_BODY
					WHERE
						Message_SeqID = @P_Message_SeqID
						AND Security_Entity_SeqID = @P_Security_Entity_SeqID

					SELECT @P_Primary_Key = @P_Message_SeqID -- set the output id just in case.
				END
			ELSE
				BEGIN
					INSERT ZGWCoreWeb.[Messages]
					(
						Security_Entity_SeqID,
						[Name],
						Title,
						[Description],
						BODY,
						Format_As_HTML,
						ADDED_BY,
						ADDED_DATE
					)
					VALUES
					(
						@P_Security_Entity_SeqID,
						@P_Name,
						@P_Title,
						@P_Description,
						@P_BODY,
						@P_Format_As_HTML,
						@P_Added_Updated_By,
						@V_Now
					)
					SELECT @P_Primary_Key = SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
				END
		END
	ELSE
		BEGIN -- INSERT a new row in the table.

			-- CHECK FOR DUPLICATE Name BEFORE INSERTING
			IF EXISTS( SELECT [Name]
				   FROM ZGWCoreWeb.[Messages]
				   WHERE [Name] = @P_Name AND
					Security_Entity_SeqID = @P_Security_Entity_SeqID
			)
			BEGIN
				RAISERROR ('The message you entered already exists in the database.',16,1)
				RETURN
			END

			INSERT ZGWCoreWeb.[Messages]
			(
				Security_Entity_SeqID,
				[Name],
				Title,
				[Description],
				BODY,
				Format_As_HTML,
				ADDED_BY,
				ADDED_DATE
			)
			VALUES
			(
				@P_Security_Entity_SeqID,
				@P_Name,
				@P_Title,
				@P_Description,
				@P_BODY,
				@P_Format_As_HTML,
				@P_Added_Updated_By,
				@V_Now
			)
			SELECT @P_Primary_Key = SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
		END
	-- END IF
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Set_Message'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Message_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Title]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Title]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Format_As_HTML]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Format_As_HTML]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Body]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_BODY]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Message_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Primary_Key]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Messages].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Message].[@P_Added_Updated_By]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Message_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Title]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_BODY]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Format_As_HTML]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Message].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="861" />
				<Property Name="Length" Value="3460" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Message_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 2,&#xD;&#xA;&#x9;&#x9;@P_Name VARCHAR(50) 'Test',&#xD;&#xA;&#x9;&#x9;@P_Title VARCHAR(100) = 'Just Testing',&#xD;&#xA;&#x9;&#x9;@P_Description VARCHAR(512) = 'Some description',&#xD;&#xA;&#x9;&#x9;@P_BODY VARCHAR(MAX) = 'The body',&#xD;&#xA;&#x9;&#x9;@P_Format_As_HTML INT = 0,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWCoreWeb.Set_Message&#xD;&#xA;&#x9;&#x9;@P_Message_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Name,&#xD;&#xA;&#x9;&#x9;@P_Title,&#xD;&#xA;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;@P_BODY,&#xD;&#xA;&#x9;&#x9;@P_Format_As_HTML,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key OUT,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;&#xD;&#xA;&#x9;PRINT 'Primay key is: ' + CONVERT(VARCHAR(30),@P_Primary_Key)&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/02/2011&#xD;&#xA;-- Description:&#x9;Inserts or updates ZGWCoreWeb.[Messages]&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWCoreWeb].[Set_Message]&#xD;&#xA;&#x9;@P_Message_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Name VARCHAR(50),&#xD;&#xA;&#x9;@P_Title VARCHAR(100),&#xD;&#xA;&#x9;@P_Description VARCHAR(512),&#xD;&#xA;&#x9;@P_BODY VARCHAR(MAX),&#xD;&#xA;&#x9;@P_Format_As_HTML INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Primary_Key int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWCoreWeb].[Set_Notification]">
			<Property Name="BodyScript">
				<Value><![CDATA[

IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Set_Notification'
DECLARE @V_Account_SeqID int = (SELECT Account_SeqID FROM ZGWSecurity.Accounts WHERE Account = @P_Account)

IF @P_Status = 1
	BEGIN
	  IF NOT EXISTS
		(
			SELECT 
				Added_By 
			FROM 
				ZGWCoreWeb.Notifications 
			WHERE 
				Security_Entity_SeqID = @P_Security_Entity_SeqID
				AND Function_SeqID = @P_Function_SeqID
				AND Added_By = @V_Account_SeqID
		)
		BEGIN
			IF @P_Debug = 1 PRINT 'Insert'
			INSERT ZGWCoreWeb.Notifications
			(
			Security_Entity_SeqID,
			Function_SeqID,
			Added_By
			)
			VALUES
			(
			@P_Security_Entity_SeqID,
			@P_Function_SeqID,
			@V_Account_SeqID
			)
		END
	END
ELSE
	IF @P_Debug = 1 PRINT 'Delete'
	DELETE 
		ZGWCoreWeb.Notifications
	WHERE 
		Security_Entity_SeqID = @P_Security_Entity_SeqID
		AND Function_SeqID = @P_Function_SeqID
		AND Added_By = @V_Account_SeqID
--END IF
IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Set_Notification'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Notification].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Notification].[@P_Status]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Notification].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Notification].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Notifications].[Added_By]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Notification].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Notification].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Notification].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Notification].[@P_Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWCoreWeb].[Set_Notification].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="568" />
				<Property Name="Length" Value="1741" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = 2,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Account Varchar(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Status int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWCoreWeb.Set_Notification&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Status,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/07/2011&#xD;&#xA;-- Description:&#x9;Inserts or deletes from ZGWCoreWeb.Notifications&#xD;&#xA;--&#x9;Status value 1 = insert, 0 = delete&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWCoreWeb].[Set_Notification]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID int,&#xD;&#xA;&#x9;@P_Function_SeqID int,&#xD;&#xA;&#x9;@P_Account Varchar(128),&#xD;&#xA;&#x9;@P_Status int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWCoreWeb].[UK_ZGWCore_Account_Choices]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWCoreWeb].[UK_ZGWCoreWeb_Work_Flows]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Work_Flows].[NVP_Detail_Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Work_Flows].[NVP_Detail_Value]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWCoreWeb].[Work_Flows]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWCoreWeb].[Work_Flows]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[NVP_Detail_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[NVP_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[NVP_Detail_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[NVP_Detail_Value]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[Status_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[Sort_Order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWCoreWeb].[Work_Flows].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWCoreWeb]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[ZGWCoreWeb].[Work_Flows].[FX_IX_Work_Flows]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Work_Flows].[NVP_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWCoreWeb].[Work_Flows].[Status_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[ZGWCoreWeb].[Work_Flows]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[ZGWCoreWebApplication]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[ZGWOptional]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWOptional].[Calendars]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Security_Entity_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Calendar_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Entry_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Comment]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Calendars].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWOptional]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWOptional].[DF_ZGWOptional_Calendar_Added_By]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[Calendars]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWOptional].[Calendars].[Added_By]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWOptional].[DF_ZGWOptional_Calendar_Added_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[Calendars]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWOptional].[Calendars].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWOptional].[DF_ZGWOptional_States_Added_By]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWOptional].[States].[Added_By]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWOptional].[DF_ZGWOptional_States_Added_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWOptional].[States].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWOptional].[DF_ZGWOptional_States_Updated_By]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWOptional].[States].[Updated_By]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWOptional].[DF_ZGWOptional_States_Updated_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWOptional].[States].[Updated_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWOptional].[Directories]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Function_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Directory]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Impersonate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Impersonating_Account]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Impersonating_Password]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Directories].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWOptional]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWOptional].[FK_Directories_Functions]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[Directories]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWOptional].[FK_ZGWOptional_Calendar_ZGWSecurity_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWOptional].[Calendars].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[Calendars]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWOptional].[FK_ZGWOptional_States_ZGWSystem_Statuses]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWOptional].[States].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWOptional].[FK_ZGWOptional_Zip_Codes_ZGWOptional_States]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWOptional].[Zip_Codes].[State]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[Zip_Codes]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWOptional].[States].[State]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWOptional].[Get_Directory]">
			<Property Name="BodyScript">
				<Value><![CDATA[
IF @P_Debug = 1 PRINT 'Starting ZGWOptional.Get_Directory'
IF @P_Function_SeqID = -1
	BEGIN
		IF @P_Debug = 1 PRINT 'Getting all'
		SELECT
			Function_SeqID as FUNCTION_SEQ_ID
			, Directory
			, Impersonate
			, Impersonating_Account
			, Impersonating_Password as IMPERSONATE_PWD
			, Added_By
			, Added_Date
			, Updated_By
			, Updated_Date
		FROM
			ZGWOptional.Directories WITH(NOLOCK)
		ORDER BY
			Directory
	END
ELSE
	BEGIN
		IF @P_Debug = 1 PRINT 'Getting 1'
		SELECT
			Function_SeqID as FUNCTION_SEQ_ID
			, Directory
			, Impersonate
			, Impersonating_Account
			, Impersonating_Password as IMPERSONATE_PWD
			, Added_By
			, Added_Date
			, Updated_By
			, Updated_Date
		FROM
			ZGWOptional.Directories
		WHERE
			Function_SeqID = @P_Function_SeqID
	END
-- end if
IF @P_Debug = 1 PRINT 'Ending ZGWOptional.Get_Directory'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWOptional].[Get_Directory].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Get_Directory].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Directory]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Impersonate]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Impersonating_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Impersonating_Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWOptional]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Get_Directory].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Get_Directory].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="442" />
				<Property Name="Length" Value="1427" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWOptional.Get_Directory&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/11/2011&#xD;&#xA;-- Description:&#x9;Selects directory infomation given&#xD;&#xA;--&#x9;the Function_SeqID. When Function_SeqID = -1&#xD;&#xA;--&#x9;all rows in the table are retruned.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWOptional].[Get_Directory]&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWOptional].[Get_State]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWOptional.Get_State'
	IF @P_State <> '-1'
		BEGIN
			IF @P_Debug = 1 PRINT 'Getting a single record'
			SELECT
				[State]
				, [Description]
				, Status_SeqID
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWOptional.States
			WHERE [State] = @P_State
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Getting all single records'
			SELECT
				[State]
				, [Description]
				, Status_SeqID
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWOptional.States
			ORDER BY
				[State]
		END
	--END IF
	IF @P_Debug = 1 PRINT 'Ending ZGWOptional.Get_State'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWOptional].[Get_State].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Get_State].[@P_State]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[State]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWOptional]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Get_State].[@P_State]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Get_State].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="422" />
				<Property Name="Length" Value="1220" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_State AS varchar(2) = 'ca',&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWOptional.Get_State&#xD;&#xA;&#x9;&#x9;@P_State,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/23/2011&#xD;&#xA;-- Description:&#x9;Retrieves State details&#xD;&#xA;--&#x9;given the state&#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;SeqID value of -1 will return all&#xD;&#xA;--&#x9;security enties.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWOptional].[Get_State]&#xD;&#xA;&#x9;@P_State CHAR(2),&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWOptional].[PK_Directories]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWOptional].[Directories].[Function_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[Directories]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWOptional].[PK_ZGWOptional_States]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWOptional].[States].[State]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWOptional].[Set_Directory]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting ZGWOptional.Set_Directory'
	DECLARE @V_Now DATETIME = GETDATE()
	IF (SELECT COUNT(*) FROM ZGWOptional.Directories WHERE Function_SeqID = @P_Function_SeqID) = 0
		BEGIN
			IF @P_Debug = 1 PRINT 'Insert Row'
			INSERT ZGWOptional.Directories
			(
				Function_SeqID,
				Directory,
				Impersonate,
				Impersonating_Account,
				Impersonating_Password,
				Added_By,
				Added_Date
			)
			VALUES
			(
				@P_Function_SeqID,
				@P_Directory,
				@P_Impersonate,
				@P_Impersonating_Account,
				@P_Impersonating_Password,
				@P_Added_Updated_By,
				@V_Now
			)

			SELECT @P_Primary_Key = @P_Function_SeqID
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Update Row'
			UPDATE ZGWOptional.Directories
			SET 
				Function_SeqID = @P_Function_SeqID,
				Directory = @P_Directory,
				Impersonate = @P_Impersonate,
				Impersonating_Account = @P_Impersonating_Account,
				Impersonating_Password = @P_Impersonating_Password,
				UPDATED_BY = @P_Added_Updated_By,
				UPDATED_DATE = @V_Now
			WHERE
				Function_SeqID = @P_Function_SeqID

			SELECT @P_Primary_Key = @P_Function_SeqID
		END
	--end if
	IF @P_Debug = 1 PRINT 'Ending Optional.Set_Directory'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_Directory].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_Directory].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Directory]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Impersonate]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Impersonating_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Impersonating_Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_Directory].[@P_Directory]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_Directory].[@P_Impersonate]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_Directory].[@P_Impersonating_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_Directory].[@P_Impersonating_Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_Directory].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_Directory].[@P_Primary_Key]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Directories].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWOptional]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_Directory].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_Directory].[@P_Directory]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_Directory].[@P_Impersonate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_Directory].[@P_Impersonating_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_Directory].[@P_Impersonating_Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_Directory].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_Directory].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_Directory].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="713" />
				<Property Name="Length" Value="2238" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Directory VARCHAR(255) = '',&#xD;&#xA;&#x9;&#x9;@P_Impersonate INT = 0,&#xD;&#xA;&#x9;&#x9;@P_Impersonating_Account VARCHAR(50) = '',&#xD;&#xA;&#x9;&#x9;@P_Impersonating_Password VARCHAR(50) = '',&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key INT,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWOptional.Set_Directory&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Directory,&#xD;&#xA;&#x9;&#x9;@P_Impersonate,&#xD;&#xA;&#x9;&#x9;@P_Impersonating_Account,&#xD;&#xA;&#x9;&#x9;@P_Impersonating_Password,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key OUT,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/25/2011&#xD;&#xA;-- Description:&#x9;Inserts or updates ZGWOptional.Directories&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWOptional].[Set_Directory]&#xD;&#xA;&#x9;@P_Function_SeqID INT,&#xD;&#xA;&#x9;@P_Directory VARCHAR(255),&#xD;&#xA;&#x9;@P_Impersonate INT,&#xD;&#xA;&#x9;@P_Impersonating_Account VARCHAR(50),&#xD;&#xA;&#x9;@P_Impersonating_Password VARCHAR(50),&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Primary_Key INT OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWOptional].[Set_State]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @V_Now DATETIME = GETDATE()
	UPDATE
		ZGWOptional.States
	SET 
		[State] = @P_State,
		[Description] = @P_Description,
		Status_SeqID = @P_Status_SeqID,
		Updated_By = @P_Updated_By,
		Updated_Date = @V_Now
	WHERE
		[State] = @P_State

	SELECT @P_Primary_Key = @P_State
END

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[State]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_State].[@P_State]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_State].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_State].[@P_Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_State].[@P_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[States].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWOptional].[Set_State].[@P_Primary_Key]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWOptional]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_State].[@P_State]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_State].[@P_Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_State].[@P_Status_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_State].[@P_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_State].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWOptional].[Set_State].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="613" />
				<Property Name="Length" Value="1122" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_State VARCHAR(2) = 'MA',&#xD;&#xA;&#x9;&#x9;@P_Description VARCHAR(128) = 'Changed',&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key VARCHAR(2),&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWOptional.Set_State&#xD;&#xA;&#x9;&#x9;@P_State,&#xD;&#xA;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key OUT,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;&#x9;PRINT '@P_Primary_Key = ' + CONVERT(VARCHAR(MAX),@P_Primary_Key)&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/08/2011&#xD;&#xA;-- Description:&#x9;Inserts into ZGWOptional.States&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWOptional].[Set_State]&#xD;&#xA;&#x9;@P_State CHAR(2),&#xD;&#xA;&#x9;@P_Description VARCHAR(128),&#xD;&#xA;&#x9;@P_Status_SeqID INT,&#xD;&#xA;&#x9;@P_Updated_By INT,&#xD;&#xA;&#x9;@P_Primary_Key CHAR(2) OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWOptional].[States]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[States].[State]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[States].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[States].[Status_SeqID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[States].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[States].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[States].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[States].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWOptional]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWOptional].[UK_ZGWOptional_Zip_Codes]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWOptional].[Zip_Codes].[State]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWOptional].[Zip_Codes].[Zip_Code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWOptional].[Zip_Codes].[City]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWOptional].[Zip_Codes]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWOptional].[Zip_Codes]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Zip_Codes].[State]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Zip_Codes].[Zip_Code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Zip_Codes].[Area_Code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Zip_Codes].[City]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWOptional].[Zip_Codes].[Time_Zone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWOptional]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[ZGWSecurity]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Accounts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Account_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Account]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Email]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Enable_Notifications]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Is_System_Admin]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Status_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Password_Last_Set]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Password]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Failed_Attempts]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[First_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Last_Login]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Last_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Location]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Middle_Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Prefered_Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Time_Zone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Accounts].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Account]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting [ZGWSecurity].[Delete_Account]'
	-- DELETE an existing row from the table.
	DELETE FROM ZGWSecurity.Accounts
	WHERE
		Account_SeqID = @P_Account_SeqID
	IF @P_Debug = 1 PRINT 'Ending [ZGWSecurity].[Delete_Account]'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account].[@P_Account_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account].[@P_Account_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="394" />
				<Property Name="Length" Value="768" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec  ZGWSecurity.Delete_Account&#xD;&#xA;&#x9;&#x9;@P_Account_SeqID ,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from [ZGWSecurity].[Accounts]&#xD;&#xA;--&#x9;given the Account_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Account]&#xD;&#xA;&#x9;@P_Account_SeqID int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Account_Groups]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	IF @P_Debug = 1 PRINT 'Starting [ZGWSecurity].[Delete_Account_Groups]'
	DELETE FROM 
		ZGWSecurity.Groups_Security_Entities_Accounts 
	WHERE 
		Groups_Security_Entities_SeqID IN(SELECT Groups_Security_Entities_SeqID FROM ZGWSecurity.Groups_Security_Entities WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID)
		AND Account_SeqID = @P_Account_SeqID
	IF @P_Debug = 1 PRINT 'Ending [ZGWSecurity].[Delete_Account_Groups]'
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account_Groups].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account_Groups].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account_Groups].[@P_Account_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account_Groups].[@P_Account_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account_Groups].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account_Groups].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="518" />
				<Property Name="Length" Value="1105" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#x9;INT = 1,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode int&#xD;&#xA;&#xD;&#xA;&#x9;exec  ZGWSecurity.Delete_Account_Groups&#xD;&#xA;&#x9;&#x9;@P_Account_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Groups_Security_Entities_Accounts &#xD;&#xA;--&#x9;given the Account_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Account_Groups]&#xD;&#xA;&#x9;@P_Account_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID&#x9;INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Account_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	IF @P_Debug = 1 PRINT 'Start [ZGWSecurity].[Delete_Account_Roles]'
	DELETE FROM 
		ZGWSecurity.Roles_Security_Entities_Accounts 
	WHERE 
		Roles_Security_Entities_SeqID IN(SELECT Roles_Security_Entities_SeqID FROM ZGWSecurity.Roles_Security_Entities WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID)
		AND Account_SeqID = @P_Account_SeqID
	SELECT @P_ErrorCode = @@error
	IF @P_Debug = 1 PRINT 'End [ZGWSecurity].[Delete_Account_Roles]'
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account_Roles].[@P_Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account_Roles].[@P_ErrorCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account_Roles].[@P_Account_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account_Roles].[@P_ErrorCode]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Account_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="514" />
				<Property Name="Length" Value="1147" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#x9;INT = 1,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode int&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Delete_Account_Roles&#xD;&#xA;&#x9;&#x9;@P_Account_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Roles_Security_Entities_Accounts&#xD;&#xA;--&#x9;given the Account_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Account_Roles]&#xD;&#xA;&#x9;@P_Account_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID&#x9;INT,&#xD;&#xA;&#x9;@P_ErrorCode INT OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Entity]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Start [ZGWSecurity].[Delete_Entity]'
	DELETE FROM ZGWSecurity.Security_Entities
	WHERE
		Security_Entity_SeqID = @P_Security_Entity_SeqID
	IF @P_Debug = 1 PRINT 'End [ZGWSecurity].[Delete_Entity]'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Entity].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Entity].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Entity].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Entity].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="423" />
				<Property Name="Length" Value="760" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Delete_Function&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID ,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/08/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Security_Entities&#xD;&#xA;--&#x9;given the Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Entity]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Function]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Delete_Function'
	-- DELETE an existing row from the table.
	DELETE FROM ZGWSecurity.Functions WHERE	Function_SeqID = @P_Function_SeqID
	-- Get the Error Code for the statement just executed.
	SELECT @P_ErrorCode=@@ERROR
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Delete_Function'
	RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function].[@P_ErrorCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function].[@P_ErrorCode]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="398" />
				<Property Name="Length" Value="881" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode int&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Delete_Function&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID ,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Functions&#xD;&#xA;--&#x9;given the Function_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Function]&#xD;&#xA;&#x9;@P_Function_SeqID int,&#xD;&#xA;&#x9;@P_ErrorCode int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Function_Groups]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Delete_Function_Groups'
	DELETE FROM 
		ZGWSecurity.Groups_Security_Entities_Functions
	WHERE 
		Groups_Security_Entities_SeqID IN(SELECT Groups_Security_Entities_SeqID FROM ZGWSecurity.Groups_Security_Entities WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID)
		AND Function_SeqID = @P_Function_SeqID
		AND Permissions_NVP_Detail_SeqID = @P_Permissions_NVP_Detail_SeqID
	SELECT @P_ErrorCode = @@error
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Delete_Function_Groups'
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Groups].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Groups].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Groups].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Groups].[@P_Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Groups].[@P_ErrorCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Groups].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Groups].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Groups].[@P_Permissions_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Groups].[@P_ErrorCode]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Groups].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="644" />
				<Property Name="Length" Value="1397" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#x9;INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Delete_Function_Groups&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode OUT,&#xD;&#xA;&#x9;&#x9;@P_Debug BIT&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Groups_Security_Entities_Functions &#xD;&#xA;--&#x9;given the Function_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Function_Groups]&#xD;&#xA;&#x9;@P_Function_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID&#x9;INT,&#xD;&#xA;&#x9;@P_Permissions_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_ErrorCode INT OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Function_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Delete_Function_Roles'
	DELETE FROM ZGWSecurity.Roles_Security_Entities_Functions
	WHERE 
		Roles_Security_Entities_SeqID IN(SELECT Roles_Security_Entities_SeqID FROM ZGWSecurity.Roles_Security_Entities WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID)
		AND Function_SeqID = @P_Function_SeqID
		AND Permissions_NVP_Detail_SeqID = @P_Permissions_NVP_Detail_SeqID
	SELECT @P_ErrorCode = @@error
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Delete_Function_Groups'
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Roles].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Roles].[@P_Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Roles].[@P_ErrorCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Roles].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Roles].[@P_Permissions_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Roles].[@P_ErrorCode]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Function_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="642" />
				<Property Name="Length" Value="1385" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#x9;INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Delete_Function_Groups&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode OUT,&#xD;&#xA;&#x9;&#x9;@P_Debug BIT&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Roles_Security_Entities_Functions&#xD;&#xA;--&#x9;given the Function_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Function_Roles]&#xD;&#xA;&#x9;@P_Function_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Permissions_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_ErrorCode INT OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Group]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Delete_Group'
	/*
	NOTE : ** CASCADE DELETE SHOULD BE TURNED ON IN
		ZGWSecurity.Groups_Security_Entities FOR THIS TO WORK ELSE
		THIS MIGHT THROW AN ERROR
		**** 
	*/
	DECLARE @GROUP_COUNT INT
	BEGIN TRANSACTION
		BEGIN -- DELETE GROUP FROM ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities
			IF @P_Debug = 1 PRINT 'Deleting rows from ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities'
			DELETE ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities
			WHERE (Groups_Security_Entities_SeqID = 
						(SELECT 
							Groups_Security_Entities_SeqID 
						FROM 
							ZGWSecurity.Groups_Security_Entities 
						WHERE 
							Group_SeqID=@P_Group_SeqID 
							AND Security_Entity_SeqID = @P_Security_Entity_SeqID
						)
					)
		END 

		BEGIN -- DELETE GROUP FROM ZGWSecurity.Groups_Security_Entities
			IF @P_Debug = 1 PRINT 'Deleting rows from ZGWSecurity.Groups_Security_Entities'
			DELETE ZGWSecurity.Groups_Security_Entities
			WHERE (
				Group_SeqID = @P_Group_SeqID AND
				Security_Entity_SeqID = @P_Security_Entity_SeqID
				   )
		END
		
		BEGIN -- DELETE GROUP FROM ZGWSecurity.Groups_Security_Entities
			SET @GROUP_COUNT = (SELECT COUNT(*) FROM
						ZGWSecurity.Groups,
						ZGWSecurity.Groups_Security_Entities
						WHERE
						ZGWSecurity.Groups.Group_SeqID = ZGWSecurity.Groups_Security_Entities.Group_SeqID
						AND ZGWSecurity.Groups.Group_SeqID = @P_Group_SeqID)
			-- PRINT @GROUP_COUNT -- for debug
			IF @GROUP_COUNT = 0
				IF @P_Debug = 1 PRINT 'Role is not used by other entites'
				BEGIN
					DELETE ZGWSecurity.Groups
					WHERE (Group_SeqID = @P_Group_SeqID)
				END
			-- END IF
		END --  DELETE GROUP FROM ZGWSecurity.Groups
	IF @@ERROR <> 0
	 BEGIN
		-- Rollback the transaction
		ROLLBACK

		-- Raise an error and return
		RAISERROR ('Error in deleting group.', 16, 1)
		RETURN
	 END
	COMMIT
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Delete_Group'
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group].[@P_Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="480" />
				<Property Name="Length" Value="2650" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Group_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#x9;INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Delete_Function_Groups&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Groups&#xD;&#xA;--&#x9;given the Group_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Group]&#xD;&#xA;&#x9;@P_Group_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Group_Accounts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Begin [ZGWSecurity].[Delete_Group_Accounts]'
	DELETE
		ZGWSecurity.Groups_Security_Entities_Accounts
	WHERE
		Groups_Security_Entities_SeqID IN (
			SELECT 
				Groups_Security_Entities_SeqID 
			FROM 
				ZGWSecurity.Groups_Security_Entities 
			WHERE 
				Group_SeqID = @P_Group_SeqID 
				AND Security_Entity_SeqID = @P_Security_Entity_SeqID
		)
	IF @P_Debug = 1 PRINT 'End [ZGWSecurity].[Delete_Group_Accounts]'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group_Accounts].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group_Accounts].[@P_Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group_Accounts].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group_Accounts].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group_Accounts].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group_Accounts].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="481" />
				<Property Name="Length" Value="1082" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Group_SeqID AS INT = 2,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec  [ZGWSecurity].[Delete_Group_Accounts]&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/03/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Groups_Security_Entities_Accounts&#xD;&#xA;--&#x9;given theGroup_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Group_Accounts]&#xD;&#xA;&#x9;@P_Group_SeqID AS INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Group_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Begin [ZGWSecurity].[Delete_Group_Roles]'
	DELETE
		ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities
	WHERE
		Groups_Security_Entities_SeqID IN (SELECT Groups_Security_Entities_SeqID 
					FROM ZGWSecurity.Groups_Security_Entities 
					WHERE Security_Entity_SeqID=@P_Security_Entity_SeqID
					AND Group_SeqID = @P_Group_SeqID)
	IF @P_Debug = 1 PRINT 'End [ZGWSecurity].[Delete_Group_Roles]'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group_Roles].[@P_Group_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group_Roles].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Group_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="522" />
				<Property Name="Length" Value="1098" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Group_SeqID int = 4,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#x9;INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Delete_Function_Groups&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/29/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities&#xD;&#xA;--&#x9;given the Group_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Group_Roles]&#xD;&#xA;&#x9;@P_Group_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Groups_Accounts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Begin [ZGWSecurity].[Delete_Groups_Accounts]'
	DELETE
		ZGWSecurity.Groups_Security_Entities_Accounts
	WHERE
		Groups_Security_Entities_SeqID IN (
			SELECT 
				Groups_Security_Entities_SeqID 
			FROM 
				ZGWSecurity.Groups_Security_Entities 
			WHERE 
				Groups_Security_Entities_SeqID = @P_Groups_Security_Entities_SeqID 
				AND Security_Entity_SeqID = @P_Security_Entity_SeqID
		)
	IF @P_Debug = 1 PRINT 'Begin [ZGWSecurity].[Delete_Groups_Accounts]'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Groups_Accounts].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Groups_Accounts].[@P_Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Groups_Accounts].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Groups_Accounts].[@P_Groups_Security_Entities_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Groups_Accounts].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Groups_Accounts].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="540" />
				<Property Name="Length" Value="1203" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Groups_Security_Entities_SeqID AS INT = 2,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec  [ZGWSecurity].[Delete_Groups_Accounts]&#xD;&#xA;&#x9;&#x9;@P_Groups_Security_Entities_SeqID&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/03/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Groups_Security_Entities_Accounts&#xD;&#xA;--&#x9;given the Groups_Security_Entities_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Groups_Accounts]&#xD;&#xA;&#x9;@P_Groups_Security_Entities_SeqID AS INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Role]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Delete_Role'
	/*
	NOTE : ** CASCADE DELETE SHOULD BE TURNED ON IN
		ZGWSecurity.Roles_Security_Entities FOR THIS TO WORK ELSE
		THIS MIGHT THROW AN ERROR
		**** 
	*/
	DECLARE @V_Roles_SeqID INT
			
	SET @V_Roles_SeqID = (SELECT Role_SeqID FROM ZGWSecurity.Roles WHERE [NAME] = @P_Name)

	BEGIN TRANSACTION
		BEGIN -- DELETE ROLE FROM Groups_Security_Entities_Roles_Security_Entities
			/*
				Note:  This should not be necessary ... cascade delete and triggers should
				handle this and deleting the record from ZGWSecurity.Roles should be sufficient
				... this would be "overkill" and or for other datastores that
				don't support cascade delete or triggers.
				... no i don't know of one off hand and yes i know this is for sql server :)
			*/
			IF @P_Debug = 1 PRINT 'Deleting roles from ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities'
			DELETE ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities
			WHERE (Roles_Security_Entities_SeqID = 
						(SELECT 
							Roles_Security_Entities_SeqID 
						FROM 
							ZGWSecurity.Roles_Security_Entities 
						WHERE 
							Role_SeqID = @V_Roles_SeqID
							AND Security_Entity_SeqID = @P_Security_Entity_SeqID
						)
					)
		END 

		BEGIN -- DELETE ROLE FROM ZGWSecurity.Roles_Security_Entities
			IF @P_Debug = 1 PRINT 'Deleting roles from ZGWSecurity.Roles_Security_Entities'
			DELETE ZGWSecurity.Roles_Security_Entities
			WHERE (
				Role_SeqID= @V_Roles_SeqID AND
				Security_Entity_SeqID = @P_Security_Entity_SeqID
				   )
		END 
		BEGIN -- Delete the role from ZGWSecurity.Roles if no other entites are using the role
			IF @P_Debug = 1 PRINT 'Deleting role from ZGWSecurity.Roles'
			IF (SELECT COUNT(*) FROM
				ZGWSecurity.Roles Roles,
				ZGWSecurity.Roles_Security_Entities RoleEntities
				WHERE
				Roles.Role_SeqID = RoleEntities.Role_SeqID
				AND Roles.Role_SeqID = @V_Roles_SeqID) = 0
			BEGIN
				IF @P_Debug = 1 PRINT 'Role is not used by other entites'
				DELETE ZGWSecurity.Roles
				WHERE (Role_SeqID = @V_Roles_SeqID)
			END
		END
	IF @@ERROR <> 0
	 BEGIN
		-- Rollback the transaction
		ROLLBACK
		-- Raise an error and return
		RAISERROR ('Error in deleting role in ZGWSecurity.Roles.', 16, 1)
		RETURN 1
	 END
	COMMIT
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Delete_Role'
	RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Role].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Role].[@P_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Role].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Role].[@P_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Role].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Role].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="569" />
				<Property Name="Length" Value="3101" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Name AS VARCHAR(50) = 'MyRole',&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Delete_Role&#xD;&#xA;&#x9;&#x9;@P_Name&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/03/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Roles,&#xD;&#xA;--&#x9;0 to x records from ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities and ZGWSecurity.Roles_Security_Entities&#xD;&#xA;--&#x9;given the roles name and the Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Role]&#xD;&#xA;&#x9;@P_Name VARCHAR (50),&#xD;&#xA;&#x9;@P_Security_Entity_SeqID&#x9;INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Delete_Roles_Security_Entities_Accounts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting [ZGWSecurity].[Delete_Roles_Security_Entities_Accounts]'
	DELETE
		ZGWSecurity.Roles_Security_Entities_Accounts
	WHERE
		Roles_Security_Entities_SeqID IN (
			SELECT 
				Roles_Security_Entities_SeqID 
			FROM 
				ZGWSecurity.Roles_Security_Entities 
			WHERE 
				Role_SeqID = @P_Role_SeqID 
				AND Security_Entity_SeqID = @P_Security_Entity_SeqID
		)
	IF @P_Debug = 1 PRINT 'Ending [ZGWSecurity].[Delete_Roles_Security_Entities_Accounts]'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Roles_Security_Entities_Accounts].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Roles_Security_Entities_Accounts].[@P_Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Roles_Security_Entities_Accounts].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Roles_Security_Entities_Accounts].[@P_Role_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Roles_Security_Entities_Accounts].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Delete_Roles_Security_Entities_Accounts].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="516" />
				<Property Name="Length" Value="1170" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Role_SeqID AS INT = 2,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec  [ZGWSecurity].[Delete_Roles_Security_Entities_Accounts]&#xD;&#xA;&#x9;&#x9;@P_Role_SeqID&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/04/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSecurity.Roles_Security_Entities_Accounts&#xD;&#xA;--&#x9;given the Groups_Security_Entities_SeqID and Security_Entity_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Delete_Roles_Security_Entities_Accounts]&#xD;&#xA;&#x9;@P_Role_SeqID AS INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_Accounts_ADDED_BY]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_By]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_Accounts_ADDED_DATE]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_Accounts_IS_SYSTEM_ADMIN]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Is_System_Admin]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_Accounts_LAST_LOGIN]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Login]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_Accounts_PASSWORD_LAST_SET]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password_Last_Set]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_Groups_Security_Entities_Groups_Added_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWCoreWeb_Function_Types_Added_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Functions_ADDED_DATE]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Functions_ENABLE_NOTIFICATIONS]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Enable_Notifications]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Functions_NO_UI]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[No_UI]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Functions_REDIRECT_ON_TIMEOUT]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Redirect_On_Timeout]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Functions_SORT_ORDER]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Sort_Order]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Groups_Security_Entities_Accounts_Added_By]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Added_By]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Groups_Security_Entities_Accounts_Added_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Groups_Security_Entities_Permissions_Added_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Roles_ADDED_BY]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((2))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Added_By]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Roles_ADDED_DATE]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Roles_IS_SYSTEM_ONLY]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System_Only]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Roles_Security_Entities_Accounts_ADDED_BY]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Added_By]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Roles_Security_Entities_Accounts_ADDED_DATE]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSecurity].[DF_ZGWSecurity_Roles_Security_Entities_Functions_Added_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Accounts_Statuses]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Entities_Statuses]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Functions_Function_Types]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_Type_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Function_Type_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Functions_Functions]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Functions_Navigation_Types]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Navigation_Types_NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Accounts_Accounts]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Accounts_Groups_Security_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Functions_Functions]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Functions_Groups_Security_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Functions_Permissions]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Groups_Groups]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Group_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Groups_Groups_Security_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Roles_Security_Entities_Groups_Security_Entities]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Groups_Security_Entities_Roles_Security_Entities_Roles_Security_Entities]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Permissions_Name_Value_Pairs]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Accounts_Accounts]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Accounts_Roles_Security_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Functions_Functions]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Functions_Permissions]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Functions_Roles_Security_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Permissions_Permissions]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Permissions_Roles_Security_Entities]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_Roles_Security_Entities_Roles]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_ZFC_SECURITY_NVP_GRPS_ZFC_PERMISSIONS]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_ZGWSecurity_Groups_Security_Entities_Permissions_ZGWSecurity_Groups_Security_Entities]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_ZGWSecurity_Groups_Security_Entities_Permissions_ZGWSystem_Name_Value_Pairs]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_ZGWSecurity_Groups_Security_Entities_ZGWSecurity_Groups]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_ZGWSecurity_Navigation_Types_ZGWSystem_Name_Value_Pairs]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_ZGWSecurity_Navigation_Types_ZGWSystem_Statuses]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSecurity].[FK_ZGWSecurity_Permissions_ZGWSystem_Statuses]">
			<Property Name="OnUpdateAction" Value="1" />
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Function_Types]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Function_Type_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Template]">
						<Property Name="IsSparse" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Is_Content]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Function_Types].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Functions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Function_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Function_Type_SeqID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Source]">
						<Property Name="IsSparse" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Enable_View_State]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Enable_Notifications]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Redirect_On_Timeout]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Is_Nav]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Link_Behavior]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[No_UI]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Navigation_Types_NVP_Detail_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Meta_Key_Words]">
						<Property Name="IsSparse" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Action]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Parent_SeqID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Notes]">
						<Property Name="IsSparse" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Sort_Order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Functions].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Account]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	-- SELECT all rows from the table.
	IF LEN(RTRIM(LTRIM(@P_Account))) = 0
		BEGIN
			IF @P_Is_System_Admin = 1
				BEGIN
					IF @P_Debug = 1 PRINT 'Selecting all accounts'
					SELECT
						Account_SeqID AS ACCT_SEQ_ID
						, Account AS ACCT
						, Email
						, Enable_Notifications
						, Is_System_Admin
						, Status_SeqID AS STATUS_SEQ_ID
						, Password_Last_Set
						, [Password] AS PWD
						, Failed_Attempts
						, First_Name
						, Last_Login
						, Last_Name
						, Location
						, Middle_Name
						, Prefered_Name
						, Time_Zone
						, Added_By
						, Added_Date
						, Updated_By
						, Updated_Date
					FROM
						[ZGWSecurity].[Accounts] WITH(NOLOCK)
					ORDER BY 
						[Account] ASC
				END
			ELSE
				BEGIN
					IF @P_Debug = 1 PRINT 'Selecting all accounts for Entity ' + CONVERT(VARCHAR(MAX),@P_Security_Entity_SeqID)
					DECLARE @V_Accounts TABLE (
						Account_SeqID INT
						, Account VARCHAR(100)
						, Email VARCHAR(100)
						, Enable_Notifications BIT
						, Is_System_Admin INT
						, Status_SeqID INT
						, Password_Last_Set DATETIME
						, [Password] VARCHAR(256)
						, Failed_Attempts INT
						, First_Name VARCHAR(30)
						, Last_Login DATETIME
						, Last_Name VARCHAR(30)
						, Location VARCHAR(100)
						, Middle_Name VARCHAR(30)
						, Prefered_Name VARCHAR(100)
						, Time_Zone INT
						, Added_By INT
						, Added_Date DATETIME
						, Updated_By INT
						, Updated_Date DATETIME)
					INSERT INTO @V_Accounts
					SELECT -- Roles via roles
						Accounts.Account_SeqID
						, Accounts.Account
						, Accounts.Email
						, Accounts.Enable_Notifications
						, Accounts.Is_System_Admin
						, Accounts.Status_SeqID
						, Accounts.Password_Last_Set
						, Accounts.[Password]
						, Accounts.Failed_Attempts
						, Accounts.First_Name
						, Accounts.Last_Login
						, Accounts.Last_Name
						, Accounts.Location
						, Accounts.Middle_Name
						, Accounts.Prefered_Name
						, Accounts.Time_Zone
						, Accounts.Added_By
						, Accounts.Added_Date
						, Accounts.Updated_By
						, Accounts.Updated_Date
					FROM
						ZGWSecurity.Accounts AS Accounts WITH(NOLOCK),
						ZGWSecurity.Roles_Security_Entities_Accounts WITH(NOLOCK),
						ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
						ZGWSecurity.Roles WITH(NOLOCK)
					WHERE
						Roles_Security_Entities_Accounts.Account_SeqID = Accounts.Account_SeqID
						AND Roles_Security_Entities_Accounts.Roles_Security_Entities_SeqID = Roles_Security_Entities.Roles_Security_Entities_SeqID
						AND Roles_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
						AND Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
					UNION
					SELECT -- Roles via groups
						Accounts.Account_SeqID
						, Accounts.Account
						, Accounts.Email
						, Accounts.Enable_Notifications
						, Accounts.Is_System_Admin
						, Accounts.Status_SeqID
						, Accounts.Password_Last_Set
						, Accounts.[Password]
						, Accounts.Failed_Attempts
						, Accounts.First_Name
						, Accounts.Last_Login
						, Accounts.Last_Name
						, Accounts.Location
						, Accounts.Middle_Name
						, Accounts.Prefered_Name
						, Accounts.Time_Zone
						, Accounts.Added_By
						, Accounts.Added_Date
						, Accounts.Updated_By
						, Accounts.Updated_Date
					FROM
						ZGWSecurity.Accounts AS Accounts WITH(NOLOCK),
						ZGWSecurity.Groups_Security_Entities_Accounts WITH(NOLOCK),
						ZGWSecurity.Groups_Security_Entities WITH(NOLOCK),
						ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities WITH(NOLOCK),
						ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
						ZGWSecurity.Roles WITH(NOLOCK)
					WHERE
						ZGWSecurity.Groups_Security_Entities_Accounts.Account_SeqID = Accounts.Account_SeqID
						AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
						AND ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Groups_Security_Entities_SeqID
						AND Roles_Security_Entities.Roles_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Roles_Security_Entities_SeqID
						AND Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
				
					SELECT DISTINCT
						Account_SeqID AS ACCT_SEQ_ID
						, Account AS ACCT
						, Email
						, Enable_Notifications
						, Is_System_Admin
						, Status_SeqID AS STATUS_SEQ_ID
						, Password_Last_Set
						, [Password] AS PWD
						, Failed_Attempts
						, First_Name
						, Last_Login
						, Last_Name
						, Location
						, Middle_Name
						, Prefered_Name
						, Time_Zone
						, Added_By
						, Added_Date
						, Updated_By
						, Updated_Date					
					FROM 
						@V_Accounts
					ORDER BY
						Account
				END
			-- END IF
		END
	ELSE
		BEGIN
			SET NOCOUNT ON
			IF @P_Debug = 1 PRINT 'Selecting single account'
			-- SELECT an existing row from the table.
			SELECT
				Account_SeqID AS ACCT_SEQ_ID
				, Account AS ACCT
				, Email
				, Enable_Notifications
				, Is_System_Admin
				, Status_SeqID AS STATUS_SEQ_ID
				, Password_Last_Set
				, [Password] AS PWD
				, Failed_Attempts
				, First_Name
				, Last_Login
				, Last_Name
				, Location
				, Middle_Name
				, Prefered_Name
				, Time_Zone
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM ZGWSecurity.Accounts WITH(NOLOCK)
			WHERE
				[Account] = @P_Account
		END
	-- END IF
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@P_Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Email]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password_Last_Set]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Failed_Attempts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[First_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Login]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Location]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Middle_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Prefered_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Time_Zone]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Updated_Date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Email]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password_Last_Set]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Failed_Attempts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[First_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Login]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Location]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Middle_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Prefered_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Time_Zone]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Email]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password_Last_Set]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Failed_Attempts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[First_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Login]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Location]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Middle_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Prefered_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Time_Zone]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Email]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Password_Last_Set]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Failed_Attempts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[First_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Last_Login]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Last_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Location]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Middle_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Prefered_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Time_Zone]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSecurity].[Get_Account].[@V_Accounts]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Account_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Account]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Email]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Enable_Notifications]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Is_System_Admin]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Status_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Password_Last_Set]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Password]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Failed_Attempts]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[First_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Last_Login]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Last_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Location]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Middle_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Prefered_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Time_Zone]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Added_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Added_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Updated_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Account].[@V_Accounts].[Updated_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account].[@P_Is_System_Admin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="526" />
				<Property Name="Length" Value="6532" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Is_System_Admin INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec  ZGWSecurity.Get_Account&#xD;&#xA;&#x9;&#x9;@P_Is_System_Admin,&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/08/2011&#xD;&#xA;-- Description:&#x9;Selects 1 or all records from ZGWSecurity.Get_Account&#xD;&#xA;--&#x9;from ZGWSecurity.Accounts&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Account]&#xD;&#xA;&#x9;@P_Is_System_Admin INT,&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Account_Groups]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SELECT
		ZGWSecurity.Groups.[Name] AS Groups
	FROM
		ZGWSecurity.Accounts WITH(NOLOCK),
		ZGWSecurity.Groups_Security_Entities_Accounts WITH(NOLOCK),
		ZGWSecurity.Groups_Security_Entities WITH(NOLOCK),
		ZGWSecurity.Groups WITH(NOLOCK)
	WHERE
		ZGWSecurity.Accounts.Account = @P_Account
		AND ZGWSecurity.Accounts.Account_SeqID = ZGWSecurity.Groups_Security_Entities_Accounts.Account_SeqID
		AND ZGWSecurity.Groups_Security_Entities_Accounts.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID
		AND ZGWSecurity.Groups_Security_Entities.Group_SeqID = ZGWSecurity.Groups.Group_SeqID
		AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
	ORDER BY
		GROUPS

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account_Groups].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account_Groups].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Groups].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Groups].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Groups].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="444" />
				<Property Name="Length" Value="1365" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Account_Groups&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/09/2011&#xD;&#xA;-- Description:&#x9;Selects all groups for a given Account and Entity&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Account_Groups]&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Account_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SELECT
		ZGWSecurity.Roles.[NAME] AS Roles
	FROM
		ZGWSecurity.Accounts WITH(NOLOCK),
		ZGWSecurity.Roles_Security_Entities_Accounts WITH(NOLOCK),
		ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
		ZGWSecurity.Roles WITH(NOLOCK)
	WHERE
		ZGWSecurity.Accounts.Account = @P_Account
		AND ZGWSecurity.Accounts.Account_SeqID = ZGWSecurity.Roles_Security_Entities_Accounts.Account_SeqID
		AND ZGWSecurity.Roles_Security_Entities_Accounts.Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
		AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
		AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
	ORDER BY
		ROLES

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account_Roles].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Roles].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="443" />
				<Property Name="Length" Value="1347" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Account_Roles&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/09/2011&#xD;&#xA;-- Description:&#x9;Selects all groups for a given Account and Entity&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Account_Roles]&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Account_Security]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SELECT
		ZGWSecurity.Roles.[Name] AS Roles
	FROM
		ZGWSecurity.Accounts WITH(NOLOCK),
		ZGWSecurity.Roles_Security_Entities_Accounts WITH(NOLOCK),
		ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
		ZGWSecurity.Roles WITH(NOLOCK)
	WHERE
		ZGWSecurity.Accounts.Account = @P_Account
		AND ZGWSecurity.Roles_Security_Entities_Accounts.Account_SeqID = ZGWSecurity.Accounts.Account_SeqID
		AND ZGWSecurity.Roles_Security_Entities_Accounts.Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
		AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
		AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
	UNION
	SELECT
		ZGWSecurity.Roles.[Name] AS Roles
	FROM
		ZGWSecurity.Accounts WITH(NOLOCK),
		ZGWSecurity.Groups_Security_Entities_Accounts WITH(NOLOCK),
		ZGWSecurity.Groups_Security_Entities WITH(NOLOCK),
		ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities WITH(NOLOCK),
		ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
		ZGWSecurity.Roles WITH(NOLOCK)
	WHERE
		ZGWSecurity.Accounts.Account = @P_Account
		AND ZGWSecurity.Groups_Security_Entities_Accounts.Account_SeqID = ZGWSecurity.Accounts.Account_SeqID
		AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
		AND ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Groups_Security_Entities_SeqID
		AND ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Roles_Security_Entities_SeqID
		AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
	ORDER BY
		Roles
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account_Security].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Account_Security].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Security].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Security].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Account_Security].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="456" />
				<Property Name="Length" Value="2554" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Account_Security&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/09/2011&#xD;&#xA;-- Description:&#x9;Selects all derived roles given the account&#xD;&#xA;--&#x9;and Entity.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Account_Security]&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Accounts_In_Group]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Accounts_In_Group'
	SELECT
		Accounts.Account AS ACCT
	FROM
		ZGWSecurity.Accounts Accounts WITH(NOLOCK),
		ZGWSecurity.Groups_Security_Entities_Accounts AcctSecurity WITH(NOLOCK),
		ZGWSecurity.Groups_Security_Entities Security WITH(NOLOCK),
		ZGWSecurity.Groups Groups WITH(NOLOCK)
	WHERE
		Accounts.Account_SeqID = AcctSecurity.Account_SeqID
		AND AcctSecurity.Groups_Security_Entities_SeqID = Security.Groups_Security_Entities_SeqID
		AND Security.Group_SeqID = Groups.Group_SeqID
		AND Accounts.Status_SeqID <> 2
		AND Groups.Group_SeqID = @P_Group_SeqID
		AND Security.Security_Entity_SeqID = @P_Security_Entity_SeqID
	ORDER BY
		Accounts.Account
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Accounts_In_Group'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_In_Group].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_In_Group].[@P_Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_In_Group].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_In_Group].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_In_Group].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_In_Group].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="470" />
				<Property Name="Length" Value="1416" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Accounts_In_Group&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/10/2011&#xD;&#xA;-- Description:&#x9;Selects all accounts in a group&#xD;&#xA;--&#x9;given the Security_Entity_SeqID and Group_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Accounts_In_Group]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Group_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Accounts_In_Role]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Accounts_In_Role'
	SELECT
		Accounts.Account AS ACCT 
	FROM
		ZGWSecurity.Accounts Accounts WITH(NOLOCK),
		ZGWSecurity.Roles_Security_Entities_Accounts AcctSecurity WITH(NOLOCK),
		ZGWSecurity.Roles_Security_Entities [Security] WITH(NOLOCK),
		ZGWSecurity.Roles Roles WITH(NOLOCK)
	WHERE
		Accounts.Account_SeqID = AcctSecurity.Account_SeqID
		AND AcctSecurity.Roles_Security_Entities_SeqID = Security.Roles_Security_Entities_SeqID
		AND [Security].Role_SeqID = Roles.Role_SeqID
		AND Accounts.Status_SeqID <> 2
		AND Roles.Role_SeqID = @P_Role_SeqID
		AND [Security].Security_Entity_SeqID = @P_Security_Entity_SeqID
	ORDER BY
		Accounts.Account
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Accounts_In_Role'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_In_Role].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_In_Role].[@P_Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_In_Role].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_In_Role].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_In_Role].[@P_Role_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_In_Role].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="465" />
				<Property Name="Length" Value="1385" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Role_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Accounts_In_Role&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Role_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/09/2011&#xD;&#xA;-- Description:&#x9;Selects all accounts in a role&#xD;&#xA;--&#x9;given the Security_Entity_SeqID and Role_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Accounts_In_Role]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Role_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Accounts_Not_In_Group]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Accounts_In_Group'
	SELECT
		Accounts.Account AS ACCT
	FROM
		Accounts
	WHERE
		Account NOT IN(SELECT
						Accounts.Account
					FROM
						ZGWSecurity.Accounts Accounts WITH(NOLOCK),
						ZGWSecurity.Groups_Security_Entities_Accounts AcctSecurity WITH(NOLOCK),
						ZGWSecurity.Groups_Security_Entities [Security] WITH(NOLOCK),
						ZGWSecurity.Groups Groups WITH(NOLOCK)
					WHERE
						Accounts.Account_SeqID = AcctSecurity.Account_SeqID
						AND AcctSecurity.Groups_Security_Entities_SeqID = Security.Groups_Security_Entities_SeqID
						AND Security.Group_SeqID = Groups.Group_SeqID
						AND Accounts.Status_SeqID <> 2
						AND Groups.Group_SeqID = @P_Group_SeqID
						AND [Security].Security_Entity_SeqID = @P_Security_Entity_SeqID
					)
	ORDER BY
		Accounts.Account
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Accounts_In_Group'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_Not_In_Group].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_Not_In_Group].[@P_Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_Not_In_Group].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_Not_In_Group].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_Not_In_Group].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_Not_In_Group].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="594" />
				<Property Name="Length" Value="1680" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Accounts_Not_In_Group&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/09/2011&#xD;&#xA;-- Description:&#x9;Selects all accounts not in a group&#xD;&#xA;--&#x9;given the Security_Entity_SeqID and Group_SeqID&#xD;&#xA;-- Note: This should not be needed by the CoreWebApplication anymore&#xD;&#xA;--&#x9;and was left for others that may need it.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Accounts_Not_In_Group]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Group_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Accounts_Not_In_Role]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Accounts_In_Role'
	SELECT
		Accounts.Account AS ACCT
	FROM
		Accounts
	WHERE
		Account NOT IN(
					SELECT
						Accounts.Account
					FROM
						ZGWSecurity.Accounts Accounts WITH(NOLOCK),
						ZGWSecurity.Roles_Security_Entities_Accounts AcctSecurity WITH(NOLOCK),
						ZGWSecurity.Roles_Security_Entities [Security] WITH(NOLOCK),
						ZGWSecurity.Roles Roles WITH(NOLOCK)
					WHERE
						Accounts.Account_SeqID = AcctSecurity.Account_SeqID
						AND AcctSecurity.Roles_Security_Entities_SeqID = Security.Roles_Security_Entities_SeqID
						AND [Security].Role_SeqID = Roles.Role_SeqID
						AND Accounts.Status_SeqID <> 2
						AND Roles.Role_SeqID = @P_Role_SeqID
						AND [Security].Security_Entity_SeqID = @P_Security_Entity_SeqID
					)
	ORDER BY
		Accounts.Account
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Accounts_In_Role'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_Not_In_Role].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_Not_In_Role].[@P_Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Accounts_Not_In_Role].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_Not_In_Role].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_Not_In_Role].[@P_Role_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Accounts_Not_In_Role].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="589" />
				<Property Name="Length" Value="1668" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Role_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Accounts_Not_In_Role&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Role_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/11/2011&#xD;&#xA;-- Description:&#x9;Selects all accounts not in a role&#xD;&#xA;--&#x9;given the Security_Entity_SeqID and Role_SeqID&#xD;&#xA;-- Note: This should not be needed by the CoreWebApplication anymore&#xD;&#xA;--&#x9;and was left for others that may need it.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Accounts_Not_In_Role]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Role_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[ZGWSecurity].[Get_Default_Entity_ID]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @V_Retval INT = (SELECT TOP 1 Security_Entity_SeqID FROM ZGWSecurity.Security_Entities ORDER BY Security_Entity_SeqID ASC)
	RETURN @V_Retval
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="236" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [ZGWSecurity].[Get_Default_Entity_ID]()&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100MultiStatementTableValuedFunction" Name="[ZGWSecurity].[Get_Entity_Parents]">
			<Property Name="ReturnTableVariable" Value="@retParents" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Inheritance_Enabled]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[@P_IncludeParent]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Parent_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Default_Entity_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Default_Entity_ID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Entity_Parents].[PARENT_Security_Entity_SeqID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	IF (ZGWSystem.Inheritance_Enabled()=1)
		BEGIN
			IF (@P_IncludeParent=1)
				BEGIN
					INSERT INTO @retParents
						SELECT Security_Entity_SeqID, Parent_Security_Entity_SeqID
						FROM ZGWSecurity.Security_Entities WHERE Security_Entity_SeqID=@P_Security_Entity_SeqID
				END
			-- END IF
			IF (@P_Security_Entity_SeqID=0 or @P_Security_Entity_SeqID=ZGWSecurity.Get_Default_Entity_ID()) RETURN
			DECLARE @Report_ID int, @Report_ParentID int
			DECLARE RetrieveReports CURSOR STATIC LOCAL FOR
				SELECT  Security_Entity_SeqID,  Parent_Security_Entity_SeqID
				FROM ZGWSecurity.Security_Entities WHERE Security_Entity_SeqID=@P_Security_Entity_SeqID
			OPEN RetrieveReports
				FETCH NEXT FROM RetrieveReports
				INTO @Report_ID,  @Report_ParentID
				WHILE (@@FETCH_STATUS = 0)
					BEGIN
						INSERT INTO @retParents SELECT * FROM ZGWSecurity.Get_Entity_Parents(1, @Report_ParentID)
						FETCH NEXT FROM RetrieveReports INTO @Report_ID, @Report_ParentID
					END
			CLOSE RetrieveReports
			DEALLOCATE RetrieveReports
			RETURN
		END
	ELSE
		BEGIN
			INSERT INTO @retParents VALUES(ZGWSecurity.Get_Default_Entity_ID(),1)
			INSERT INTO @retParents VALUES(@P_Security_Entity_SeqID,1)
		END
	-- END IF
RETURN

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="762" />
							<Property Name="Length" Value="2242" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE @P_Security_Entity_SeqID INT = 1&#xD;&#xA;&#x9;SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(0,@P_Security_Entity_SeqID)&#xD;&#xA;&#x9;SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID)&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/18/2011&#xD;&#xA;-- Description: Returns all &quot;Parent&quot; Secutriy_Entity_SeqID's&#xD;&#xA;--&#x9;Given the Security_Entity_SeqID &#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;Works through recursion and should be changed&#xD;&#xA;--&#x9;to use CTE, however due to constratins i'm leaving&#xD;&#xA;--&#x9;this close to the orginial and will attempt&#xD;&#xA;--&#x9;to change this later after the bulk of development&#xD;&#xA;--&#x9;has been completed.  (if i remember)&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [ZGWSecurity].[Get_Entity_Parents]&#xD;&#xA;(&#xD;&#xA;&#x9;@P_IncludeParent bit, &#xD;&#xA;&#x9;@P_Security_Entity_SeqID int&#xD;&#xA;)&#xD;&#xA;RETURNS @retParents TABLE &#xD;&#xA;(&#xD;&#xA;&#x9;Security_Entity_SeqID int, &#xD;&#xA;&#x9;PARENT_Security_Entity_SeqID int&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Entity_Parents].[@P_IncludeParent]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Entity_Parents].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Function]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Function'
	IF @P_Function_SeqID <> -1
		BEGIN -- SELECT an existing row from the table.
			IF @P_Debug = 1 PRINT 'Selecting single record'
			SELECT
				Function_SeqID AS FUNCTION_SEQ_ID
				, [Name]
				, [Description]
				, Function_Type_SeqID AS FUNCTION_TYPE_SEQ_ID
				, [Source]
				, Enable_View_State
				, Enable_Notifications
				, Redirect_On_Timeout
				, Is_Nav
				, Link_Behavior
				, No_UI
				, Navigation_Types_NVP_Detail_SeqID AS NAVIGATION_NVP_SEQ_DET_ID
				, Meta_Key_Words
				, [Action]
				, Parent_SeqID AS PARENT_FUNCTION_SEQ_ID
				, Notes
				, Sort_Order
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWSecurity.Functions WITH(NOLOCK)
			WHERE
				Function_SeqID = @P_Function_SeqID
			ORDER BY 
				[Name] ASC
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Selecting all records'
			SELECT
				Function_SeqID AS FUNCTION_SEQ_ID
				, [Name]
				, [Description]
				, Function_Type_SeqID AS FUNCTION_TYPE_SEQ_ID
				, [Source]
				, Enable_View_State
				, Enable_Notifications
				, Redirect_On_Timeout
				, Is_Nav
				, Link_Behavior
				, No_UI
				, Navigation_Types_NVP_Detail_SeqID AS NAVIGATION_NVP_SEQ_DET_ID
				, Meta_Key_Words
				, [Action]
				, Parent_SeqID AS PARENT_FUNCTION_SEQ_ID
				, Notes
				, Sort_Order
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWSecurity.Functions WITH(NOLOCK)
			ORDER BY 
				[Name] ASC
		END
	-- END IF
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Function'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Source]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Enable_View_State]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Redirect_On_Timeout]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Is_Nav]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Link_Behavior]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[No_UI]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Navigation_Types_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Meta_Key_Words]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Notes]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Sort_Order]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="427" />
				<Property Name="Length" Value="2173" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT = 1&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Function&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/12/2011&#xD;&#xA;-- Description:&#x9;Selects function given&#xD;&#xA;--&#x9;the Function_SeqID. When Function_SeqID = -1&#xD;&#xA;--&#x9;all rows in the table are retruned.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Function]&#xD;&#xA;&#x9;@P_Function_SeqID int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Function_Groups]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Function_Groups'
	IF @P_Function_SeqID > 0
		BEGIN
			SELECT
				ZGWSecurity.Groups.[NAME] AS Groups
			FROM
				ZGWSecurity.Functions WITH(NOLOCK),
				ZGWSecurity.Groups_Security_Entities_Functions WITH(NOLOCK),
				ZGWSecurity.Groups_Security_Entities WITH(NOLOCK),
				ZGWSecurity.Groups WITH(NOLOCK)
			WHERE
				ZGWSecurity.Functions.Function_SeqID = @P_Function_SeqID
				AND ZGWSecurity.Functions.Function_SeqID = ZGWSecurity.Groups_Security_Entities_Functions.Function_SeqID
				AND ZGWSecurity.Groups_Security_Entities_Functions.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID
				AND ZGWSecurity.Groups_Security_Entities_Functions.Permissions_NVP_Detail_SeqID = @P_Permissions_SeqID
				AND ZGWSecurity.Groups_Security_Entities.Group_SeqID = ZGWSecurity.Groups.Group_SeqID
				AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
			ORDER BY
				Groups
		END
	ELSE
		BEGIN
			SELECT
				ZGWSecurity.Functions.Function_SeqID AS 'FUNCTION_SEQ_ID'
				,ZGWSecurity.Groups_Security_Entities_Functions.Permissions_NVP_Detail_SeqID AS 'PERMISSIONS_SEQ_ID'
				,ZGWSecurity.Groups.[NAME] AS [Group]
			FROM
				ZGWSecurity.Functions WITH(NOLOCK),
				ZGWSecurity.Groups_Security_Entities_Functions WITH(NOLOCK),
				ZGWSecurity.Groups_Security_Entities WITH(NOLOCK),
				ZGWSecurity.Groups WITH(NOLOCK)
			WHERE
				ZGWSecurity.Functions.Function_SeqID = ZGWSecurity.Groups_Security_Entities_Functions.Function_SeqID
				AND ZGWSecurity.Groups_Security_Entities_Functions.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID
				AND ZGWSecurity.Groups_Security_Entities.Group_SeqID = ZGWSecurity.Groups.Group_SeqID
				AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
			ORDER BY
				FUNCTION_SEQ_ID
				, PERMISSIONS_SEQ_ID
				, [Group]
		END
	--END IF
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Function_Groups'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Groups].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Groups].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Groups].[@P_Permissions_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Groups].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Groups].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Groups].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Groups].[@P_Permissions_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Groups].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="518" />
				<Property Name="Length" Value="2801" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Permissions_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Function_Groups&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Permissions_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/12/2011&#xD;&#xA;-- Description:&#x9;Selects groups given the security entity&#xD;&#xA;--&#x9;function and permission.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Function_Groups]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Function_SeqID INT,&#xD;&#xA;&#x9;@P_Permissions_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Function_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Function_Roles'
	IF @P_Function_SeqID > 0
		BEGIN
			SELECT
				ZGWSecurity.Roles.[NAME] AS Roles
			FROM
				ZGWSecurity.Functions WITH(NOLOCK),
				ZGWSecurity.Roles_Security_Entities_Functions WITH(NOLOCK),
				ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
				ZGWSecurity.Roles WITH(NOLOCK)
			WHERE
				ZGWSecurity.Functions.Function_SeqID = @P_Function_SeqID
				AND ZGWSecurity.Functions.Function_SeqID = ZGWSecurity.Roles_Security_Entities_Functions.Function_SeqID
				AND ZGWSecurity.Roles_Security_Entities_Functions.Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
				AND ZGWSecurity.Roles_Security_Entities_Functions.Permissions_NVP_Detail_SeqID = @P_Permissions_SeqID
				AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
				AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
			ORDER BY
				Roles
		END
	ELSE
		BEGIN
			SELECT
				ZGWSecurity.Functions.Function_SeqID AS 'Function_Seq_ID'
				,ZGWSecurity.Roles_Security_Entities_Functions.Permissions_NVP_Detail_SeqID AS 'PERMISSIONS_SEQ_ID'
				,ZGWSecurity.Roles.[NAME] AS Role
			FROM
				ZGWSecurity.Functions WITH(NOLOCK),
				ZGWSecurity.Roles_Security_Entities_Functions WITH(NOLOCK),
				ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
				ZGWSecurity.Roles WITH(NOLOCK)
			WHERE
				ZGWSecurity.Functions.Function_SeqID = ZGWSecurity.Roles_Security_Entities_Functions.Function_SeqID
				AND ZGWSecurity.Roles_Security_Entities_Functions.Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
				AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
				AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
			ORDER BY
				ZGWSecurity.Functions.Function_SeqID
				,ZGWSecurity.Roles_Security_Entities_Functions.Permissions_NVP_Detail_SeqID
		END
	--END IF
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Function_Roles'

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Roles].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Roles].[@P_Permissions_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Roles].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Roles].[@P_Permissions_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="515" />
				<Property Name="Length" Value="2821" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Permissions_SeqID INT = 1&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Function_Roles&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Permissions_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/15/2011&#xD;&#xA;-- Description:&#x9;Selects roles given the security entity&#xD;&#xA;--&#x9;function and permission.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Function_Roles]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Function_SeqID INT,&#xD;&#xA;&#x9;@P_Permissions_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Function_Security]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Function_Security'
	DECLARE @V_AvalibleItems TABLE (FUNCTION_SEQ_ID INT, PERMISSIONS_SEQ_ID INT, ROLE VARCHAR(50))
	INSERT INTO @V_AvalibleItems
		SELECT DISTINCT -- Directly assigned Roles
			Functions.Function_SeqID,
			[Permissions].NVP_Detail_SeqID,
			Roles.[NAME] AS [ROLE]
		FROM
			ZGWSecurity.Roles_Security_Entities Roles_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Roles Roles WITH(NOLOCK),
			ZGWSecurity.Roles_Security_Entities_Functions [Security] WITH(NOLOCK),
			ZGWSecurity.Functions WITH(NOLOCK),
			ZGWSecurity.[Permissions] WITH(NOLOCK)
		WHERE
			Roles_Security_Entities.Role_SeqID = Roles.Role_SeqID
			AND [Security].Roles_Security_Entities_SeqID = Roles_Security_Entities.Roles_Security_Entities_SeqID
			AND [Security].Function_SeqID = [FUNCTIONS].Function_SeqID
			AND [Permissions].NVP_Detail_SeqID = SECURITY.Permissions_NVP_Detail_SeqID
			AND Roles_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
		UNION
		SELECT DISTINCT -- Roles assigned via groups
			Functions.Function_SeqID,
			[Permissions].NVP_Detail_SeqID,
			Roles.[NAME] AS [ROLE]
		FROM
			ZGWSecurity.Groups_Security_Entities_Functions WITH(NOLOCK),
			ZGWSecurity.Groups_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Roles Roles,
			ZGWSecurity.Functions WITH(NOLOCK),
			ZGWSecurity.[Permissions] WITH(NOLOCK)
		WHERE
			ZGWSecurity.Groups_Security_Entities_Functions.Function_SeqID = [FUNCTIONS].Function_SeqID
			AND ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Functions.Groups_Security_Entities_SeqID
			AND ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID
			AND ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Roles_Security_Entities_SeqID
			AND Roles.Role_SeqID = ZGWSecurity.Roles_Security_Entities.Role_SeqID
			AND [Permissions].NVP_Detail_SeqID = ZGWSecurity.Groups_Security_Entities_Functions.Permissions_NVP_Detail_SeqID
			AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))

	IF (SELECT COUNT(*) FROM @V_AvalibleItems) > 0
		BEGIN
			SELECT
				*			
			FROM 
				@V_AvalibleItems
			ORDER BY
				FUNCTION_SEQ_ID
				,[ROLE]

			EXEC ZGWSecurity.Get_Function_Roles @P_Security_Entity_SeqID, -1, -1, @P_Debug

			EXEC ZGWSecurity.Get_Function_Groups @P_Security_Entity_SeqID, -1, -1, @P_Debug

		END
	ELSE
		BEGIN
			IF @P_Debug = 1 
				BEGIN
					PRINT 'No Security Information was not found '
					PRINT 'Now settings the Parent_Security_Entity_SeqID '
					PRINT 'the defaul Security_Entity and executing '
					PRINT 'ZGWSecurity.Get_Function_Security'
				END
			--END IF
			UPDATE ZGWSecurity.Security_Entities
				SET 
					Parent_Security_Entity_SeqID = ZGWSecurity.Get_Default_Entity_ID()
				WHERE
					Security_Entity_SeqID = @P_Security_Entity_SeqID
			EXEC ZGWSecurity.Get_Function_Security @P_Security_Entity_SeqID, NULL
		END
	-- END IF
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Function_Security'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Security].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Security].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Security].[@V_AvalibleItems].[FUNCTION_SEQ_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Security].[@V_AvalibleItems].[ROLE]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Parent_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Default_Entity_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Security]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSecurity].[Get_Function_Security].[@V_AvalibleItems]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Function_Security].[@V_AvalibleItems].[FUNCTION_SEQ_ID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Function_Security].[@V_AvalibleItems].[PERMISSIONS_SEQ_ID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Function_Security].[@V_AvalibleItems].[ROLE]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Security].[@P_Security_Entity_SeqID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[-1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Security].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="609" />
				<Property Name="Length" Value="4294" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Function_Security&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/18/2011&#xD;&#xA;-- Description:&#x9;Returns all Roles for all functions&#xD;&#xA;--&#x9;given the Security_Entity_SeqID and NVP_Detail_SeqID from&#xD;&#xA;--&#x9;ZGWSecurity.Permissions or Permissions_NVP_Detail_SeqID&#xD;&#xA;--&#x9;from ZGWSecurity.Groups_Security_Entities_Functions and &#xD;&#xA;--&#x9;ZGWSecurity.Roles_Security_Entities_Functions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Function_Security]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID int = -1,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Function_Sort]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	DECLARE @V_Parent_ID INT
	DECLARE @V_NAV_TYPE_ID INT
	SET @V_Parent_ID = (SELECT Parent_SeqID FROM ZGWSecurity.Functions WHERE Function_SeqID = @P_Function_SeqID)
	SET @V_NAV_TYPE_ID = (SELECT Navigation_Types_NVP_Detail_SeqID FROM ZGWSecurity.Functions WHERE Function_SeqID = @P_Function_SeqID)
	SELECT
		Function_SeqID as FUNCTION_SEQ_ID,
		[NAME],
		[ACTION],
		SORT_ORDER
	FROM
		ZGWSecurity.Functions WITH(NOLOCK)
	WHERE
		Parent_SeqID = @V_PARENT_ID
		AND IS_NAV = 1
		AND Navigation_Types_NVP_Detail_SeqID = @V_NAV_TYPE_ID
	ORDER BY
		SORT_ORDER ASC

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Sort].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Navigation_Types_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Sort_Order]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Is_Nav]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Navigation_Types_NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Sort].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Sort].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="408" />
				<Property Name="Length" Value="1110" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Function_Sort&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/15/2011&#xD;&#xA;-- Description:&#x9;Returns sorted function information&#xD;&#xA;--&#x9;for related functions given the funtion_seqid&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Function_Sort]&#xD;&#xA;&#x9;@P_Function_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Function_Types]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Function_Types'
	IF @P_Function_Type_SeqID = -1
		BEGIN
			IF @P_Debug = -1 PRINT 'Seleting all Function_Types'
			SELECT
				Function_Type_SeqID as FUNCTION_TYPE_SEQ_ID
				, Name
				, [Description]
				, Template
				, Is_Content
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWSecurity.Function_Types WITH(NOLOCK)
			ORDER BY
				[Name]
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Seleting single Function_Type'
			SELECT
				Function_Type_SeqID as FUNCTION_TYPE_SEQ_ID
				, Name
				, [Description]
				, Template
				, Is_Content
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWSecurity.Function_Types WITH(NOLOCK)
			WHERE
				Function_Type_SeqID = @P_Function_Type_SeqID
		END
	--END IF
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Function_Types'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Types].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Function_Types].[@P_Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Template]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Is_Content]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Types].[@P_Function_Type_SeqID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[-1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Function_Types].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="350" />
				<Property Name="Length" Value="1405" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Function_Types&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/16/2011&#xD;&#xA;-- Description:&#x9;Returns all function types&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Function_Types]&#xD;&#xA;&#x9;@P_Function_Type_SeqID int = -1,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Group]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Group'
	
	IF @P_Group_SeqID > -1
		BEGIN
			IF @P_Debug = 1 PRINT 'SELECT an existing row from the table.'
			SELECT
				ZGWSecurity.Groups.Group_SeqID as GROUP_SEQ_ID
				, ZGWSecurity.Groups.Name
				, ZGWSecurity.Groups.[Description]
				, ZGWSecurity.Groups.Added_By
				, ZGWSecurity.Groups.Added_Date
				, ZGWSecurity.Groups.Updated_By
				, ZGWSecurity.Groups.Updated_Date
			FROM
				ZGWSecurity.Groups WITH(NOLOCK)
			WHERE
				Group_SeqID = @P_Group_SeqID

		END
	ELSE --
		BEGIN
			IF @P_Debug = 1 PRINT 'Getting all groups for a given Security Entity'
			SELECT
				ZGWSecurity.Groups.Group_SeqID as GROUP_SEQ_ID
				, ZGWSecurity.Groups.Name
				, ZGWSecurity.Groups.[Description]
				, ZGWSecurity.Groups.Added_By
				, ZGWSecurity.Groups.Added_Date
				, ZGWSecurity.Groups.Updated_By
				, ZGWSecurity.Groups.Updated_Date
			FROM
				ZGWSecurity.Groups WITH(NOLOCK),
				ZGWSecurity.Groups_Security_Entities WITH(NOLOCK)
			WHERE
				ZGWSecurity.Groups.Group_SeqID = ZGWSecurity.Groups_Security_Entities.Group_SeqID
				AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
			ORDER BY
				ZGWSecurity.Groups.Name
		END
	-- END IF		
	
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Group'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Group].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Group].[@P_Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Group].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Group].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Group].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Group].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="519" />
				<Property Name="Length" Value="2004" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID AS INT,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Group&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/18/2011&#xD;&#xA;-- Description:&#x9;Retrieves one or more groups given the &#xD;&#xA;--&#x9;Security_Entity_SeqID and Group_SeqID.&#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;If Group_SeqID is -1 all groups will be returned.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Group]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;@P_Group_SeqID AS INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Group_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Group_Roles'

	SELECT 
		[NAME] AS [Role] 
	FROM 
		ZGWSecurity.Roles WITH(NOLOCK) 
	WHERE 
		Role_SeqID IN 
			(SELECT 
				Role_SeqID 
			FROM 
				ZGWSecurity.Roles_Security_Entities WITH(NOLOCK) 
			WHERE 
				Roles_Security_Entities_SeqID IN 
				(SELECT 
					Roles_Security_Entities_SeqID 
				FROM 
					ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities WITH(NOLOCK) 
				WHERE Groups_Security_Entities_SeqID IN 
					(SELECT 
						Groups_Security_Entities_SeqID 
					FROM 
						ZGWSecurity.Groups_Security_Entities WITH(NOLOCK) 
					WHERE 
						Security_Entity_SeqID = @P_Security_Entity_SeqID AND Group_SeqID = @P_Group_SeqID)))
	ORDER BY
		[Role]

	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Group_Roles'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Group_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Group_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Group_Roles].[@P_Group_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Group_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Group_Roles].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Group_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="444" />
				<Property Name="Length" Value="1415" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID AS INT,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Group_Roles&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/18/2011&#xD;&#xA;-- Description:&#x9;Retrievs all roles given the &#xD;&#xA;--&#x9;group id and secruity entity id&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Group_Roles]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;@P_Group_SeqID AS INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Menu_Data]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	DECLARE @V_PERMISSION_ID INT
	SET @V_PERMISSION_ID = ZGWSecurity.Get_View_Permission_SeqID()
	DECLARE @V_AvalibleItems TABLE ([ID] INT, 
									TITLE VARCHAR(30), 
									[DESCRIPTION] VARCHAR(256), 
									URL VARCHAR(256), 
									PARENT INT, 
									SORT_ORDER INT, 
									ROLE VARCHAR(50),
									Function_Type_SeqID INT)
	INSERT INTO @V_AvalibleItems
		SELECT -- Menu items via roles
			[FUNCTIONS].Function_SeqID AS [ID],
			[FUNCTIONS].[NAME] AS TITLE,
			[FUNCTIONS].[DESCRIPTION],
			[FUNCTIONS].[ACTION] AS URL,
			[FUNCTIONS].Parent_SeqID AS PARENT,
			[FUNCTIONS].SORT_ORDER AS SORT_ORDER,
			ROLES.[NAME] AS ROLE,
			[FUNCTIONS].Function_Type_SeqID
		FROM
			ZGWSecurity.Roles_Security_Entities SE_ROLES WITH(NOLOCK),
			ZGWSecurity.Roles ROLES WITH(NOLOCK),
			ZGWSecurity.Roles_Security_Entities_Functions [SECURITY] WITH(NOLOCK),
			ZGWSecurity.Functions [FUNCTIONS] WITH(NOLOCK),
			ZGWSecurity.Permissions [Permissions] WITH(NOLOCK)
		WHERE
			SE_ROLES.Role_SeqID = ROLES.Role_SeqID
			AND [SECURITY].Roles_Security_Entities_SeqID = SE_ROLES.Roles_Security_Entities_SeqID
			AND [SECURITY].Function_SeqID = [FUNCTIONS].Function_SeqID
			AND [Permissions].NVP_Detail_SeqID = SECURITY.Permissions_NVP_Detail_SeqID
			AND [Permissions].NVP_Detail_SeqID = @V_PERMISSION_ID
			AND [FUNCTIONS].Navigation_Types_NVP_Detail_SeqID = @P_Navigation_Types_NVP_Detail_SeqID
			AND [FUNCTIONS].IS_NAV = 1
			AND SE_ROLES.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
		UNION ALL
		SELECT -- Menu items via groups
			[FUNCTIONS].Function_SeqID AS [ID],
			[FUNCTIONS].[NAME] AS TITLE,
			[FUNCTIONS].[DESCRIPTION],
			[FUNCTIONS].[ACTION] AS URL,
			[FUNCTIONS].Parent_SeqID AS PARENT,
			[FUNCTIONS].SORT_ORDER AS SORT_ORDER,
			ROLES.[NAME] AS ROLE,
			[FUNCTIONS].Function_Type_SeqID
		FROM
			ZGWSecurity.Groups_Security_Entities_Functions WITH(NOLOCK),
			ZGWSecurity.Groups_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Roles ROLES WITH(NOLOCK),
			ZGWSecurity.Functions [FUNCTIONS] WITH(NOLOCK),
			ZGWSecurity.[Permissions] [Permissions] WITH(NOLOCK)
		WHERE
			ZGWSecurity.Groups_Security_Entities_Functions.Function_SeqID = [FUNCTIONS].Function_SeqID
			AND ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Functions.Groups_Security_Entities_SeqID
			AND ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID
			AND ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Roles_Security_Entities_SeqID
			AND ROLES.Role_SeqID = ZGWSecurity.Roles_Security_Entities.Role_SeqID
			AND [Permissions].NVP_Detail_SeqID = ZGWSecurity.Groups_Security_Entities_Functions.Permissions_NVP_Detail_SeqID
			AND [Permissions].NVP_Detail_SeqID = @V_PERMISSION_ID
			AND [FUNCTIONS].Navigation_Types_NVP_Detail_SeqID = @P_Navigation_Types_NVP_Detail_SeqID
			AND [FUNCTIONS].IS_NAV = 1
			AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))

	--SELECT * FROM @V_AvalibleMenuItems -- DEBUG

	DECLARE @V_AccountRoles TABLE (Roles VARCHAR(30)) -- Roles belonging to the account
	INSERT INTO @V_AccountRoles
		SELECT -- Roles via roles
			ZGWSecurity.Roles.[NAME] AS Roles
		FROM
			ZGWSecurity.Accounts WITH(NOLOCK),
			ZGWSecurity.Roles_Security_Entities_Accounts WITH(NOLOCK),
			ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Roles WITH(NOLOCK)
		WHERE
			ZGWSecurity.Accounts.Account = @P_Account
			AND ZGWSecurity.Roles_Security_Entities_Accounts.Account_SeqID = ZGWSecurity.Accounts.Account_SeqID
			AND ZGWSecurity.Roles_Security_Entities_Accounts.Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
			AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
			AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
		UNION
		SELECT -- Roles via groups
			ZGWSecurity.Roles.[NAME] AS Roles
		FROM
			ZGWSecurity.Accounts WITH(NOLOCK),
			ZGWSecurity.Groups_Security_Entities_Accounts WITH(NOLOCK),
			ZGWSecurity.Groups_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Roles_Security_Entities WITH(NOLOCK),
			ZGWSecurity.Roles WITH(NOLOCK)
		WHERE
			ZGWSecurity.Accounts.Account = @P_Account
			AND ZGWSecurity.Groups_Security_Entities_Accounts.Account_SeqID = ZGWSecurity.Accounts.Account_SeqID
			AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
			AND ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Groups_Security_Entities_SeqID
			AND ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Roles_Security_Entities_SeqID
			AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID

	--SELECT * FROM @V_AccountRoles -- DEBUG
	DECLARE @V_AllMenuItems TABLE ([ID] INT, TITLE VARCHAR(30), [DESCRIPTION] VARCHAR(256), URL VARCHAR(256), PARENT INT, SORT_ORDER INT, ROLE VARCHAR(50),Function_Type_SeqID INT)
	INSERT INTO @V_AllMenuItems
		SELECT -- Last but not least get the menu items when there are matching account roles.
			[ID],
			TITLE,
			[DESCRIPTION],
			URL,
			PARENT,
			SORT_ORDER,
			ROLE,
			Function_Type_SeqID
		FROM 
			@V_AvalibleItems
		WHERE
			ROLE IN (SELECT DISTINCT Roles FROM @V_AccountRoles)

	DECLARE @V_DistinctItems TABLE ([ID] INT, TITLE VARCHAR(30), [DESCRIPTION] VARCHAR(256), URL VARCHAR(256), PARENT INT, SORT_ORDER INT, Function_Type_SeqID INT)
	INSERT INTO @V_DistinctItems
		SELECT DISTINCT
			[ID],
			Title,
			[Description],
			URL,
			Parent,
			Sort_Order,
			Function_Type_SeqID
		FROM
			@V_AllMenuItems

	SELECT
		ID as MenuID,
		TITLE,
		[DESCRIPTION],
		URL,                                                                                                                                                                                                                                                              
		PARENT as ParentID,
		SORT_ORDER,
		Function_Type_SeqID as FUNCTION_TYPE_SEQ_ID
	FROM
		@V_DistinctItems
	ORDER BY
		Sort_Order


RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_View_Permission_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Sort_Order]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Navigation_Types_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@P_Navigation_Types_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Is_Nav]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Sort_Order]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Navigation_Types_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Is_Nav]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[TITLE]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[DESCRIPTION]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[URL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[PARENT]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[SORT_ORDER]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[ROLE]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AccountRoles].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[TITLE]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[DESCRIPTION]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[URL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[PARENT]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[SORT_ORDER]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[TITLE]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[DESCRIPTION]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[URL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[PARENT]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[SORT_ORDER]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[SORT_ORDER]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[ID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[TITLE]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[DESCRIPTION]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[URL]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[PARENT]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[SORT_ORDER]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[ROLE]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AvalibleItems].[Function_Type_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AccountRoles]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AccountRoles].[Roles]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[ID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[TITLE]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[DESCRIPTION]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[URL]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[PARENT]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[SORT_ORDER]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[ROLE]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_AllMenuItems].[Function_Type_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[ID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[TITLE]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[DESCRIPTION]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[URL]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[PARENT]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[SORT_ORDER]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Menu_Data].[@V_DistinctItems].[Function_Type_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Menu_Data].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Menu_Data].[@P_Navigation_Types_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Menu_Data].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Menu_Data].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="564" />
				<Property Name="Length" Value="7740" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;&#x9;@P_Navigation_Types_NVP_Detail_SeqID AS INT,&#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Menu_Data&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Navigation_Types_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/18/2011&#xD;&#xA;-- Description:&#x9;Retrieves menu data given the&#xD;&#xA;--&#x9;Account, Security Entity ID and the Navigation type.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Menu_Data]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Navigation_Types_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Debug INT = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Name_Value_Pair_Groups]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Start Get_Name_Value_Pair_Groups'
	SELECT
		ZGWSecurity.Groups.[NAME] AS GROUPS
	FROM
		ZGWSecurity.Groups_Security_Entities_Permissions,
		ZGWSecurity.Groups_Security_Entities,
		ZGWSecurity.Groups
	WHERE
		ZGWSecurity.Groups_Security_Entities_Permissions.NVP_SeqID = @P_NVP_SeqID
		AND ZGWSecurity.Groups_Security_Entities_Permissions.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID
		AND ZGWSecurity.Groups_Security_Entities.Group_SeqID = ZGWSecurity.Groups.Group_SeqID
		AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
	ORDER BY
		GROUPS
	IF @P_Debug = 1 PRINT 'End Get_Name_Value_Pair_Groups'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Name_Value_Pair_Groups].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Name_Value_Pair_Groups].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Name_Value_Pair_Groups].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Name_Value_Pair_Groups].[@P_NVP_SeqID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Name_Value_Pair_Groups].[@P_Security_Entity_SeqID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Name_Value_Pair_Groups].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="439" />
				<Property Name="Length" Value="1343" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Name_Value_Pair_Groups&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/22/2011&#xD;&#xA;-- Description:&#x9;Returns groups associated with&#xD;&#xA;--&#x9;Name Value Pairs &#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Name_Value_Pair_Groups]&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Name_Value_Pair_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Start Get_Name_Value_Pair_Roles'
	SELECT
		ZGWSecurity.Roles.[NAME] AS ROLES
	FROM
		ZGWSecurity.Roles_Security_Entities_Permissions,
		ZGWSecurity.Roles_Security_Entities,
		ZGWSecurity.Roles
	WHERE
		ZGWSecurity.Roles_Security_Entities_Permissions.NVP_SeqID = @P_NVP_SeqID
		AND ZGWSecurity.Roles_Security_Entities_Permissions.Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
		AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
		AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
	ORDER BY
		ROLES
	IF @P_Debug = 1 PRINT 'Start Get_Name_Value_Pair_Roles'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Name_Value_Pair_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Name_Value_Pair_Roles].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Name_Value_Pair_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Name_Value_Pair_Roles].[@P_NVP_SeqID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Name_Value_Pair_Roles].[@P_Security_Entity_SeqID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Name_Value_Pair_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="437" />
				<Property Name="Length" Value="1324" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Name_Value_Pair_Roles&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/22/2011&#xD;&#xA;-- Description:&#x9;Returns roles associated with&#xD;&#xA;--&#x9;Name Value Pairs &#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Name_Value_Pair_Roles]&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Navigation_Types]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SELECT
		NVP_Detail_SeqID AS NVP_SEQ_DET_ID
		, NVP_SeqID AS NVP_SEQ_ID
		, NVP_Detail_Name AS NVP_DET_VALUE
		, NVP_Detail_Value AS NVP_DET_TEXT
		, Status_SeqID AS STATUS_SEQ_ID
		, Sort_Order
		, Added_By
		, Added_Date
		, Updated_By
		, Updated_Date
	FROM
		ZGWSecurity.Navigation_Types
	ORDER BY
		NVP_Detail_Name

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_Value]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[Sort_Order]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="257" />
				<Property Name="Length" Value="679" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Navigation_Types&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/19/2011&#xD;&#xA;-- Description:&#x9;Returns all navigation types&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Navigation_Types]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Role]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Start ZGWSecurity.Get_Role and SELECT an existing row from the table.'
	IF @P_Role_SeqID > -1 -- SELECT an existing row from the table.
		SELECT
			ZGWSecurity.Roles.[Role_SeqID] AS ROLE_SEQ_ID,
			ZGWSecurity.Roles.[Name],
			ZGWSecurity.Roles.[Description],
			ZGWSecurity.Roles.[Is_System],
			ZGWSecurity.Roles.[Is_System_Only],
			ZGWSecurity.Roles.[Added_By],
			ZGWSecurity.Roles.[Added_Date],
			ZGWSecurity.Roles.[Updated_By],
			ZGWSecurity.Roles.[Updated_Date]
		FROM
			ZGWSecurity.Roles
		WHERE
			Role_SeqID = @P_Role_SeqID
	ELSE -- GET ALL ROLES FOR A GIVEN Security Entity
		IF @P_Debug = 1 PRINT 'GET ALL ROLES FOR A GIVEN Security Entity.'
		SELECT
			ZGWSecurity.Roles.[Role_SeqID] AS ROLE_SEQ_ID,
			ZGWSecurity.Roles.[Name],
			ZGWSecurity.Roles.[Description],
			ZGWSecurity.Roles.[Is_System],
			ZGWSecurity.Roles.[Is_System_Only],
			ZGWSecurity.Roles.[Added_By],
			ZGWSecurity.Roles.[Added_Date],
			ZGWSecurity.Roles.[Updated_By],
			ZGWSecurity.Roles.[Updated_Date]
		FROM
			ZGWSecurity.Roles,
			ZGWSecurity.Roles_Security_Entities
		WHERE
			ZGWSecurity.Roles.Role_SeqID = ZGWSecurity.Roles_Security_Entities.Role_SeqID
			AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
		ORDER BY
			ZGWSecurity.Roles.[Name]
	-- END IF		
	IF @P_Debug = 1 PRINT 'End ZGWSecurity.Get_Role'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Role].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Role].[@P_Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System_Only]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System_Only]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Role].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Role].[@P_Role_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Role].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Role].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="499" />
				<Property Name="Length" Value="2050" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Role_SeqID AS INT = -1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Role&#xD;&#xA;&#x9;&#x9;@P_Role_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/18/2011&#xD;&#xA;-- Description:&#x9;Retrieves roles given the&#xD;&#xA;--&#x9;the Role_SeqID and Security_Entity_SeqID&#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;Role_SeqID of -1 returns all roles.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Role]&#xD;&#xA;&#x9;@P_Role_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Security_Entity]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Security_Entity'
	IF @P_Security_Entity_SeqID = -1
		BEGIN
			IF @P_Debug = 1 PRINT 'Getting all Security_Enties'
			SELECT
				Security_Entity_SeqID as SE_SEQ_ID
				, Name
				, [Description]
				, URL
				, Status_SeqID as STATUS_SEQ_ID
				, DAL
				, DAL_Name
				, DAL_Name_Space
				, DAL_String
				, Skin
				, Style
				, Encryption_Type
				, Parent_Security_Entity_SeqID as PARENT_SE_SEQ_ID
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWSecurity.Security_Entities
			ORDER BY 
				NAME ASC
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Getting 1 row from Security_Enties'
			SELECT
				Security_Entity_SeqID as SE_SEQ_ID
				, Name
				, [Description]
				, URL
				, Status_SeqID as STATUS_SEQ_ID
				, DAL
				, DAL_Name
				, DAL_Name_Space
				, DAL_String
				, Skin
				, Style
				, Encryption_Type
				, Parent_Security_Entity_SeqID as PARENT_SE_SEQ_ID
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM 
				ZGWSecurity.Security_Entities
			WHERE
				Security_Entity_SeqID = @P_Security_Entity_SeqID
		END
	--End IF
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Security_Entity'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Get_Security_Entity].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Security_Entity].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[URL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[DAL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[DAL_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[DAL_Name_Space]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[DAL_String]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Skin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Style]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Encryption_Type]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Parent_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Security_Entity].[@P_Security_Entity_SeqID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Security_Entity].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="480" />
				<Property Name="Length" Value="1888" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Security_Entity&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/23/2011&#xD;&#xA;-- Description:&#x9;Retrieves security entity details&#xD;&#xA;--&#x9;given the Security_Entity_SeqID&#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;SeqID value of -1 will return all&#xD;&#xA;--&#x9;security enties.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Security_Entity]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID AS INT = 1,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Get_Valid_Security_Entity]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Valid_Security_Entity'
	DECLARE @V_ACTIVE_STATUS VARCHAR(50)
	DECLARE @T_VALID_SE TABLE (Security_Entity_SeqID INT)
	DECLARE @V_IS_SYS_ADMIN INT
	SET @V_ACTIVE_STATUS = (SELECT [Status_SeqID] FROM ZGWSystem.Statuses WHERE UPPER([Description]) = 'ACTIVE')
	SET @V_IS_SYS_ADMIN = (SELECT IS_SYSTEM_ADMIN FROM ZGWSecurity.Accounts WHERE UPPER(Account) = UPPER(@P_Account))
	IF @V_IS_SYS_ADMIN = 0
		BEGIN
			INSERT INTO @T_VALID_SE
				SELECT -- Security Entitys via roles
					ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID
				FROM
					ZGWSecurity.Accounts,
					ZGWSecurity.Roles_Security_Entities_Accounts,
					ZGWSecurity.Roles_Security_Entities,
					ZGWSecurity.Roles
				WHERE
					ZGWSecurity.Accounts.Account = @P_Account
					AND ZGWSecurity.Roles_Security_Entities_Accounts.Account_SeqID = ZGWSecurity.Accounts.Account_SeqID
					AND ZGWSecurity.Roles_Security_Entities_Accounts.Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
					AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
					AND ZGWSecurity.Roles.IS_SYSTEM_ONLY = 0
				UNION
				SELECT -- Security Entitys via groups
					ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID
				FROM
					ZGWSecurity.Accounts,
					ZGWSecurity.Groups_Security_Entities_Accounts,
					ZGWSecurity.Groups_Security_Entities,
					ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities,
					ZGWSecurity.Roles_Security_Entities,
					ZGWSecurity.Roles
				WHERE
					ZGWSecurity.Accounts.Account = @P_Account
					AND ZGWSecurity.Groups_Security_Entities_Accounts.Account_SeqID = ZGWSecurity.Accounts.Account_SeqID
					AND ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Groups_Security_Entities_SeqID
					AND ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Roles_Security_Entities_SeqID
					AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
				IF @P_IS_SE_ADMIN = 0 -- FALSE
					BEGIN
						SELECT
							Security_Entity_SeqID AS SE_SEQ_ID,
							[Name],
							[Description]
						FROM
							ZGWSecurity.Security_Entities
						WHERE
							ZGWSecurity.Security_Entities.Security_Entity_SeqID IN (SELECT * FROM @T_VALID_SE)
							AND ZGWSecurity.Security_Entities.Status_SeqID = @V_ACTIVE_STATUS
						ORDER BY
							[Name]
					END
				ELSE
					BEGIN
						SELECT
							Security_Entity_SeqID AS SE_SEQ_ID,
							[Name],
							[Description]
						FROM
							ZGWSecurity.Security_Entities
						WHERE
							ZGWSecurity.Security_Entities.Security_Entity_SeqID IN (SELECT * FROM @T_VALID_SE)
							OR ZGWSecurity.Security_Entities.PARENT_Security_Entity_SeqID = @P_Security_Entity_SeqID
						ORDER BY
							[Name]
					END
				-- END IF
		END
	ELSE
		BEGIN
			SELECT
				Security_Entity_SeqID AS SE_SEQ_ID,
				[Name],
				[Description]
			FROM
				ZGWSecurity.Security_Entities
			ORDER BY
				[Name]
		END
	--END IF

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System_Only]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@P_IS_SE_ADMIN]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Parent_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@P_Security_Entity_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@T_VALID_SE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@T_VALID_SE].[Security_Entity_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@P_IS_SE_ADMIN]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Get_Valid_Security_Entity].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="584" />
				<Property Name="Length" Value="3996" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'developer',&#xD;&#xA;&#x9;&#x9;@P_IS_SE_ADMIN INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID AS INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Get_Valid_Security_Entity&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_IS_SE_ADMIN,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/23/2011&#xD;&#xA;-- Description:&#x9;Retrieves valid security entity details&#xD;&#xA;--&#x9;for a given account.&#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;SeqID value of -1 will return all&#xD;&#xA;--&#x9;security enties.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Get_Valid_Security_Entity]&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_IS_SE_ADMIN INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID AS INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[ZGWSecurity].[Get_View_Permission_SeqID]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN 1
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="483" />
							<Property Name="Length" Value="588" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE @V_Permission_ID INT&#xD;&#xA;&#x9;SET @V_Permission_ID = ZGWSecurity.Get_View_Permission_SeqID()&#xD;&#xA;&#x9;PRINT @V_Permission_ID&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/18/2011&#xD;&#xA;-- Description: Returns NVP_Detail_SeqID associated&#xD;&#xA;--&#x9;with the NVP_Detail_Name value = 'view'&#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;Created to allow change in a single location&#xD;&#xA;--&#x9;should the sequence id change.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [ZGWSecurity].[Get_View_Permission_SeqID]&#xD;&#xA;(&#xD;&#xA;&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Groups]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups].[Group_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="9" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Groups_Security_Entities]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities].[ADDED_BY]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities].[ADDED_DATE]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="8" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Groups_Security_Entities_Functions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Groups_Security_Entities_Groups]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Groups_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Group_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Groups_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[NVP_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Navigation_Types]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[NVP_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_Value]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[Status_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[Sort_Order]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Navigation_Types].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Permissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[NVP_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[NVP_Detail_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[NVP_Detail_Value]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[Status_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[SORT_ORDER]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[ADDED_BY]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[ADDED_DATE]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[UPDATED_BY]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Permissions].[UPDATED_DATE]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_Accounts]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_Entities]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_Functions]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_Groups]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_Roles]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_Roles_Security_Entities]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_ZFC_GRPS_SE]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_ZGWCoreWeb_Function_Types]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Function_Types].[Function_Type_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_ZGWSecurity_Navigation_Types]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSecurity].[PK_ZGWSecurity_Permissions]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Roles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Role_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Is_System]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Is_System_Only]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Roles_Security_Entities]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Roles_Security_Entities_Functions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Roles_Security_Entities_Permissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[NVP_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Roles_Security_Entities_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[UIX_Roles_Entites_SeqID_Permissions_NVP_Detail_SeqID]">
			<Property Name="IsUnique" Value="True" />
			<Property Name="IsClustered" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[NVP_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Roles_Security_Entities_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSecurity].[Security_Entities]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[URL]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Status_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[DAL]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[DAL_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[DAL_Name_Space]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[DAL_String]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Skin]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Style]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Encryption_Type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Parent_Security_Entity_SeqID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSecurity].[Security_Entities].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Account]">
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False" AnsiNulls="False"><![CDATA[
	IF @P_Debug = 1 PRINT 'Start Set_Account'
	DECLARE @V_Security_Entity_SeqID VARCHAR(1),
		@V_SE_NAME VARCHAR(50),
		@V_Back_Color VARCHAR(15),
		@V_Left_Color VARCHAR(15),
		@V_Head_Color VARCHAR(15),
		@V_Sub_Head_Color VARCHAR(15),
		@V_Color_Scheme VARCHAR(15),
		@V_Thin_Actions VARCHAR(256),
		@V_Wide_Actions VARCHAR(256),
		@V_Favoriate_Action VARCHAR(25),
		@V_Records_Per_Page VARCHAR(1000),
		@V_Default_Account VARCHAR(50),
		@V_Now DATETIME = GETDATE()
	
	
	IF @P_Account_SeqID > -1
		BEGIN -- UPDATE PROFILE
			IF @P_Debug = 1 PRINT 'UPDATE [ZGWSecurity].[Accounts]'
			UPDATE [ZGWSecurity].[Accounts]
			SET 
				Status_SeqID = @P_Status_SeqID,
				Account = @P_Account,
				First_Name = @P_First_Name,
				Last_Name = @P_Last_Name,
				Middle_Name = @P_Middle_Name,
				Prefered_Name = @P_Prefered_Name,
				Email = @P_Email,
				Password_Last_Set = @P_Password_Last_Set,
				[Password] = @P_Password,
				Failed_Attempts = @P_Failed_Attempts,
				Last_Login = @P_Last_Login,
				Time_Zone = @P_Time_Zone,
				Location = @P_Location,
				Is_System_Admin = @P_Is_System_Admin,
				Enable_Notifications = @P_Enable_Notifications,
				Updated_By = @P_Added_Updated_By,
				Updated_Date = @V_Now
			WHERE
				Account_SeqID = @P_Account_SeqID

		END
	ELSE
		BEGIN -- INSERT a new row in the table.
			SET NOCOUNT ON
			IF @P_Debug = 1 PRINT 'INSERT [ZGWSecurity].[Accounts]'
			INSERT [ZGWSecurity].[Accounts]
			(
				Status_SeqID,
				Account,
				First_Name,
				Last_Name,
				Middle_Name,
				Prefered_Name,
				Email,
				Password_Last_Set,
				[Password],
				FAILED_ATTEMPTS,
				IS_SYSTEM_ADMIN,
				ADDED_BY,
				ADDED_DATE,
				LAST_LOGIN,
				TIME_ZONE,
				Location,
				ENABLE_NOTIFICATIONS
			)
			VALUES
			(
				@P_Status_SeqID,
				@P_Account,
				@P_First_Name,
				@P_Last_Name,
				@P_Middle_Name,
				@P_Prefered_Name,
				@P_Email,
				@P_Password_Last_Set,
				@P_Password,
				@P_Failed_Attempts,
				@P_Is_System_Admin,
				@P_Added_Updated_By,
				@V_Now,
				@P_Last_Login,
				@P_Time_Zone,
				@P_Location,
				@P_Enable_Notifications
			)
			SET @P_Account_SeqID = SCOPE_IDENTITY()
			IF EXISTS (SELECT 1 FROM [ZGWSecurity].[Accounts] WHERE Account_SeqID = @P_Account_SeqID)
			BEGIN
				/*add an entry to account choice table*/
				IF  EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[ZGWCoreWeb].[Account_Choices]') AND OBJECTPROPERTY(id, N'IsUserTable') = 1)		
					BEGIN
						SELECT @V_Default_Account=Account FROM ZGWSecurity.Accounts WHERE Account_SeqID = @P_Added_Updated_By
						
						IF @V_Default_Account = NULL SET @V_Default_Account = 'ANONYMOUS'
						
						IF EXISTS (SELECT 1 FROM [ZGWCoreWeb].Account_Choices WHERE Account = @V_Default_Account)
							BEGIN -- Populate values from Account_Choices from the Anonymous account
								IF @P_Debug = 1 PRINT 'Populating default values from the database for account ' + CONVERT(VARCHAR(MAX),@V_Default_Account)
								SELECT -- FILL THE DEFAULT VALUES
									@V_Security_Entity_SeqID = SE_SEQ_ID,
									@V_SE_NAME = SE_NAME,
									@V_Back_Color = Back_Color,
									@V_Left_Color = Left_Color,
									@V_Head_Color = Head_Color,
									@V_Sub_Head_Color = Sub_Head_Color,
									@V_Color_Scheme = Color_Scheme,
									@V_Favoriate_Action = Favoriate_Action,
									@V_Thin_Actions = Thin_Actions,
									@V_Wide_Actions = Wide_Actions,
									@V_Records_Per_Page = Records_Per_Page
								FROM
									[ZGWCoreWeb].Account_Choices
								WHERE 
									Account = @V_Default_Account
							END
						ELSE
							BEGIN
								IF @P_Debug = 1 PRINT 'Populating default values minimum values'
								SET @V_Security_Entity_SeqID = (SELECT MIN(Security_Entity_SeqID) FROM ZGWSecurity.Security_Entities)
								SET @V_SE_NAME = (SELECT [Name] FROM ZGWSecurity.Security_Entities WHERE Security_Entity_SeqID = @V_Security_Entity_SeqID)
								IF @V_Security_Entity_SeqID = NULL SET @V_Security_Entity_SeqID = 1
								IF @V_SE_NAME = NULL SET @V_SE_NAME = 'System'
							END
						--END IF
						IF @P_Debug = 1 PRINT 'Executing ZGWCoreWeb.Set_Account_Choices'
						EXEC ZGWCoreWeb.Set_Account_Choices
							@P_Account,
							@V_Security_Entity_SeqID,
							@V_SE_NAME,
							@V_Back_Color,
							@V_Left_Color,
							@V_Head_Color,
							@V_Sub_Head_Color,
							@V_Color_Scheme ,
							@V_Favoriate_Action,
							@V_Thin_Actions,
							@V_Wide_Actions,
							@V_Records_Per_Page	
					END
				--END IF
			END
		END-- Get the Error Code for the statement just executed.
	IF @P_Debug = 1 PRINT '@P_Account_SeqID = '
	IF @P_Debug = 1 PRINT @P_Account_SeqID
/* -- GOING BACK TO USING AN OUTPUT PARAMETER.
	SELECT
		Account_SeqID
		, Account
		, Email
		, Enable_Notifications
		, Is_System_Admin
		, Status_SeqID
		, Password_Last_Set
		, Password
		, Failed_Attempts
		, First_Name
		, Last_Login
		, Last_Name
		, Location
		, Middle_Name
		, Prefered_Name
		, Time_Zone
		, Added_By
		, Added_Date
		, Updated_By
		, Updated_Date
	FROM 
		[ZGWSecurity].[Accounts] 
	WHERE 
		Account_SeqID = @P_Account_SeqID
*/
	IF @P_Debug = 1 PRINT 'End Set_Account']]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[First_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_First_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Last_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Middle_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Middle_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Prefered_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Prefered_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Email]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Email]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password_Last_Set]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Password_Last_Set]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Password]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Failed_Attempts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Failed_Attempts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Login]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Last_Login]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Time_Zone]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Time_Zone]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Location]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Location]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Failed_Attempts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Is_System_Admin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Last_Login]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Time_Zone]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sysobjects]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sysobjects].[id]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[SE_SEQ_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[SE_NAME]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Back_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Left_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Head_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Sub_Head_Color]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Color_Scheme]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Favoriate_Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Thin_Actions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Wide_Actions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Records_Per_Page]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Account_Choices].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWCoreWeb].[Set_Account_Choices]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Account_SeqID]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Status_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Middle_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Prefered_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Password_Last_Set]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Failed_Attempts]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Last_Login]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Time_Zone]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Location]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Enable_Notifications]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Is_System_Admin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value QuotedIdentifiers="False" AnsiNulls="False"><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1849" />
				<Property Name="Length" Value="7671" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account_SeqID int = -1,&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'test',&#xD;&#xA;&#x9;&#x9;@P_First_Name VARCHAR(15) = 'test',&#xD;&#xA;&#x9;&#x9;@P_Last_Name VARCHAR(15) = 'test',&#xD;&#xA;&#x9;&#x9;@P_Middle_Name VARCHAR(15) = 'test',&#xD;&#xA;&#x9;&#x9;@P_Prefered_Name VARCHAR(50) = 'test',&#xD;&#xA;&#x9;&#x9;@P_Email VARCHAR(128) = 'test@test.com',&#xD;&#xA;&#x9;&#x9;@P_Password VARCHAR(256) = 'test',&#xD;&#xA;&#x9;&#x9;@P_Password_Last_Set datetime = GETDATE(),&#xD;&#xA;&#x9;&#x9;@P_Failed_Attempts int = 0,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By int = 1,&#xD;&#xA;&#x9;&#x9;@P_Last_Login datetime = GETDATE(),&#xD;&#xA;&#x9;&#x9;@P_Time_Zone int = -5,&#xD;&#xA;&#x9;&#x9;@P_Location VARCHAR(50) = 'desk',&#xD;&#xA;&#x9;&#x9;@P_Enable_Notifications int = 0,&#xD;&#xA;&#x9;&#x9;@P_Is_System_Admin int = 0,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;--Insert new&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Account &#xD;&#xA;&#x9;&#x9;@P_Account_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_First_Name,&#xD;&#xA;&#x9;&#x9;@P_Last_Name,&#xD;&#xA;&#x9;&#x9;@P_Middle_Name,&#xD;&#xA;&#x9;&#x9;@P_Prefered_Name,&#xD;&#xA;&#x9;&#x9;@P_Email,&#xD;&#xA;&#x9;&#x9;@P_Password,&#xD;&#xA;&#x9;&#x9;@P_Password_Last_Set,&#xD;&#xA;&#x9;&#x9;@P_Failed_Attempts,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Last_Login,&#xD;&#xA;&#x9;&#x9;@P_Time_Zone,&#xD;&#xA;&#x9;&#x9;@P_Location,&#xD;&#xA;&#x9;&#x9;@P_Enable_Notifications,&#xD;&#xA;&#x9;&#x9;@P_Is_System_Admin,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;--Update&#xD;&#xA;&#x9;SET @P_Account_SeqID = (SELECT Account_SeqID FROM ZGWSecurity.Accounts WHERE Account = 'test')&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Account&#xD;&#xA;&#x9;&#x9;@P_Account_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_First_Name,&#xD;&#xA;&#x9;&#x9;@P_Last_Name,&#xD;&#xA;&#x9;&#x9;@P_Middle_Name,&#xD;&#xA;&#x9;&#x9;@P_Prefered_Name,&#xD;&#xA;&#x9;&#x9;@P_Email,&#xD;&#xA;&#x9;&#x9;@P_Password,&#xD;&#xA;&#x9;&#x9;@P_Password_Last_Set,&#xD;&#xA;&#x9;&#x9;@P_Failed_Attempts,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Last_Login,&#xD;&#xA;&#x9;&#x9;@P_Time_Zone,&#xD;&#xA;&#x9;&#x9;@P_Location,&#xD;&#xA;&#x9;&#x9;@P_Enable_Notifications,&#xD;&#xA;&#x9;&#x9;@P_Is_System_Admin,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/26/2011&#xD;&#xA;-- Description:&#x9;Inserts/Updates [ZGWSystem].[Account]&#xD;&#xA;--&#x9;@P_Status_SeqID's value determines insert/update&#xD;&#xA;--&#x9;a value of -1 is insert &gt; -1 performs update&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Account]&#xD;&#xA;&#x9;@P_Account_SeqID int output,&#xD;&#xA;&#x9;@P_Status_SeqID int,&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_First_Name VARCHAR(15),&#xD;&#xA;&#x9;@P_Last_Name VARCHAR(15),&#xD;&#xA;&#x9;@P_Middle_Name VARCHAR(15),&#xD;&#xA;&#x9;@P_Prefered_Name VARCHAR(50),&#xD;&#xA;&#x9;@P_Email VARCHAR(128),&#xD;&#xA;&#x9;@P_Password VARCHAR(256),&#xD;&#xA;&#x9;@P_Password_Last_Set datetime,&#xD;&#xA;&#x9;@P_Failed_Attempts int,&#xD;&#xA;&#x9;@P_Added_Updated_By int,&#xD;&#xA;&#x9;@P_Last_Login datetime,&#xD;&#xA;&#x9;@P_Time_Zone int,&#xD;&#xA;&#x9;@P_Location VARCHAR(50),&#xD;&#xA;&#x9;@P_Enable_Notifications int,&#xD;&#xA;&#x9;@P_Is_System_Admin int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Account_Groups]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Set_Account_Groups'
	DECLARE @V_ErrorCode INT
	DECLARE @V_ErrorMsg VARCHAR(MAX)

	BEGIN TRAN
		DECLARE @Account_SeqID INT
		SET @Account_SeqID = (SELECT Account_SeqID FROM ZGWSecurity.Accounts WHERE Account = @P_Account)
		-- Deleting old records before inseting any new ones.
		IF @P_Debug = 1 PRINT 'Calling ZGWSecurity.Delete_Account_Groups'
		EXEC ZGWSecurity.Delete_Group_Accounts @Account_SeqID, @P_Security_Entity_SeqID, @P_Debug
		IF @@ERROR <> 0
			BEGIN
				EXEC ZGWSystem.Log_Error_Info @P_Debug
				SET @V_ErrorMsg = 'Error executing ZGWSecurity.Delete_Account_Groups' + CHAR(10)
				RAISERROR(@V_ErrorMsg,16,1)
				RETURN @@ERROR
			END
		--END IF
		DECLARE @V_Group_SeqID AS 	INT
		DECLARE @V_SecurityEntity_GroupSeqID AS 	INT
		DECLARE @V_Group_Name AS	VARCHAR(50)
		DECLARE @V_Pos AS	INT
		SET @P_Groups = LTRIM(RTRIM(@P_Groups))+ ','
		SET @V_Pos = CHARINDEX(',', @P_Groups, 1)
		IF REPLACE(@P_Groups, ',', '') <> ''
			WHILE @V_Pos > 0
			BEGIN
				SET @V_Group_Name = LTRIM(RTRIM(LEFT(@P_Groups, @V_Pos - 1)))
				IF @V_Group_Name <> ''
				BEGIN
					--select the role seq id first
					SELECT @V_Group_SeqID = ZGWSecurity.Groups.Group_SeqID 
					FROM ZGWSecurity.Groups 
					WHERE [NAME]=@V_Group_Name

 					SELECT
						@V_SecurityEntity_GroupSeqID=Groups_Security_Entities_SeqID
					FROM
						ZGWSecurity.Groups_Security_Entities
					WHERE
						Group_SeqID = @V_Group_SeqID AND
						Security_Entity_SeqID = @P_Security_Entity_SeqID
						IF @P_Debug = 1 PRINT ('@V_SecurityEntity_GroupSeqID = ' + CONVERT(VARCHAR,@V_SecurityEntity_GroupSeqID))
					IF NOT EXISTS(
							SELECT 
								Groups_Security_Entities_SeqID 
							FROM 
								ZGWSecurity.Groups_Security_Entities_Accounts 
							WHERE 
							Account_SeqID = @Account_SeqID 
							AND Groups_Security_Entities_SeqID = @V_SecurityEntity_GroupSeqID
					)
					BEGIN TRY
						IF @P_Debug = 1 PRINT 'Inserting records'
						INSERT ZGWSecurity.Groups_Security_Entities_Accounts (
							Account_SeqID,
							Groups_Security_Entities_SeqID,
							ADDED_BY
						)
						VALUES (
							@Account_SeqID,
							@V_SecurityEntity_GroupSeqID,
							@P_Added_Updated_By
						)
					END TRY
					BEGIN CATCH
						GOTO ABEND
					END CATCH
				END
					SET @P_Groups = RIGHT(@P_Groups, LEN(@P_Groups) - @V_Pos)
					SET @V_Pos = CHARINDEX(',', @P_Groups, 1)
			END
		IF @@ERROR <> 0 GOTO ABEND
	COMMIT TRAN
ABEND:
	BEGIN
		ROLLBACK TRAN
		EXEC ZGWSystem.Log_Error_Info @P_Debug
		SET @V_ErrorMsg = 'Error executing ZGWSecurity.Set_Account_Groups' + CHAR(10)
		SET @V_ErrorMsg = @V_ErrorMsg + ERROR_MESSAGE()
		RAISERROR(@V_ErrorMsg,16,1)
		RETURN @@ERROR
	END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Groups].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Groups].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Groups].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Groups].[@P_Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Groups].[@P_Added_Updated_By]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Groups].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Groups].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Groups].[@P_Groups]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Groups].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Groups].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="553" />
				<Property Name="Length" Value="3546" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Groups VARCHAR(max) = 'Everyone',&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 2,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Account_Groups&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Groups,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/25/2011&#xD;&#xA;-- Description:&#x9;Set's the Groups associated&#xD;&#xA;--&#x9;with an account.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Account_Groups]&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Groups VARCHAR(max),&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Account_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Set_Account_Roles'
	DECLARE @V_ErrorCode INT
	DECLARE @V_ErrorMsg VARCHAR(MAX)

	BEGIN TRAN
		DECLARE @Account_SeqID INT
		SET @Account_SeqID = (SELECT Account_SeqID FROM ZGWSecurity.Accounts WHERE Account = @P_Account)
		-- Deleting old records before inseting any new ones.
		IF @P_Debug = 1 PRINT 'Calling ZGWSecurity.Delete_Account_Roles'
		EXEC ZGWSecurity.Delete_Account_Roles @Account_SeqID, @P_Security_Entity_SeqID, @V_ErrorCode, @P_Debug
		IF @V_ErrorCode <> 0
			BEGIN
				EXEC ZGWSystem.Log_Error_Info @P_Debug
				SET @V_ErrorMsg = 'Error executing ZGWSecurity.Delete_Account_Roles' + CHAR(10)
				RAISERROR(@V_ErrorMsg,16,1)
				RETURN @@ERROR
			END
		--END IF
		DECLARE @V_Role_SeqID AS 	INT
		DECLARE @V_SE_RLS_SECURITY_ID AS 	INT
		DECLARE @V_ROLE_NAME AS	VARCHAR(50)
		DECLARE @V_Pos AS	INT
		SET @P_Roles = LTRIM(RTRIM(@P_Roles))+ ','
		SET @V_Pos = CHARINDEX(',', @P_Roles, 1)
		IF REPLACE(@P_Roles, ',', '') <> ''
			WHILE @V_Pos > 0
			BEGIN
				SET @V_ROLE_NAME = LTRIM(RTRIM(LEFT(@P_Roles, @V_Pos - 1)))
				IF @V_ROLE_NAME <> ''
				BEGIN
					--select the role seq id first
					SELECT @V_Role_SeqID = ZGWSecurity.Roles.Role_SeqID 
					FROM ZGWSecurity.Roles 
					WHERE [NAME]=@V_ROLE_NAME

 					SELECT
						@V_SE_RLS_SECURITY_ID=Roles_Security_Entities_SeqID
					FROM
						ZGWSecurity.Roles_Security_Entities
					WHERE
						Role_SeqID = @V_Role_SeqID AND
						Security_Entity_SeqID = @P_Security_Entity_SeqID
						IF @P_Debug = 1 PRINT ('@V_SE_RLS_SECURITY_ID = ' + CONVERT(VARCHAR,@V_SE_RLS_SECURITY_ID))
					IF NOT EXISTS(
							SELECT 
								Roles_Security_Entities_SeqID 
							FROM 
								ZGWSecurity.Roles_Security_Entities_Accounts 
							WHERE 
							Account_SeqID = @Account_SeqID 
							AND Roles_Security_Entities_SeqID = @V_SE_RLS_SECURITY_ID
					)
					BEGIN TRY
						IF @P_Debug = 1 PRINT 'Inserting records'
						INSERT ZGWSecurity.Roles_Security_Entities_Accounts (
							Account_SeqID,
							Roles_Security_Entities_SeqID,
							ADDED_BY
						)
						VALUES (
							@Account_SeqID,
							@V_SE_RLS_SECURITY_ID,
							@P_Added_Updated_By
						)
					END TRY
					BEGIN CATCH
						GOTO ABEND
					END CATCH
				END
					SET @P_Roles = RIGHT(@P_Roles, LEN(@P_Roles) - @V_Pos)
					SET @V_Pos = CHARINDEX(',', @P_Roles, 1)
			END
		IF @@ERROR <> 0 GOTO ABEND
	COMMIT TRAN
	RETURN 0
ABEND:
	IF @@ERROR <> 0
		BEGIN
			ROLLBACK TRAN
			EXEC ZGWSystem.Log_Error_Info @P_Debug
			SET @V_ErrorMsg = 'Error executing ZGWSecurity.Set_Account_Roles' + CHAR(10)
			IF @P_Debug = 1 PRINT @V_ErrorMsg
			--RAISERROR(@V_ErrorMsg,16,1)
			RETURN @@ERROR
		END
	--END IF]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Roles].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Account_Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Roles].[@P_Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Account_Roles].[@P_Added_Updated_By]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Roles].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Roles].[@P_Roles]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Roles].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Account_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="550" />
				<Property Name="Length" Value="3512" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Roles VARCHAR(max) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 2,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Account_Roles&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Roles,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/24/2011&#xD;&#xA;-- Description:&#x9;Set's the roles associated&#xD;&#xA;--&#x9;with an account.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Account_Roles]&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Roles VARCHAR(max),&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Function]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Set_Function'
	DECLARE @V_Now DATETIME = GETDATE()
	IF @P_Function_SeqID > -1
		BEGIN -- UPDATE PROFILE
			UPDATE ZGWSecurity.Functions
			SET 
				[Name] = @P_Name,
				[Description] = @P_Description,
				Function_Type_SeqID = @P_Function_Type_SeqID,
				[Source] = @P_Source,
				Enable_View_State = @P_Enable_View_State,
				Enable_Notifications = @P_Enable_Notifications,
				Redirect_On_Timeout = @P_Redirect_On_Timeout,
				IS_NAV = @P_IS_NAV,
				Link_Behavior = @P_Link_Behavior,
				NO_UI = @P_NO_UI,
				Navigation_Types_NVP_Detail_SeqID = @P_NAV_TYPE_ID,
				Meta_Key_Words = @P_Meta_Key_Words,
				Parent_SeqID = @P_Parent_SeqID,
				Notes = @P_Notes,
				Updated_By = @P_Added_Updated_By,
				Updated_Date = @V_Now
			WHERE
				Function_SeqID = @P_Function_SeqID
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Inserting new row'
			IF EXISTS( SELECT [Action]
				   FROM ZGWSecurity.Functions
				   WHERE [Action] = @P_Action
			)
			BEGIN
				RAISERROR ('THE FUNCTION YOU ENTERED ALREADY EXISTS IN THE DATABASE.',16,1)
				RETURN
			END
			INSERT ZGWSecurity.Functions
			(
				[Name],
				[Description],
				Function_Type_SeqID,
				[Source],
				Enable_View_State,
				Enable_Notifications,
				Redirect_On_Timeout,
				IS_NAV,
				Link_Behavior,
				NO_UI,
				Navigation_Types_NVP_Detail_SeqID,
				Meta_Key_Words,
				[Action],
				Parent_SeqID,
				Notes,
				ADDED_BY,
				ADDED_DATE
			)
			VALUES
			(
				@P_Name,
				@P_Description,
				@P_Function_Type_SeqID,
				@P_Source,
				@P_Enable_View_State,
				@P_Enable_Notifications,
				@P_Redirect_On_Timeout,
				@P_IS_NAV,
				@P_Link_Behavior,
				@P_NO_UI,
				@P_NAV_TYPE_ID,
				@P_Meta_Key_Words,
				@P_Action,
				@P_Parent_SeqID,
				@P_Notes,
				@P_Added_Updated_By,
				@V_Now
			)
			SELECT @P_Function_SeqID=SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
			DECLARE @V_SORT_ORDER INT
			SET @V_SORT_ORDER = (SELECT MAX(SORT_ORDER) FROM ZGWSecurity.Functions WHERE Parent_SeqID = @P_Parent_SeqID) + 1
			UPDATE ZGWSecurity.Functions SET SORT_ORDER = @V_SORT_ORDER WHERE Function_SeqID = @P_Function_SeqID

		END
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Set_Function'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Source]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Source]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Enable_View_State]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Enable_View_State]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Enable_Notifications]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Redirect_On_Timeout]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Redirect_On_Timeout]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Is_Nav]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_IS_NAV]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Link_Behavior]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Link_Behavior]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[No_UI]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_NO_UI]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Navigation_Types_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_NAV_TYPE_ID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Meta_Key_Words]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Meta_Key_Words]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Notes]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Notes]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function].[@P_Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Action]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Sort_Order]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Sort_Order]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Function_SeqID]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Function_Type_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Source]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Enable_View_State]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Enable_Notifications]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Redirect_On_Timeout]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_IS_NAV]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Link_Behavior]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_NO_UI]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_NAV_TYPE_ID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Action]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Meta_Key_Words]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Parent_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Notes]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1258" />
				<Property Name="Length" Value="4089" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int = -1,&#xD;&#xA;&#x9;&#x9;@P_Name VARCHAR(30) = 'Testing',&#xD;&#xA;&#x9;&#x9;@P_Description VARCHAR(512) = 'Testing',&#xD;&#xA;&#x9;&#x9;@P_Function_Type_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Source VARCHAR(512) = '',&#xD;&#xA;&#x9;&#x9;@P_Enable_View_State int = 0,&#xD;&#xA;&#x9;&#x9;@P_Enable_Notifications int = 0,&#xD;&#xA;&#x9;&#x9;@P_Redirect_On_Timeout int = 0,&#xD;&#xA;&#x9;&#x9;@P_IS_NAV int = 0,&#xD;&#xA;&#x9;&#x9;@P_Link_Behavior int 0,&#xD;&#xA;&#x9;&#x9;@P_NO_UI int = 0,&#xD;&#xA;&#x9;&#x9;@P_NAV_TYPE_ID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Action VARCHAR(256) = 'testing',&#xD;&#xA;&#x9;&#x9;@P_Meta_Key_Words VARCHAR(512) = '',&#xD;&#xA;&#x9;&#x9;@P_Parent_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Notes VARCHAR(512) = '',&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Function&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Name,&#xD;&#xA;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;@P_Function_Type_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Source,&#xD;&#xA;&#x9;&#x9;@P_Enable_View_State,&#xD;&#xA;&#x9;&#x9;@P_Enable_Notifications,&#xD;&#xA;&#x9;&#x9;@P_Redirect_On_Timeout,&#xD;&#xA;&#x9;&#x9;@P_IS_NAV,&#xD;&#xA;&#x9;&#x9;@P_Link_Behavior,&#xD;&#xA;&#x9;&#x9;@P_NO_UI,&#xD;&#xA;&#x9;&#x9;@P_NAV_TYPE_ID,&#xD;&#xA;&#x9;&#x9;@P_Action,&#xD;&#xA;&#x9;&#x9;@P_Meta_Key_Words,&#xD;&#xA;&#x9;&#x9;@P_Parent_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Notes,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;PRINT 'Primary_Key = ' + CONVERT(VARCHAR(MAX),@P_Function_SeqID)&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/25/2011&#xD;&#xA;-- Description:&#x9;Inserts or updates ZGWSecurity.Functions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Function]&#xD;&#xA;&#x9;@P_Function_SeqID int OUTPUT,&#xD;&#xA;&#x9;@P_Name VARCHAR(30),&#xD;&#xA;&#x9;@P_Description VARCHAR(512),&#xD;&#xA;&#x9;@P_Function_Type_SeqID INT,&#xD;&#xA;&#x9;@P_Source VARCHAR(512),&#xD;&#xA;&#x9;@P_Enable_View_State int,&#xD;&#xA;&#x9;@P_Enable_Notifications int,&#xD;&#xA;&#x9;@P_Redirect_On_Timeout int,&#xD;&#xA;&#x9;@P_IS_NAV int,&#xD;&#xA;&#x9;@P_Link_Behavior int,&#xD;&#xA;&#x9;@P_NO_UI int,&#xD;&#xA;&#x9;@P_NAV_TYPE_ID int,&#xD;&#xA;&#x9;@P_Action VARCHAR(256),&#xD;&#xA;&#x9;@P_Meta_Key_Words VARCHAR(512),&#xD;&#xA;&#x9;@P_Parent_SeqID int,&#xD;&#xA;&#x9;@P_Notes VARCHAR(512),&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Function_Groups]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN TRANSACTION
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Groups_Security_Entities_Functions'
	-- NEED TO DELETE EXISTING Group ASSOCITAED WITH THE FUNCTION BEFORE 
	-- INSERTING NEW ONES.
	
	DECLARE @V_ErrorCodde INT
			,@V_Group_SeqID INT
			,@V_Groups_Security_Entities_SeqID AS INT
			,@V_Group_Name VARCHAR(50)
			,@V_Pos INT
			,@V_ErrorMsg VARCHAR(MAX)
			,@V_Now DATETIME = GETDATE()

	EXEC ZGWSecurity.Delete_Function_Groups @P_Function_SeqID,@P_Security_Entity_SeqID,@P_Permissions_NVP_Detail_SeqID,@P_Added_Updated_By,@V_ErrorCodde
	IF @@ERROR <> 0
	BEGIN
		EXEC ZGWSystem.Log_Error_Info @P_Debug
		SET @V_ErrorMsg = 'Error executing ZGWSecurity.Delete_Function_Groups' + CHAR(10)
		RAISERROR(@V_ErrorMsg,16,1)
		RETURN @@ERROR
	END
	SET @P_Groups = LTRIM(RTRIM(@P_Groups))+ ','
	SET @V_Pos = CHARINDEX(',', @P_Groups, 1)
	IF LEN(REPLACE(@P_Groups, ',', '')) > 0
		WHILE @V_Pos > 0
			BEGIN -- go through all the Groups and add if necessary
				SET @V_Group_Name = LTRIM(RTRIM(LEFT(@P_Groups, @V_Pos - 1)))
				IF @V_Group_Name <> ''
				BEGIN
					--select the Group seq id first
					SELECT 
						@V_Group_SeqID = ZGWSecurity.Groups.Group_SeqID 
					FROM 
						ZGWSecurity.Groups 
					WHERE 
						[Name]=@V_Group_Name
						
					--select the Groups_Security_Entities_SeqID
 					SELECT
						@V_Groups_Security_Entities_SeqID=Groups_Security_Entities_SeqID
					FROM
						ZGWSecurity.Groups_Security_Entities
					WHERE
						Group_SeqID = @V_Group_SeqID AND
						Security_Entity_SeqID = @P_Security_Entity_SeqID
						
					IF @P_Debug = 1 PRINT('@V_Groups_Security_Entities_SeqID = ' + CONVERT(VARCHAR,@V_Groups_Security_Entities_SeqID))
					IF NOT EXISTS(
							SELECT 
								Groups_Security_Entities_SeqID 
							FROM 
								ZGWSecurity.Groups_Security_Entities_Functions 
							WHERE 
							Function_SeqID = @P_Function_SeqID 
							AND Permissions_NVP_Detail_SeqID = @P_Permissions_NVP_Detail_SeqID
							AND Groups_Security_Entities_SeqID = @V_Groups_Security_Entities_SeqID)
						BEGIN TRY-- INSERT RECORD
							INSERT ZGWSecurity.Groups_Security_Entities_Functions (
								Function_SeqID,
								Groups_Security_Entities_SeqID,
								Permissions_NVP_Detail_SeqID,
								ADDED_BY,
								Added_Date
							)
							VALUES (
								@P_Function_SeqID,
								@V_Groups_Security_Entities_SeqID,
								@P_Permissions_NVP_Detail_SeqID,
								@P_Added_Updated_By,
								@V_Now
							)
						END TRY
						BEGIN CATCH
							GOTO ABEND
						END CATCH
					--END IF
				END
				SET @P_Groups = RIGHT(@P_Groups, LEN(@P_Groups) - @V_Pos)
				SET @V_Pos = CHARINDEX(',', @P_Groups, 1)
			END
		--END WHILE
	IF @@error <> 0 GOTO ABEND
Commit Transaction
RETURN 0
ABEND:
	IF @@error <> 0
		BEGIN
			ROLLBACK TRAN
			EXEC ZGWSystem.Log_Error_Info @P_Debug
			SET @V_ErrorMsg = 'Error executing ZGWSecurity.Set_Account_Roles' + CHAR(10)
			SET @V_ErrorMsg = @V_ErrorMsg + ERROR_MESSAGE()
			RAISERROR(@V_ErrorMsg,16,1)
			RETURN @@ERROR
		END
	--END IF]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Groups].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Groups].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Groups].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Groups].[@P_Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Groups].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Groups].[@P_Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Added_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Groups].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Groups].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Groups].[@P_Groups]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Groups].[@P_Permissions_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Groups].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Groups].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="651" />
				<Property Name="Length" Value="3973" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Groups VARCHAR(MAX) = 'EveryOne',&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Function_Groups&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Groups,&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/26/2011&#xD;&#xA;-- Description:&#x9;Delete and inserts into ZGWSecurity.Groups_Security_Entities_Functions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Function_Groups]&#xD;&#xA;&#x9;@P_Function_SeqID int,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Groups VARCHAR(MAX),&#xD;&#xA;&#x9;@P_Permissions_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Function_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN TRANSACTION
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Set_Function_Roles'
	-- NEED TO DELETE EXISTING ROLE ASSOCITAED WITH THE FUNCTION BEFORE 
	-- INSERTING NEW ONES.
	
	DECLARE @V_ErrorCodde INT
			,@V_Role_SeqID AS INT
			,@V_Roles_Security_Entities_SeqID AS INT
			,@V_Role_Name AS VARCHAR(50)
			,@V_Pos AS INT
			,@V_ErrorMsg VARCHAR(MAX)
	EXEC ZGWSecurity.Delete_Function_Roles @P_Function_SeqID,@P_Security_Entity_SeqID,@P_Permissions_NVP_Detail_SeqID,@P_Added_Updated_By,@V_ErrorCodde
	IF @@ERROR <> 0
		BEGIN
			GOTO ABEND
		END
	--END IF	

	SET @P_Roles = LTRIM(RTRIM(@P_Roles))+ ','
	SET @V_Pos = CHARINDEX(',', @P_Roles, 1)
	IF LEN(REPLACE(@P_Roles, ',', '')) > 0
		WHILE @V_Pos > 0
			BEGIN -- go through all the roles and add if necessary
				SET @V_Role_Name = LTRIM(RTRIM(LEFT(@P_Roles, @V_Pos - 1)))
				IF @V_Role_Name <> ''
				BEGIN
					--select the role seq id first
					SELECT 
						@V_Role_SeqID = ZGWSecurity.Roles.Role_SeqID 
					FROM 
						ZGWSecurity.Roles 
					WHERE 
						[Name]=@V_Role_Name
						
					--select the Roles_Security_Entities_SeqID
					SELECT
						@V_Roles_Security_Entities_SeqID=Roles_Security_Entities_SeqID
					FROM
						ZGWSecurity.Roles_Security_Entities
					WHERE
						Role_SeqID = @V_Role_SeqID AND
						Security_Entity_SeqID = @P_Security_Entity_SeqID
						
					IF @P_Debug = 1 PRINT('@V_Roles_Security_Entities_SeqID = ' + CONVERT(VARCHAR,@V_Roles_Security_Entities_SeqID))
					IF NOT EXISTS(
							SELECT 
								Roles_Security_Entities_SeqID 
							FROM 
								ZGWSecurity.Roles_Security_Entities_Functions 
							WHERE 
							Function_SeqID = @P_Function_SeqID 
							AND Permissions_NVP_Detail_SeqID = @P_Permissions_NVP_Detail_SeqID
							AND Roles_Security_Entities_SeqID = @V_Roles_Security_Entities_SeqID)
						BEGIN TRY
							IF @P_Debug = 1 PRINT 'Insert new record'
							INSERT ZGWSecurity.Roles_Security_Entities_Functions (
								Function_SeqID,
								Roles_Security_Entities_SeqID,
								Permissions_NVP_Detail_SeqID,
								ADDED_BY
							)
							VALUES (
								@P_Function_SeqID,
								@V_Roles_Security_Entities_SeqID,
								@P_Permissions_NVP_Detail_SeqID,
								@P_Added_Updated_By
							)
						END TRY
						BEGIN CATCH
							GOTO ABEND
						END CATCH
					--END IF
				END
				SET @P_Roles = RIGHT(@P_Roles, LEN(@P_Roles) - @V_Pos)
				SET @V_Pos = CHARINDEX(',', @P_Roles, 1)
			END
		--END WHILE
	IF @@error <> 0 GOTO ABEND
Commit Transaction
RETURN 0
ABEND:
	ROLLBACK TRAN
	EXEC ZGWSystem.Log_Error_Info @P_Debug
	SET @V_ErrorMsg = 'Error executing ZGWSecurity.Set_Function_Roles' + CHAR(10)
	SET @V_ErrorMsg = @V_ErrorMsg + ERROR_MESSAGE()
	RAISERROR(@V_ErrorMsg,16,1)
	RETURN @@ERROR]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Function_Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Roles].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Roles].[@P_Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Roles].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Roles].[@P_Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Roles].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Roles].[@P_Roles]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Roles].[@P_Permissions_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Roles].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="647" />
				<Property Name="Length" Value="3681" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Roles VARCHAR(MAX) = 'EveryOne',&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Function_Roles&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Roles,&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/01/2011&#xD;&#xA;-- Description:&#x9;Delete and inserts into ZGWSecurity.Roles_Security_Entities_Functions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Function_Roles]&#xD;&#xA;&#x9;@P_Function_SeqID int,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Roles VARCHAR(MAX),&#xD;&#xA;&#x9;@P_Permissions_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Function_Sort]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @V_Current_Sort_Order int
			,@V_Sort_Order_Move int
			,@V_Parent_SeqID INT
			,@V_Updated_Date DATETIME = GETDATE()
	-- Get the parent ID so only the menu items here can be effected
	SET @V_Parent_SeqID = (SELECT Parent_SeqID FROM ZGWSecurity.Functions WHERE Function_SeqID = @P_Function_SeqID)
	-- Get Current Sort Order
	SELECT 
		@V_Current_Sort_Order = Sort_Order
	FROM ZGWSecurity.Functions
	WHERE Function_SeqID = @P_Function_SeqID
	
	-- Get Sort Order for Section Above
	IF @P_Direction = 0 -- Down
		BEGIN
			SELECT @V_Sort_Order_Move = MIN( Sort_Order )
			FROM ZGWSecurity.Functions
			WHERE Sort_Order > @V_Current_Sort_Order
		END
	ELSE -- up
		BEGIN
			SELECT @V_Sort_Order_Move = MAX( Sort_Order )
			FROM ZGWSecurity.Functions
			WHERE Sort_Order < @V_Current_Sort_Order
		END
	-- END IF
	-- If no row to move, exit
	IF @V_Sort_Order_Move IS NULL
		return
	
	-- Otherwise, switch sort orders
	UPDATE ZGWSecurity.Functions SET
	  Sort_Order = @V_Current_Sort_Order
	  WHERE Sort_Order = @V_Sort_Order_Move
	
	UPDATE ZGWSecurity.Functions SET
	  Sort_Order = @V_Sort_Order_Move,
	  Updated_By = @P_Added_Updated_By,
	  Updated_Date = @V_Updated_Date
	  WHERE Function_SeqID = @P_Function_SeqID

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Parent_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Sort].[@P_Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Sort_Order]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Function_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Sort].[@P_Direction]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Sort].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Functions].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Sort].[@P_Function_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Sort].[@P_Direction]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Sort].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Sort].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Sort].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="510" />
				<Property Name="Length" Value="1954" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Function_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Direction INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 2,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Function_Sort&#xD;&#xA;&#x9;&#x9;@P_Function_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Direction,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/02/2011&#xD;&#xA;-- Description:&#x9;Updates ZGWSecurity.Functions Sort_Order column&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Function_Sort]&#xD;&#xA;&#x9;@P_Function_SeqID INT,&#xD;&#xA;&#x9;@P_Direction INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Primary_Key INT OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Function_Types]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Start [Set_Function_Types]'
	DECLARE @V_Now DATETIME = GETDATE()
	IF @P_Function_Type_SeqID > -1
		BEGIN -- UPDATE PROFILE
			IF @P_Debug = 1 PRINT 'Updating ZGWSecurity.Function_Types'
			UPDATE ZGWSecurity.Function_Types
			SET 
				[Name] = @P_Name,
				[Description] = @P_Description,
				Template = @P_Template,
				Is_Content = @P_Is_Content,
				UPDATED_BY = @P_Added_Updated_BY,
				UPDATED_DATE =@V_Now
			WHERE
				Function_Type_SeqID = @P_Function_Type_SeqID

			SELECT @P_Primary_Key = @P_Function_Type_SeqID
		END
	ELSE
	BEGIN -- INSERT a new row in the table.

			-- CHECK FOR DUPLICATE Name BEFORE INSERTING
			IF EXISTS( SELECT @P_Description 
				   FROM [ZGWSecurity].[Function_Types]
				   WHERE [Name] = @P_Name
			)
			BEGIN
				RAISERROR ('THE FUNCTION TYPE YOU ENTERED ALREADY EXISTS IN THE DATABASE.',16,1)
				RETURN
			END
			IF @P_Debug = 1 PRINT 'Inserting record into ZGWSecurity.Function_Types'
			INSERT ZGWSecurity.Function_Types
			(
				[Name],
				[Description],
				Template,
				Is_Content,
				ADDED_BY,
				ADDED_DATE
			)
			VALUES
			(
				@P_Name,
				@P_Description,
				@P_Template,
				@P_Is_Content,
				@P_Added_Updated_BY,
				@V_Now
			)
			SELECT @P_Primary_Key=SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
		END
	-- Get the Error Code for the statement just executed.
	SELECT @P_ErrorCode=@@ERROR
	IF @P_Debug = 1 PRINT 'End [Set_Function_Types]'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Template]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_Template]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Is_Content]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_Is_Content]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_Added_Updated_BY]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Function_Type_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_Primary_Key]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Function_Types].[@P_ErrorCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_Function_Type_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_Template]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_Is_Content]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_Added_Updated_BY]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_ErrorCode]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Function_Types].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1150" />
				<Property Name="Length" Value="2952" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;&#x9;@P_Function_Type_SeqID INT = -1,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Name VARCHAR(50) = 'Name',&#xD;&#xA;&#x9;&#x9;&#x9;@P_Description VARCHAR(512) = 'Description',&#xD;&#xA;&#x9;&#x9;&#x9;@P_Template VARCHAR(512) = null,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Is_Content INT = 0,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Added_Updated_BY&#x9;INT = 2,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Primary_Key INT = NULL,&#xD;&#xA;&#x9;&#x9;&#x9;@P_ErrorCode INT = NULL&#xD;&#xA;--Insert new&#xD;&#xA;&#x9;exec [ZGWSecurity].[Set_Function_Types]&#xD;&#xA;&#x9;&#x9;&#x9;@P_Function_Type_SeqID,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Name,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Template,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Is_Content,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Added_Updated_BY,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Primary_Key,&#xD;&#xA;&#x9;&#x9;&#x9;@P_ErrorCode&#xD;&#xA;--Update&#xD;&#xA;&#x9;SET @P_Function_Type_SeqID = (SELECT Function_Type_SeqID FROM [ZGWSecurity].[Function_Types] WHERE [Name] = @P_Name)&#xD;&#xA;&#x9;exec [ZGWSecurity].[Set_Function_Types]&#xD;&#xA;&#x9;&#x9;&#x9;@P_Function_Type_SeqID,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Name,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Template,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Is_Content,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Added_Updated_BY,&#xD;&#xA;&#x9;&#x9;&#x9;@P_Primary_Key,&#xD;&#xA;&#x9;&#x9;&#x9;@P_ErrorCode&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/26/2011&#xD;&#xA;-- Description:&#x9;Inserts/Updates [ZGWSecurity].[Function_Types]&#xD;&#xA;--&#x9;Given the Function_Type_SeqID&#xD;&#xA;--&#x9;a value of -1 is insert &gt; -1 performs update&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Function_Types]&#xD;&#xA;&#x9;@P_Function_Type_SeqID INT,&#xD;&#xA;&#x9;@P_Name VARCHAR(50),&#xD;&#xA;&#x9;@P_Description VARCHAR(512),&#xD;&#xA;&#x9;@P_Template VARCHAR(512),&#xD;&#xA;&#x9;@P_Is_Content INT,&#xD;&#xA;&#x9;@P_Added_Updated_BY&#x9;INT,&#xD;&#xA;&#x9;@P_Primary_Key int OUTPUT,&#xD;&#xA;&#x9;@P_ErrorCode int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Group]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @RLS_SEQ_ID INT
			,@V_Added_Updated_Date DATETIME = GETDATE()

	IF @P_Group_SeqID > -1
		BEGIN -- UPDATE PROFILE
			UPDATE ZGWSecurity.Groups
			SET 
				[Name] = @P_Name,
				[Description] = @P_Description,
				UPDATED_BY = @P_Added_Updated_By,
				UPDATED_DATE = @V_Added_Updated_Date
			WHERE
				Group_SeqID = @P_Group_SeqID

			SELECT @P_PRIMARY_KEY = @P_Group_SeqID
		END
	ELSE
		BEGIN -- INSERT a new row in the table.
			-- CHECK FOR DUPLICATE Name BEFORE INSERTING
			IF NOT EXISTS( SELECT [Name] 
				   FROM ZGWSecurity.Groups
				   WHERE [Name] = @P_Name)
				BEGIN
					INSERT ZGWSecurity.Groups
					(
						[Name],
						[Description],
						ADDED_BY,
						ADDED_DATE
					)
					VALUES
					(
						@P_Name,
						@P_Description,
						@P_Added_Updated_By,
						@V_Added_Updated_Date
					)
					SELECT @P_PRIMARY_KEY=SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
				END
			ELSE
				--PRINT 'ENTERING SECURITY INFORMATION FOR THE GROUP'
				SET @P_PRIMARY_KEY = (SELECT Group_SeqID FROM ZGWSecurity.Groups WHERE [Name] = @P_Name)
			-- END IF
		END
	-- END IF
	IF(SELECT COUNT(*) FROM ZGWSecurity.Groups_Security_Entities WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID AND Group_SeqID = @P_PRIMARY_KEY) = 0 
	BEGIN  -- ADD GROUP REFERENCE TO SE_SECURITY
			INSERT ZGWSecurity.Groups_Security_Entities (
				Security_Entity_SeqID,
				Group_SeqID,
				ADDED_BY,
				ADDED_DATE
			)
			VALUES (
				@P_Security_Entity_SeqID,
				@P_PRIMARY_KEY,
				@P_Added_Updated_By,
				@V_Added_Updated_Date
			)
	END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group].[@P_Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group].[@P_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group].[@P_PRIMARY_KEY]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[ADDED_BY]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[ADDED_DATE]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group].[@P_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group].[@P_Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group].[@P_PRIMARY_KEY]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="678" />
				<Property Name="Length" Value="2544" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Group_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Name VARCHAR(128) = 'Test',&#xD;&#xA;&#x9;&#x9;@P_Description VARCHAR(512) = ' ',&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 2,&#xD;&#xA;&#x9;&#x9;@P_PRIMARY_KEY int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Group&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Name,&#xD;&#xA;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_PRIMARY_KEY,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;&#x9;PRINT 'Primary key is: ' + CONVERT(VARCHAR(30),@P_Primary_Key)&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/02/2011&#xD;&#xA;-- Description:&#x9;Inserts or updates ZGWSecurity.Groups&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Group]&#xD;&#xA;&#x9;@P_Group_SeqID INT,&#xD;&#xA;&#x9;@P_Name VARCHAR(128),&#xD;&#xA;&#x9;@P_Description VARCHAR(512),&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_PRIMARY_KEY int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Group_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Set_Group_Roles'
	DECLARE @V_Roles_Security_Entities_SeqID INT
			,@V_Role_Name VARCHAR(50)
			,@V_Is_System INT
			,@V_POS INT
			,@V_Groups_Security_Entities_SeqID INT
			,@V_Now DATETIME = GETDATE()
		--NEED TO DELETE EXISTING Roles ASSOCITAED BEFORE 
		-- INSERTING NEW ONES. EXECUTION OF THIS STORED PROC
		-- IS MOVED FROM CODE			
		EXEC ZGWSecurity.Delete_Group_Roles @P_Group_SeqID,@P_Security_Entity_SeqID, @P_Debug	
		SET @P_Roles = LTRIM(RTRIM(@P_Roles))+ ','
		SET @V_POS = CHARINDEX(',', @P_Roles, 1)
	
		IF REPLACE(@P_Roles, ',', '') <> ''
		BEGIN
			WHILE @V_POS > 0
			BEGIN
				SET @V_Role_Name = LTRIM(RTRIM(LEFT(@P_Roles, @V_POS - 1)))
				IF @V_Role_Name <> ''
				IF @P_Debug = 1 PRINT @V_Role_Name -- DEBUG
				BEGIN
					--SELECT THE Role_SeqID FROM THE Roles
					--TABLE FOR ALL THE Roles PASSED
					SELECT  
						@V_Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
					FROM
					 	ZGWSecurity.Roles_Security_Entities
					WHERE 
						ZGWSecurity.Roles_Security_Entities.Role_SeqID = (SELECT Role_SeqID FROM ZGWSecurity.Roles WHERE ZGWSecurity.Roles.[NAME] = @V_Role_Name)
						AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID = @P_Security_Entity_SeqID
					IF @P_Debug = 1 PRINT @V_Roles_Security_Entities_SeqID

					SELECT
						@V_Groups_Security_Entities_SeqID = Groups_Security_Entities_SeqID
					FROM
						ZGWSecurity.Groups_Security_Entities
					WHERE
						Security_Entity_SeqID = @P_Security_Entity_SeqID
						AND Group_SeqID = @P_Group_SeqID
					
					IF @P_Debug = 1 PRINT @V_Groups_Security_Entities_SeqID -- DEBUG
					/*
					INSERT THE ZGWSecurity.Groups_Security_Entities_Roles_Entities
					WITH Roles INFORMATION
					*/	
					IF @V_Roles_Security_Entities_SeqID IS NOT NULL
					BEGIN
									
						INSERT ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities (
							Groups_Security_Entities_SeqID,
							Roles_Security_Entities_SeqID,
							ADDED_BY,
							ADDED_DATE
						)VALUES(
							@V_Groups_Security_Entities_SeqID,
							@V_Roles_Security_Entities_SeqID,
							@P_Added_Updated_By,
							@V_Now
						)
				
						IF @P_Debug = 1 PRINT 'Inserted into ZGWSecurity.Groups_Security_Entities_Roles_Entities'
					END
	
				END
				SET @P_Roles = RIGHT(@P_Roles, LEN(@P_Roles) - @V_POS)
				SET @V_POS = CHARINDEX(',', @P_Roles, 1)
	
			END
		END	
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Set_Group_Roles'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Delete_Group_Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group_Roles].[@P_Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group_Roles].[@P_Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Group_Roles].[@P_Added_Updated_By]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group_Roles].[@P_Group_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group_Roles].[@P_Roles]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group_Roles].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Group_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="587" />
				<Property Name="Length" Value="3361" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Group_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Roles VARCHAR(MAX) = 'Anonymous, Authenticated',&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Group_Roles&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Roles,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/02/2011&#xD;&#xA;-- Description:&#x9;Deletes and inserts ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Group_Roles]&#xD;&#xA;&#x9;&#x9;@P_Group_SeqID INT,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;&#x9;@P_Roles VARCHAR(MAX),&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups]">
			<Property Name="BodyScript">
				<Value><![CDATA[

IF @P_Debug = 1 PRINT('Starting ZGWSecurity.Set_Name_Value_Pair_Groups')
BEGIN TRAN
	DECLARE @V_Group_SeqID INT
			,@V_Groups_Security_Entities_SeqID INT
			,@V_GROUP_NAME VARCHAR(50)
			,@V_Pos INT
			,@V_ErrorMsg VARCHAR(MAX)
	
	IF @P_Debug = 1 PRINT 'Deleting existing Groups associated with the name value pair before inseting new ones.'
	EXEC ZGWSystem.Delete_Groups_Security_Entities_Permissions @P_NVP_SeqID,@P_Security_Entity_SeqID,@P_Permissions_NVP_Detail_SeqID, @P_Debug
	IF @@ERROR <> 0
		BEGIN
			EXEC ZGWSystem.Log_Error_Info @P_Debug
			SET @V_ErrorMsg = 'Error executing ZGWSecurity.Delete_Groups_Security_Entities_Permissions' + CHAR(10)
			RAISERROR(@V_ErrorMsg,16,1)
			RETURN @@ERROR
		END
	--END IF	
	SET @P_Groups = LTRIM(RTRIM(@P_Groups))+ ','
	SET @V_Pos = CHARINDEX(',', @P_Groups, 1)
	IF REPLACE(@P_Groups, ',', '') <> ''
		WHILE @V_Pos > 0
		BEGIN
			SET @V_GROUP_NAME = LTRIM(RTRIM(LEFT(@P_Groups, @V_Pos - 1)))
			IF @V_GROUP_NAME <> ''
			BEGIN
				IF @P_Debug = 1 PRINT 'select the GROUP seq id first'
				SELECT @V_Group_SeqID = ZGWSecurity.Groups.Group_SeqID 
				FROM ZGWSecurity.Groups 
				WHERE [NAME]=@V_GROUP_NAME

 				SELECT
					@V_Groups_Security_Entities_SeqID=Groups_Security_Entities_SeqID
				FROM
					ZGWSecurity.Groups_Security_Entities
				WHERE
					Group_SeqID = @V_Group_SeqID AND
					Security_Entity_SeqID = @P_Security_Entity_SeqID
					IF @P_Debug = 1 PRINT('@V_Groups_Security_Entities_SeqID = ' + CONVERT(VARCHAR,@V_Groups_Security_Entities_SeqID))
				IF NOT EXISTS(
						SELECT 
							Groups_Security_Entities_SeqID 
						FROM 
							ZGWSecurity.Groups_Security_Entities_Permissions 
						WHERE 
						NVP_SeqID = @P_NVP_SeqID 
						AND Permissions_NVP_Detail_SeqID = @P_Permissions_NVP_Detail_SeqID
						AND Groups_Security_Entities_SeqID = @V_Groups_Security_Entities_SeqID
				)
				BEGIN TRY
					IF @P_Debug = 1 PRINT('Inserting record')
					INSERT ZGWSecurity.Groups_Security_Entities_Permissions (
						NVP_SeqID,
						Groups_Security_Entities_SeqID,
						Permissions_NVP_Detail_SeqID,
						Added_By
					)
					VALUES (
						@P_NVP_SeqID,
						@V_Groups_Security_Entities_SeqID,
						@P_Permissions_NVP_Detail_SeqID,
						@P_Added_Updated_By
					)
				END TRY
				BEGIN CATCH
					GOTO ABEND
				END CATCH
			END
				SET @P_Groups = RIGHT(@P_Groups, LEN(@P_Groups) - @V_Pos)
				SET @V_Pos = CHARINDEX(',', @P_Groups, 1)
		END
	--END IF
IF @@ERROR = 0
	BEGIN
		COMMIT TRAN
		IF @P_Debug = 1 PRINT('Ending ZGWSecurity.Set_Name_Value_Pair_Groups')
		RETURN 0
	END
ABEND:
BEGIN
	ROLLBACK TRAN
	EXEC ZGWSystem.Log_Error_Info @P_Debug
	SET @V_ErrorMsg = 'Error executing ZGWSecurity.Set_Name_Value_Pair_Groups' + CHAR(10)
	SET @V_ErrorMsg = @V_ErrorMsg + ERROR_MESSAGE()
	RAISERROR(@V_ErrorMsg,16,1)
	RETURN @@ERROR
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Added_Updated_By]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Groups]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Permissions_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Groups].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="648" />
				<Property Name="Length" Value="3766" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Groups VARCHAR(MAX) = 'EveryOne',&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug int = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Name_Value_Pair_Groups&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Groups,&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/26/2011&#xD;&#xA;-- Description:&#x9;Delete and inserts into ZGWSecurity.Groups_Security_Entities_Functions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Name_Value_Pair_Groups]&#xD;&#xA;&#x9;@P_NVP_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Groups VARCHAR(1000),&#xD;&#xA;&#x9;@P_Permissions_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles]">
			<Property Name="BodyScript">
				<Value><![CDATA[

IF @P_Debug = 1 PRINT('Starting ZGWSecurity.Set_Name_Value_Pair_Role')
BEGIN TRAN
	DECLARE @V_Role_SeqID INT
			,@V_Roles_Security_Entities_SeqID INT
			,@V_GROUP_NAME VARCHAR(50)
			,@V_Pos INT
			,@V_ErrorMsg VARCHAR(MAX)
			,@V_Now DATETIME = GETDATE()
	
	IF @P_Debug = 1 PRINT 'Deleting existing Role associated with the name value pair before inseting new ones.'
	EXEC ZGWSystem.Delete_Roles_Security_Entities_Permissions @P_NVP_SeqID,@P_Security_Entity_SeqID,@P_Permissions_NVP_Detail_SeqID, @P_Debug
	IF @@ERROR <> 0
		BEGIN
			GOTO ABEND
		END
	--END IF	
	SET @P_Role = LTRIM(RTRIM(@P_Role))+ ','
	SET @V_Pos = CHARINDEX(',', @P_Role, 1)
	IF REPLACE(@P_Role, ',', '') <> ''
		WHILE @V_Pos > 0
		BEGIN
			SET @V_GROUP_NAME = LTRIM(RTRIM(LEFT(@P_Role, @V_Pos - 1)))
			IF @V_GROUP_NAME <> ''
			BEGIN
				IF @P_Debug = 1 PRINT 'select the Role_SeqID first'
				SELECT @V_Role_SeqID = ZGWSecurity.Roles.Role_SeqID 
				FROM ZGWSecurity.Roles 
				WHERE [NAME]=@V_GROUP_NAME

 				SELECT
					@V_Roles_Security_Entities_SeqID=Roles_Security_Entities_SeqID
				FROM
					ZGWSecurity.Roles_Security_Entities
				WHERE
					Role_SeqID = @V_Role_SeqID AND
					Security_Entity_SeqID = @P_Security_Entity_SeqID
					IF @P_Debug = 1 PRINT('@V_Roles_Security_Entities_SeqID = ' + CONVERT(VARCHAR,@V_Roles_Security_Entities_SeqID))
				IF NOT EXISTS(
						SELECT 
							Roles_Security_Entities_SeqID 
						FROM 
							ZGWSecurity.Roles_Security_Entities_Permissions 
						WHERE 
						NVP_SeqID = @P_NVP_SeqID 
						AND Permissions_NVP_Detail_SeqID = @P_Permissions_NVP_Detail_SeqID
						AND Roles_Security_Entities_SeqID = @V_Roles_Security_Entities_SeqID
				)
				BEGIN TRY
					IF @P_Debug = 1 PRINT('Inserting record')
					INSERT ZGWSecurity.Roles_Security_Entities_Permissions (
						NVP_SeqID,
						Roles_Security_Entities_SeqID,
						Permissions_NVP_Detail_SeqID,
						Added_By,
						Added_Date
					)
					VALUES (
						@P_NVP_SeqID,
						@V_Roles_Security_Entities_SeqID,
						@P_Permissions_NVP_Detail_SeqID,
						@P_Added_Updated_By,
						@V_Now
					)
				END TRY
				BEGIN CATCH
					GOTO ABEND
				END CATCH
			END
				SET @P_Role = RIGHT(@P_Role, LEN(@P_Role) - @V_Pos)
				SET @V_Pos = CHARINDEX(',', @P_Role, 1)
		END
	--END IF
IF @@ERROR = 0
	BEGIN
		COMMIT TRAN
		IF @P_Debug = 1 PRINT('Ending ZGWSecurity.Set_Name_Value_Pair_Role')
		RETURN 0
	END
ABEND:
BEGIN
	ROLLBACK TRAN
	EXEC ZGWSystem.Log_Error_Info @P_Debug
	SET @V_ErrorMsg = 'Error executing ZGWSecurity.Set_Name_Value_Pair_Role' + CHAR(10)
	SET @V_ErrorMsg = @V_ErrorMsg + ERROR_MESSAGE()
	RAISERROR(@V_ErrorMsg,16,1)
	RETURN @@ERROR
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Role]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Role]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Permissions_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Name_Value_Pair_Roles].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="642" />
				<Property Name="Length" Value="3589" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Role VARCHAR(MAX) = 'EveryOne',&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug int = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Name_Value_Pair_Roles&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Role,&#xD;&#xA;&#x9;&#x9;@P_Permissions_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/08/2011&#xD;&#xA;-- Description:&#x9;Delete and inserts into ZGWSecurity.Roles_Security_Entities_Functions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Name_Value_Pair_Roles]&#xD;&#xA;&#x9;@P_NVP_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Role VARCHAR(1000),&#xD;&#xA;&#x9;@P_Permissions_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Role]">
			<Property Name="BodyScript">
				<Value><![CDATA[
IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Roles'
BEGIN TRAN
	DECLARE @V_RLS_SEQ_ID INT
			,@V_Message AS VARCHAR(128)
			,@V_Now DATETIME = GETDATE()
			,@V_ErrorMsg VARCHAR(MAX)

	IF (SELECT COUNT(*) FROM ZGWSecurity.Roles WHERE Is_System_Only = 1 AND [Name] = @P_Name) > 0
	BEGIN
		SET @V_Message = 'The role you entered ' + @P_Name + ' is for system use only.'
		RAISERROR (@V_Message,16,1)
		RETURN
	END

	IF @P_Role_SeqID > -1
		BEGIN
			IF @P_Debug = 1 PRINT 'Updating role in ZGWSecurity.Roles'
			UPDATE ZGWSecurity.Roles
			SET 
				[Name] = @P_Name,
				[Description] = @P_Description,
				Is_System = @P_Is_System,
				Is_System_Only = @P_Is_System_Only,
				UPDATED_BY = @P_Added_Updated_By,
				UPDATED_DATE = @V_Now
			WHERE
				Role_SeqID = @P_Role_SeqID

			SELECT @P_Primary_Key = @P_Role_SeqID
		END
	ELSE
		BEGIN TRY -- INSERT a new row in the table.
			-- CHECK FOR DUPLICATE Name BEFORE INSERTING
			IF NOT EXISTS( SELECT [Name] 
				   FROM ZGWSecurity.Roles
				   WHERE [Name] = @P_Name)
				BEGIN
					IF @P_Debug = 1 PRINT 'Add role to ZGWSecurity.Roles'
					INSERT ZGWSecurity.Roles
					(
						[Name],
						[Description],
						Is_System,
						Is_System_Only,
						ADDED_BY,
						ADDED_DATE
					)
					VALUES
					(
						@P_Name,
						@P_Description,
						@P_Is_System,
						@P_Is_System_Only,
						@P_Added_Updated_By,
						@V_Now
					)
					SELECT @P_Primary_Key=SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
				END
			ELSE
				SET @P_Primary_Key = (SELECT Role_SeqID FROM ZGWSecurity.Roles WHERE [Name] = @P_Name)
			-- END IF
		END TRY
		BEGIN CATCH
			GOTO ABEND		
		END CATCH
	-- END IF
	IF(SELECT COUNT(*) FROM ZGWSecurity.Roles_Security_Entities WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID AND Role_SeqID = @P_Primary_Key) = 0 
	BEGIN TRY  -- ADD ROLE REFERENCE TO SE_SECURITY
			IF @P_Debug = 1 PRINT 'Add role reference to ZGWSecurity.Roles_Security_Entities'
			INSERT ZGWSecurity.Roles_Security_Entities (
				Security_Entity_SeqID
				, Role_SeqID
				, Added_By
				, Added_Date
			)
			VALUES (
				@P_Security_Entity_SeqID,
				@P_Primary_Key,
				@P_Added_Updated_By,
				@V_Now
			)
	END TRY
	BEGIN CATCH
		GOTO ABEND	
	END CATCH
COMMIT TRAN
IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Roles'
RETURN 0

ABEND:
	ROLLBACK TRAN
	EXEC ZGWSystem.Log_Error_Info @P_Debug
	SET @V_ErrorMsg = 'Error executing ZGWSecurity.Set_Role' + CHAR(10)
	SET @V_ErrorMsg = @V_ErrorMsg + ERROR_MESSAGE()
	RAISERROR(@V_ErrorMsg,16,1)
	RETURN @@ERROR	
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Roles']]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System_Only]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Is_System]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Is_System_Only]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Is_System_Only]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Primary_Key]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Role_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Is_System]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Is_System_Only]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="888" />
				<Property Name="Length" Value="3832" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Role_SeqID INT = -1,&#xD;&#xA;&#x9;&#x9;@P_Name VARCHAR(50) = 'Test',&#xD;&#xA;&#x9;&#x9;@P_Description VARCHAR(128) = 'Testing',&#xD;&#xA;&#x9;&#x9;@P_Is_System INT = 0,&#xD;&#xA;&#x9;&#x9;@P_Is_System_Only INT = 0,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Role&#xD;&#xA;&#x9;&#x9;@P_Role_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Name,&#xD;&#xA;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;@P_Is_System,&#xD;&#xA;&#x9;&#x9;@P_Is_System_Only,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key OUT,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;PRINT '@P_Primary_Key = ' + CONVERT(VARCHAR(MAX),@P_Primary_Key)&#xD;&#xA;&#x9;&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/08/2011&#xD;&#xA;-- Description:&#x9;Inserts or updates ZGWSecurity.Roles and&#xD;&#xA;--&#x9;ZGWSecurity.Roles_Security_Entities&#xD;&#xA;-- Note: @P_Role_SeqID value of -1 inserts a new record&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Role]&#xD;&#xA;&#x9;@P_Role_SeqID INT,&#xD;&#xA;&#x9;@P_Name VARCHAR(50),&#xD;&#xA;&#x9;@P_Description VARCHAR(128),&#xD;&#xA;&#x9;@P_Is_System INT,&#xD;&#xA;&#x9;@P_Is_System_Only INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Primary_Key int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Role_Accounts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
IF @P_Debug = 1	PRINT 'Starting ZGWSecurity.Set_Role_Accounts'
DECLARE @V_Account_SeqID AS INT
		,@V_Roles_Security_Entities_SeqID AS INT
		,@V_ErrorMsg VARCHAR(MAX)
BEGIN TRAN
	SET NOCOUNT OFF;
	SET @V_Account_SeqID = (SELECT ZGWSecurity.Accounts.Account_SeqID FROM ZGWSecurity.Accounts WHERE Account = @P_Account)
	SET @V_Roles_Security_Entities_SeqID = (
			SELECT
				Roles_Security_Entities_SeqID
			FROM
				ZGWSecurity.Roles_Security_Entities
			WHERE
				Role_SeqID = @P_Role_SeqID
				AND Security_Entity_SeqID = @P_Security_Entity_SeqID
		)
	BEGIN TRY
		INSERT INTO
			ZGWSecurity.Roles_Security_Entities_Accounts(Roles_Security_Entities_SeqID,Account_SeqID,ADDED_BY)
		VALUES(
			@V_Roles_Security_Entities_SeqID,
			@V_Account_SeqID,
			@P_Added_Updated_By
		)
	END TRY
	BEGIN CATCH
		GOTO ABEND
	END CATCH
COMMIT TRAN
IF @P_Debug = 1	PRINT 'Ending ZGWSecurity.Set_Role_Accounts'
RETURN 0
ABEND:
	ROLLBACK TRAN
	EXEC ZGWSystem.Log_Error_Info @P_Debug
	SET @V_ErrorMsg = 'Error executing ZGWSecurity.Set_Role' + CHAR(10)
	SET @V_ErrorMsg = @V_ErrorMsg + ERROR_MESSAGE()
	RAISERROR(@V_ErrorMsg,16,1)
	RETURN @@ERROR	
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Roles']]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts].[Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Account]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Role_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Account]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Role_Accounts].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="553" />
				<Property Name="Length" Value="1949" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Role_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Account VARCHAR(128) = 'Developer',&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Role_Accounts&#xD;&#xA;&#x9;&#x9;@P_Role_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Account,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/08/2011&#xD;&#xA;-- Description:&#x9;Inserts into ZGWSecurity.Roles_Security_Entities_Accounts&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Role_Accounts]&#xD;&#xA;&#x9;@P_Role_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Account VARCHAR(128),&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Debug INT = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSecurity].[Set_Security_Entity]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @V_Now DATETIME = GETDATE()
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Set_Security_Entity'
	IF @P_Parent_Security_Entity_SeqID = @P_Security_Entity_SeqID or @P_Parent_Security_Entity_SeqID = -1 SET @P_Parent_Security_Entity_SeqID = NULL
	IF @P_Security_Entity_SeqID > -1
		BEGIN
			IF @P_Debug = 1 PRINT 'Update'
			UPDATE ZGWSecurity.Security_Entities
			SET 
				Name = @P_Name,
				[Description] = @P_Description,
				URL = @P_URL,
				Status_SeqID = @P_Status_SeqID,
				DAL = @P_DAL,
				DAL_Name = @P_DAL_Name,
				DAL_Name_SPACE = @P_DAL_Name_SPACE,
				DAL_STRING = @P_DAL_STRING,
				Skin = @P_Skin,
				Style = @P_Style,
				Encryption_Type = @P_Encryption_Type,
				Parent_Security_Entity_SeqID = @P_Parent_Security_Entity_SeqID,
				UPDATED_BY = @P_Added_Updated_By,
				UPDATED_DATE = @V_Now
			WHERE
				Security_Entity_SeqID = @P_Security_Entity_SeqID

			SELECT @P_PRIMARY_KEY = @P_Security_Entity_SeqID
		END
	ELSE
		BEGIN
			IF @P_Debug = 1 PRINT 'Insert'
			-- INSERT a new row in the table.
			INSERT ZGWSecurity.Security_Entities
			(
				[Name],
				[Description],
				[URL],
				Status_SeqID,
				DAL,
				DAL_Name,
				DAL_Name_SPACE,
				DAL_STRING,
				Skin,
				Style,
				Encryption_Type,
				Parent_Security_Entity_SeqID,
				ADDED_BY,
				ADDED_DATE
			)
			VALUES
			(
				@P_Name,
				@P_Description,
				@P_URL,
				@P_Status_SeqID,
				@P_DAL,
				@P_DAL_Name,
				@P_DAL_Name_SPACE,
				@P_DAL_STRING,
				@P_Skin,
				@P_Style,
				@P_Encryption_Type,
				@P_Parent_Security_Entity_SeqID,
				@P_Added_Updated_By,
				@V_Now
			)	
			-- Get the IDENTITY value for the row just inserted.
			SELECT @P_PRIMARY_KEY=SCOPE_IDENTITY()
		END
-- End if
IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Set_Security_Entity'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Parent_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[URL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_URL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[DAL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_DAL]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[DAL_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_DAL_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[DAL_Name_Space]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_DAL_Name_SPACE]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[DAL_String]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_DAL_STRING]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Skin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Skin]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Style]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Style]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Encryption_Type]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Encryption_Type]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Parent_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Set_Security_Entity].[@P_PRIMARY_KEY]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Security_Entities].[Added_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSecurity]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_URL]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Status_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_DAL]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_DAL_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_DAL_Name_SPACE]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_DAL_STRING]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Skin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Style]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Encryption_Type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Parent_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_PRIMARY_KEY]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSecurity].[Set_Security_Entity].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1173" />
				<Property Name="Length" Value="3512" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = -1,&#xD;&#xA;&#x9;&#x9;@P_Name VARCHAR(256) = 'System',&#xD;&#xA;&#x9;&#x9;@P_Description VARCHAR(512) = 'System',&#xD;&#xA;&#x9;&#x9;@P_URL VARCHAR(128) = '',&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_DAL VARCHAR(50) = '',&#xD;&#xA;&#x9;&#x9;@P_DAL_Name VARCHAR(50) = '',&#xD;&#xA;&#x9;&#x9;@P_DAL_Name_SPACE VARCHAR(256) = '',&#xD;&#xA;&#x9;&#x9;@P_DAL_STRING VARCHAR(512) = '',&#xD;&#xA;&#x9;&#x9;@P_Skin char(25) = '',&#xD;&#xA;&#x9;&#x9;@P_Style VARCHAR(25) = '',&#xD;&#xA;&#x9;&#x9;@P_Encryption_Type INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Parent_Security_Entity_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 2,&#xD;&#xA;&#x9;&#x9;@P_PRIMARY_KEY int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSecurity.Set_Security_Entity&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Name,&#xD;&#xA;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;@P_URL,&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID,&#xD;&#xA;&#x9;&#x9;@P_DAL,&#xD;&#xA;&#x9;&#x9;@P_DAL_Name,&#xD;&#xA;&#x9;&#x9;@P_DAL_Name_SPACE,&#xD;&#xA;&#x9;&#x9;@P_DAL_STRING,&#xD;&#xA;&#x9;&#x9;@P_Skin,&#xD;&#xA;&#x9;&#x9;@P_Style,&#xD;&#xA;&#x9;&#x9;@P_Encryption_Type,&#xD;&#xA;&#x9;&#x9;@P_Parent_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_PRIMARY_KEY OUT,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;&#xD;&#xA;&#x9;PRINT 'Primay key is: ' + CONVERT(VARCHAR(30),@P_Primary_Key)&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/02/2011&#xD;&#xA;-- Description:&#x9;Inserts or updates ZGWSecurity.Security_Entities&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSecurity].[Set_Security_Entity]&#xD;&#xA;&#x9;@P_Security_Entity_SeqID int,&#xD;&#xA;&#x9;@P_Name VARCHAR(256),&#xD;&#xA;&#x9;@P_Description VARCHAR(512),&#xD;&#xA;&#x9;@P_URL VARCHAR(128),&#xD;&#xA;&#x9;@P_Status_SeqID int,&#xD;&#xA;&#x9;@P_DAL VARCHAR(50),&#xD;&#xA;&#x9;@P_DAL_Name VARCHAR(50),&#xD;&#xA;&#x9;@P_DAL_Name_SPACE VARCHAR(256),&#xD;&#xA;&#x9;@P_DAL_STRING VARCHAR(512),&#xD;&#xA;&#x9;@P_Skin char(25),&#xD;&#xA;&#x9;@P_Style VARCHAR(25),&#xD;&#xA;&#x9;@P_Encryption_Type INT,&#xD;&#xA;&#x9;@P_Parent_Security_Entity_SeqID int,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_PRIMARY_KEY int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[ZGWSecurity].[trgrZGWSecurity_Groups_Security_Entities]">
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
	DELETE FROM ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities WHERE Groups_Security_Entities_SeqID = (SELECT Groups_Security_Entities_SeqID FROM deleted) 
    -- Insert statements for trigger here

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="267" />
				<Property Name="Length" Value="754" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/15/2011&#xD;&#xA;-- Description:&#x9;Used to remove entries from&#xD;&#xA;--&#x9;ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER [ZGWSecurity].[trgrZGWSecurity_Groups_Security_Entities] &#xD;&#xA;   ON  [ZGWSecurity].[Groups_Security_Entities]&#xD;&#xA;   AFTER DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[ZGWSecurity].[trgrZGWSecurity_Roles_Security_Entities]">
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
	DELETE FROM ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities WHERE Roles_Security_Entities_SeqID = (SELECT Roles_Security_Entities_SeqID FROM deleted) 
    -- Insert statements for trigger here

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="266" />
				<Property Name="Length" Value="749" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/15/2011&#xD;&#xA;-- Description:&#x9;Used to remove entries from&#xD;&#xA;--&#x9;ZGWSecurity.Roles_Security_Entities_Roles_Security_Entities&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER [ZGWSecurity].[trgrZGWSecurity_Roles_Security_Entities] &#xD;&#xA;   ON  [ZGWSecurity].[Roles_Security_Entities]&#xD;&#xA;   AFTER DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_Accounts]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Accounts].[Account]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_Groups_Security_Entities_Groups]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Groups_Security_Entities_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups].[Group_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Groups]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZFC_FUNCT_PER_GRPS]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Groups_Security_Entities_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions].[Function_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZFC_GRPS_SE]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups_Security_Entities].[Group_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZGWCoreWeb_Function_Types]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Function_Types].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Function_Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZGWSecurity_Functions]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Functions].[Action]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZGWSecurity_Groups]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Groups].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Groups]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZGWSecurity_Navigation_Types]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Navigation_Types].[NVP_Detail_Value]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Navigation_Types]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZGWSecurity_Permissions]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_Value]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZGWSecurity_Permissions_Roles_Security_Entities_Functions]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Permissions_NVP_Detail_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Roles_Security_Entities_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions].[Function_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Functions]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[ZGWSecurity].[UK_ZGWSecurity_Roles]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSecurity].[Roles].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[ZGWSystem]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSystem].[Data_Errors]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[Error_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[ErrorNumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[ErrorSeverity]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[ErrorState]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[ErrorProcedure]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[ErrorLine]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[ErrorMessage]">
						<Property Name="IsSparse" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[ErrorDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Data_Errors].[Parameters]">
						<Property Name="IsSparse" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSystem].[Database_Information]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Database_Information].[Database_Information_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Database_Information].[Version]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Database_Information].[Enable_Inheritance]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Database_Information].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="5" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Database_Information].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="6" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Database_Information].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Database_Information].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Start [ZGWSystem].[Delete_Groups_Security_Entities_Permissions]'
	DELETE FROM 
		ZGWSecurity.Groups_Security_Entities_Permissions
	WHERE 
		Groups_Security_Entities_SeqID IN(SELECT Groups_Security_Entities_SeqID FROM ZGWSecurity.Groups_Security_Entities WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID)
		AND NVP_SeqID = @P_NVP_SeqID
		AND Permissions_NVP_Detail_SeqID = @P_Permissions_NVP_Detail_SeqID
	IF @P_Debug = 1 PRINT 'End [ZGWSystem].[Delete_Groups_Security_Entities_Permissions]'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions].[@P_Permissions_NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions].[@P_Permissions_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Groups_Security_Entities_Permissions].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="538" />
				<Property Name="Length" Value="1265" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_NVP_Detail_SeqID INT = 4,&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec [ZGWSystem].[Delete_Name_Value_Pair_Group]&#xD;&#xA;&#x9;&#x9;@P_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug BIT&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/04/2011&#xD;&#xA;-- Description:&#x9;Deletes a records from ZGWSecurity.Groups_Security_Entities_Permissions&#xD;&#xA;--&#x9;given the NVP_SeqID, Security_Entity_SeqID, and Permissions_NVP_Detail_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Delete_Groups_Security_Entities_Permissions]&#xD;&#xA;&#x9;@P_NVP_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Permissions_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Delete_Name_Value_Pair]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Delete_Name_Value_Pair'
	DELETE FROM ZGWSystem.Name_Value_Pairs
	WHERE 
		NVP_SeqID = @P_NVP_SeqID
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Delete_Name_Value_Pair'
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSystem].[Delete_Name_Value_Pair].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Name_Value_Pair].[@P_NVP_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Name_Value_Pair].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Name_Value_Pair].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Name_Value_Pair].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="458" />
				<Property Name="Length" Value="825" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 3,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID&#x9;INT = 1,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode int&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSystem.Delete_Name_Value_Pair&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Deletes a record from ZGWSystem.Name_Value_Pairs&#xD;&#xA;--&#x9;given the NVP_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Delete_Name_Value_Pair]&#xD;&#xA;&#x9;@P_NVP_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID&#x9;INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Delete_Name_Value_Pair_Detail]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Delete_Name_Value_Pair'
	DECLARE @V_Statement NVARCHAR(4000),
			@V_Static_Name VARCHAR(30)

	SET @V_Static_Name = (SELECT Static_Name FROM ZGWSystem.Name_Value_Pairs WHERE NVP_SeqID = @P_NVP_SeqID)

	SET @V_Statement= 'DELETE 
		   FROM ' + CONVERT(VARCHAR,@V_Static_Name) + '
		   WHERE NVP_Detail_SeqID= ''' + CONVERT(VARCHAR,@P_NVP_Detail_SeqID) + ''''
	EXECUTE sp_executesql @V_Statement
	IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Delete_Name_Value_Pair'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Name_Value_Pair_Detail].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Name_Value_Pair_Detail].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Name_Value_Pair_Detail].[@P_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sp_executesql]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Name_Value_Pair_Detail].[@P_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Name_Value_Pair_Detail].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Name_Value_Pair_Detail].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="520" />
				<Property Name="Length" Value="1176" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_NVP_Detail_SeqID INT = 4,&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSystem.Delete_Name_Value_Pair_Detail&#xD;&#xA;&#x9;&#x9;@P_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug BIT&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/04/2011&#xD;&#xA;-- Description:&#x9;Deletes a records from xx where xx is the static_name column&#xD;&#xA;--&#x9;from ZGWSystem.Name_Value_Pairs given the NVP_Detail_SeqID and NVP_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Delete_Name_Value_Pair_Detail]&#xD;&#xA;&#x9;@P_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_NVP_SeqID int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting ZGWSystem.Delete_Roles_Security_Entities_Permissions'
	DELETE FROM 
		ZGWSecurity.Roles_Security_Entities_Permissions
	WHERE 
		Roles_Security_Entities_SeqID IN(SELECT Roles_Security_Entities_SeqID FROM ZGWSecurity.Roles_Security_Entities WHERE Security_Entity_SeqID = @P_Security_Entity_SeqID)
		AND NVP_SeqID = @P_NVP_SeqID
		AND Permissions_NVP_Detail_SeqID = @P_Permissions_NVP_Detail_SeqID
	IF @P_Debug = 1 PRINT 'Ending ZGWSystem.Delete_Roles_Security_Entities_Permissions'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions].[@P_Permissions_NVP_Detail_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions].[@P_Permissions_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Delete_Roles_Security_Entities_Permissions].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="537" />
				<Property Name="Length" Value="1255" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_NVP_Detail_SeqID INT = 4,&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 0&#xD;&#xA;&#xD;&#xA;&#x9;exec [ZGWSystem].[Delete_Name_Value_Pair_Group]&#xD;&#xA;&#x9;&#x9;@P_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug BIT&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/04/2011&#xD;&#xA;-- Description:&#x9;Deletes a records from ZGWSecurity.Roles_Security_Entities_Permissions&#xD;&#xA;--&#x9;given the NVP_SeqID, Security_Entity_SeqID, and Permissions_NVP_Detail_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Delete_Roles_Security_Entities_Permissions]&#xD;&#xA;&#x9;@P_NVP_SeqID INT,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID INT,&#xD;&#xA;&#x9;@P_Permissions_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSystem].[DF_ZGWSystem.Data_Errors_ErrorDate]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[ErrorDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[ZGWSystem].[DF_ZGWSystem_Statuses_Added_Date]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Added_Date]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[ZGWSystem].[FK_Name_Value_Pairs_Statuses]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Get_Database_Information]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SELECT TOP 1
		Database_Information_SeqID as Information_SEQ_ID
		, [Version]
		, Enable_Inheritance
		, Added_By
		, Added_Date
		, Updated_By
		, Updated_Date
	FROM
		ZGWSystem.Database_Information WITH(NOLOCK)
	ORDER BY
		Updated_Date DESC
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSystem].[Database_Information]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Database_Information_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Version]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Enable_Inheritance]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="304" />
				<Property Name="Length" Value="646" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;exec ZGWSystem.Get_Database_Information&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/18/2011&#xD;&#xA;-- Description:&#x9;Retrievs the database information from&#xD;&#xA;--&#x9;ZGWSystem.Database_Information&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Get_Database_Information]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Get_Name_Value_Pair]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSystem.Get_Name_Value_Pair'
	IF @P_NVP_SeqID > -1
		BEGIN
			SELECT
				NVP_SeqID as NVP_SEQ_ID
				, [Schema_Name]
				, Static_Name
				, Display
				, [Description]
				, Added_By
				, Added_Date
				, Updated_By
				, Updated_Date
			FROM
				ZGWSystem.Name_Value_Pairs
			WHERE
				ZGWSystem.Name_Value_Pairs.NVP_SeqID = @P_NVP_SeqID
			ORDER BY
				Static_Name
		END
	ELSE
		BEGIN
			IF @P_Account_SeqID > -1
				BEGIN -- get only valid NVP for the given account
					IF @P_Debug = 1 PRINT 'get only valid NVP for the given account'
					DECLARE @V_PERMISSION_ID INT
					SET @V_PERMISSION_ID = ZGWSecurity.Get_View_Permission_SeqID()
					DECLARE @V_AvalibleItems TABLE ([NVP_SeqID] int,
													[Schema_Name] varchar(30),
													[Static_Name] varchar(30),
													[Display] varchar(128),
													[Description] varchar(256),
													[Status_SeqID] int,
													[Added_By] int,
													[Added_Date] datetime,
													[Updated_By] int,
													[Updated_Date] datetime,
													[ROLE] VARCHAR(50))
					IF @P_Debug = 1 PRINT 'Geting items via roles'
					INSERT INTO @V_AvalibleItems
					SELECT -- Items via roles
						ZGWSystem.Name_Value_Pairs.NVP_SeqID,
						ZGWSystem.Name_Value_Pairs.[Schema_Name],
						ZGWSystem.Name_Value_Pairs.Static_Name,
						ZGWSystem.Name_Value_Pairs.Display,
						ZGWSystem.Name_Value_Pairs.[Description],
						ZGWSystem.Name_Value_Pairs.Status_SeqID,
						ZGWSystem.Name_Value_Pairs.Added_By,
						ZGWSystem.Name_Value_Pairs.Added_Date,
						ZGWSystem.Name_Value_Pairs.Updated_By,
						ZGWSystem.Name_Value_Pairs.Updated_Date,
						ROLES.NAME AS [ROLE]
					FROM
						ZGWSecurity.Roles_Security_Entities SE_ROLES,
						ZGWSecurity.Roles ROLES,
						ZGWSecurity.Roles_Security_Entities_Permissions [SECURITY],
						ZGWSystem.Name_Value_Pairs,
						ZGWSecurity.[Permissions] [Permissions]
					WHERE
						SE_ROLES.Role_SeqID = ROLES.Role_SeqID
						AND SECURITY.Roles_Security_Entities_SeqID = SE_ROLES.Roles_Security_Entities_SeqID
						AND SECURITY.NVP_SeqID = ZGWSystem.Name_Value_Pairs.NVP_SeqID
						AND [Permissions].NVP_Detail_SeqID = SECURITY.Permissions_NVP_Detail_SeqID
						AND [Permissions].NVP_Detail_SeqID = @V_PERMISSION_ID
						AND SE_ROLES.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
					IF @P_Debug = 1 PRINT 'Getting items via groups'
					INSERT INTO @V_AvalibleItems
					SELECT -- Items via groups
						ZGWSystem.Name_Value_Pairs.NVP_SeqID
						, ZGWSystem.Name_Value_Pairs.[Schema_Name]
						, ZGWSystem.Name_Value_Pairs.Static_Name
						, ZGWSystem.Name_Value_Pairs.Display
						, ZGWSystem.Name_Value_Pairs.[Description]
						, ZGWSystem.Name_Value_Pairs.Status_SeqID
						, ZGWSystem.Name_Value_Pairs.Added_By
						, ZGWSystem.Name_Value_Pairs.Added_Date
						, ZGWSystem.Name_Value_Pairs.Updated_By
						, ZGWSystem.Name_Value_Pairs.Updated_Date
						, ROLES.NAME AS [ROLE]
					FROM
						ZGWSecurity.Groups_Security_Entities_Permissions,
						ZGWSecurity.Groups_Security_Entities,
						ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities,
						ZGWSecurity.Roles_Security_Entities,
						ZGWSecurity.Roles ROLES,
						ZGWSystem.Name_Value_Pairs,
						ZGWSecurity.[Permissions] [Permissions]
					WHERE
						ZGWSecurity.Groups_Security_Entities_Permissions.NVP_SeqID = ZGWSystem.Name_Value_Pairs.NVP_SeqID
						AND ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Permissions.Groups_Security_Entities_SeqID
						AND ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID
						AND ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Roles_Security_Entities_SeqID
						AND ROLES.Role_SeqID = ZGWSecurity.Roles_Security_Entities.Role_SeqID
						AND [Permissions].NVP_Detail_SeqID = ZGWSecurity.Groups_Security_Entities_Permissions.Permissions_NVP_Detail_SeqID
						AND [Permissions].NVP_Detail_SeqID = @V_PERMISSION_ID
						AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))

					DECLARE @V_AccountRoles TABLE (Roles VARCHAR(30)) -- Roles belonging to the account
					IF @P_Debug = 1 PRINT 'Getting roles for account and roles via groups'
					INSERT INTO @V_AccountRoles
					SELECT -- Roles via roles
						ZGWSecurity.Roles.[NAME] AS Roles
					FROM
						ZGWSecurity.Accounts,
						ZGWSecurity.Roles_Security_Entities_Accounts,
						ZGWSecurity.Roles_Security_Entities,
						ZGWSecurity.Roles
					WHERE
						ZGWSecurity.Roles_Security_Entities_Accounts.Account_SeqID = @P_Account_SeqID
						AND ZGWSecurity.Roles_Security_Entities_Accounts.Roles_Security_Entities_SeqID = ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID
						AND ZGWSecurity.Roles_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
						AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID
					UNION
					SELECT -- Roles via groups
						ZGWSecurity.Roles.[NAME] AS Roles
					FROM
						ZGWSecurity.Accounts,
						ZGWSecurity.Groups_Security_Entities_Accounts,
						ZGWSecurity.Groups_Security_Entities,
						ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities,
						ZGWSecurity.Roles_Security_Entities,
						ZGWSecurity.Roles
					WHERE
						ZGWSecurity.Groups_Security_Entities_Accounts.Account_SeqID = @P_Account_SeqID
						AND ZGWSecurity.Groups_Security_Entities.Security_Entity_SeqID IN (SELECT Security_Entity_SeqID FROM ZGWSecurity.Get_Entity_Parents(1,@P_Security_Entity_SeqID))
						AND ZGWSecurity.Groups_Security_Entities.Groups_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Groups_Security_Entities_SeqID
						AND ZGWSecurity.Roles_Security_Entities.Roles_Security_Entities_SeqID = ZGWSecurity.Groups_Security_Entities_Roles_Security_Entities.Roles_Security_Entities_SeqID
						AND ZGWSecurity.Roles_Security_Entities.Role_SeqID = ZGWSecurity.Roles.Role_SeqID

					DECLARE @V_AllItems TABLE ([NVP_SeqID] int, 
												[Schema_Name] varchar(30),
												[Static_Name] varchar(30),
												[Display] varchar(128),
												[Description] varchar(256),
												[Added_By] int,
												[Added_Date] datetime,
												[Updated_By] int,
												[Updated_Date] datetime)
					IF @P_Debug = 1 PRINT 'Putting all items into tabable variable'
					INSERT INTO @V_AllItems
						SELECT -- Last but not least get the menu items when there are matching account roles.
							NVP_SeqID
							, [Schema_Name]
							, Static_Name
							, Display
							, [Description]
							, Added_By
							, Added_Date
							, Updated_By
							, Updated_Date
						FROM 
							@V_AvalibleItems
						WHERE
							ROLE IN (SELECT DISTINCT * FROM @V_AccountRoles)

					DECLARE @V_DistinctItems TABLE ([NVP_SeqID] int, 
													[Schema_Name] varchar(30),
													[Static_Name] varchar(30),
													[Display] varchar(128),
													[Description] varchar(256),
													[Added_By] int,
													[Added_Date] datetime,
													[Updated_By] int,
													[Updated_Date] datetime)
					IF @P_Debug = 1 PRINT 'Getting disting items into table variable'
					INSERT INTO @V_DistinctItems
						SELECT DISTINCT
							NVP_SeqID,
							[Schema_Name],
							Static_Name,
							Display,
							[Description],
							Added_By,
							Added_Date,
							Updated_By,
							Updated_Date
						FROM
							@V_AllItems

					IF @P_Debug = 1 PRINT 'Selecting all distint items for account'
					SELECT
						NVP_SeqID as NVP_SEQ_ID
						, [Schema_Name]
						, Static_Name
						, Display
						, [Description]
						, Added_By
						, Added_Date
						, Updated_By
						, Updated_Date
					FROM
						@V_DistinctItems
					ORDER BY
						Static_Name
				END
			ELSE
				BEGIN -- get only valid NVP for the given account
					IF @P_Debug = 1 PRINT 'get only valid NVP for the given account'
					SELECT
						NVP_SeqID as NVP_SEQ_ID
						, [Schema_Name]
						, Static_Name
						, Display
						, [Description]
						, Added_By
						, Added_Date
						, Updated_By
						, Updated_Date
					FROM
						ZGWSystem.Name_Value_Pairs
					ORDER BY
						Static_Name
				END
		END
		IF @P_Debug = 1 PRINT 'Ending ZGWSecurity.Get_Function_Roles'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Display]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@P_Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_View_Permission_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Display]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@P_Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Display]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Permissions].[NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Permissions].[Permissions_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities_Accounts].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Accounts].[Account_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Get_Entity_Parents].[Security_Entity_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Groups_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Groups_Security_Entities_Roles_Security_Entities].[Roles_Security_Entities_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles_Security_Entities].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSecurity].[Roles].[Role_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Display]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[ROLE]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Display]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Display]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[NVP_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Schema_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Static_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Display]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="128" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Status_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Added_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Added_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Updated_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[Updated_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AvalibleItems].[ROLE]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AccountRoles]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AccountRoles].[Roles]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[NVP_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Schema_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Static_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Display]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="128" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Added_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Added_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Updated_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_AllItems].[Updated_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[NVP_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Schema_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Static_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="30" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Display]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="128" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Added_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Added_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Updated_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair].[@V_DistinctItems].[Updated_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair].[@P_Account_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair].[@P_Security_Entity_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="453" />
				<Property Name="Length" Value="9537" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Account_SeqID int = 2,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSystem.Get_Name_Value_Pair&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Account_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Security_Entity_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/19/2011&#xD;&#xA;-- Description:&#x9;Returns name value pairs &#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Get_Name_Value_Pair]&#xD;&#xA;&#x9;@P_NVP_SeqID int,&#xD;&#xA;&#x9;@P_Account_SeqID int,&#xD;&#xA;&#x9;@P_Security_Entity_SeqID int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Get_Name_Value_Pair_Detail]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @V_TableName VARCHAR(30)
	DECLARE @V_Statement nvarchar(4000)
	SET @V_TableName = (SELECT [Schema_Name] + '.' + Static_Name FROM ZGWSystem.Name_Value_Pairs WHERE NVP_SeqID = @P_NVP_SeqID)
	SET @V_Statement = 'SELECT NVP_SeqID as NVP_SEQ_ID, [Schema_Name], Static_Name, Display, Description, Status_SeqID as STATUS_SEQ_ID, Added_By, Added_Date, Updated_By, Updated_Date FROM ' + CONVERT(VARCHAR,@V_TableName) + '
	WHERE
		NVP_Detail_SeqID = ' + CONVERT(VARCHAR,@P_NVP_Detail_SeqID) + ' ORDER BY Static_Name'

	EXECUTE dbo.sp_executesql @statement = @V_Statement
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Detail].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Detail].[@P_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sp_executesql]" />
				</Entry>
				<Entry />
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair_Detail].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair_Detail].[@P_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair_Detail].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="598" />
				<Property Name="Length" Value="1313" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_NVP_Detail_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSystem.Get_Name_Value_Pair_Detail&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 09/11/2011&#xD;&#xA;-- Description:&#x9;Returns name value pair detail&#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;This not the most effecient however this should&#xD;&#xA;--&#x9;not be called very often ... it is intended for the&#xD;&#xA;--&#x9;front end to cache the information and only get called&#xD;&#xA;--&#x9;when needed&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Get_Name_Value_Pair_Detail]&#xD;&#xA;&#x9;@P_NVP_SeqID INT,&#xD;&#xA;&#x9;@P_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Get_Name_Value_Pair_Details]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF @P_Debug = 1 PRINT 'Starting ZGWSecurity.Get_Name_Value_Pair_Details'

	CREATE TABLE #NVP_DETAILS (NVP_Detail_SeqID INT
								, NVP_SeqID INT
								, NVP_Detail_Name VARCHAR(50)
								, NVP_Detail_Value VARCHAR(300)
								, Status_SeqID INT
								, Sort_Order INT
								, Added_By INT
								, Added_Date DATETIME
								, Updated_By INT
								, Updated_Date DATETIME) 
	DECLARE @V_NVP_SeqID INT
			,@V_Static_Name VARCHAR(30)
			,@V_Schema_Name VARCHAR(30)
			,@V_Statement nvarchar(max)
	SET @V_Statement = 'SELECT * FROM '
	DECLARE V_Name_Value_Pairs CURSOR STATIC LOCAL FOR
		SELECT
			NVP_SeqID,
			Static_Name,
			[Schema_Name]
		FROM
			ZGWSystem.Name_Value_Pairs

	OPEN V_Name_Value_Pairs
		FETCH NEXT FROM V_Name_Value_Pairs
		INTO 
			@V_NVP_SeqID,  
			@V_Static_Name,
			@V_Schema_Name
		WHILE (@@FETCH_STATUS = 0)
			BEGIN
				SET @V_Statement =  @V_Statement + CONVERT(VARCHAR,@V_Schema_Name) + '.' + CONVERT(VARCHAR,@V_Static_Name) + ' UNION ALL SELECT * FROM '
				FETCH NEXT FROM V_Name_Value_Pairs INTO @V_NVP_SeqID, @V_Static_Name, @V_Schema_Name
			END
	CLOSE V_Name_Value_Pairs
	DEALLOCATE V_Name_Value_Pairs
	SET @V_Statement = SUBSTRING(@V_Statement, 0, LEN(@V_Statement) - 23)
	IF @P_Debug = 1 PRINT @V_Statement
	INSERT INTO #NVP_DETAILS EXECUTE dbo.sp_executesql @statement = @V_Statement

	IF @P_NVP_SeqID = -1
		SELECT 
			#NVP_DETAILS.NVP_Detail_SeqID as NVP_SEQ_DET_ID,
			#NVP_DETAILS.NVP_SeqID as NVP_SEQ_ID,
			ZGWSystem.Name_Value_Pairs.[Schema_Name] + '.' + ZGWSystem.Name_Value_Pairs.Static_Name as [Table_Name],
			#NVP_DETAILS.NVP_Detail_Name as NVP_DET_VALUE, 
			#NVP_DETAILS.NVP_Detail_Value as NVP_DET_TEXT, 
			#NVP_DETAILS.Status_SeqID as STATUS_SEQ_ID, 
			#NVP_DETAILS.Sort_Order, 
			#NVP_DETAILS.Added_By, 
			#NVP_DETAILS.Added_Date, 
			#NVP_DETAILS.Updated_By, 
			#NVP_DETAILS.Updated_Date 
		FROM 
			#NVP_DETAILS,
			ZGWSystem.Name_Value_Pairs
		WHERE
			#NVP_DETAILS.NVP_SeqID = ZGWSystem.Name_Value_Pairs.NVP_SeqID
		ORDER BY
			ZGWSystem.Name_Value_Pairs.Static_Name,
			#NVP_DETAILS.NVP_Detail_Value
	ELSE
		SELECT 
			#NVP_DETAILS.NVP_Detail_SeqID as NVP_SEQ_DET_ID,
			#NVP_DETAILS.NVP_SeqID as NVP_SEQ_ID,
			ZGWSystem.Name_Value_Pairs.[Schema_Name] + '.' + ZGWSystem.Name_Value_Pairs.Static_Name as [Table_Name],
			#NVP_DETAILS.NVP_Detail_Name as NVP_DET_VALUE, 
			#NVP_DETAILS.NVP_Detail_Value as NVP_DET_TEXT, 
			#NVP_DETAILS.Status_SeqID as STATUS_SEQ_ID, 
			#NVP_DETAILS.Sort_Order, 
			#NVP_DETAILS.Added_By, 
			#NVP_DETAILS.Added_Date, 
			#NVP_DETAILS.Updated_By, 
			#NVP_DETAILS.Updated_Date 
		FROM 
			#NVP_DETAILS,
			ZGWSystem.Name_Value_Pairs
		WHERE
			#NVP_DETAILS.NVP_SeqID = ZGWSystem.Name_Value_Pairs.NVP_SeqID
			AND ZGWSystem.Name_Value_Pairs.NVP_SeqID = @P_NVP_SeqID
		ORDER BY
			ZGWSystem.Name_Value_Pairs.Static_Name,
			#NVP_DETAILS.NVP_Detail_Value

	DROP TABLE #NVP_DETAILS

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_Detail_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_Detail_Value]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Sort_Order]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_Detail_Value]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_Detail_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_Detail_Name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[NVP_Detail_Value]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="300" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Status_SeqID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Sort_Order]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Added_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Added_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Updated_By]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[#NVP_DETAILS].[Updated_Date]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Get_Name_Value_Pair_Details].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="545" />
				<Property Name="Length" Value="3651" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = 1,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSystem.Get_Name_Value_Pair_Details&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 08/19/2011&#xD;&#xA;-- Description:&#x9;Returns name value pair details &#xD;&#xA;-- Note:&#xD;&#xA;--&#x9;This not the most effecient however this should&#xD;&#xA;--&#x9;not be called very often ... it is intended for the&#xD;&#xA;--&#x9;front end to cache the information and only get called&#xD;&#xA;--&#x9;when needed&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Get_Name_Value_Pair_Details]&#xD;&#xA;&#x9;@P_NVP_SeqID int,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[ZGWSystem].[Inheritance_Enabled]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Enable_Inheritance]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Updated_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @V_RETURN_VAL INT
	SET @V_RETURN_VAL = (SELECT TOP 1 Enable_Inheritance FROM ZGWSystem.Database_Information ORDER BY Updated_Date DESC)
	RETURN @V_RETURN_VAL -- 0 = FALSE 1 = TRUE
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="272" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [ZGWSystem].[Inheritance_Enabled]()&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Log_Error_Info]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @V_Error_SeqID INT
	INSERT ZGWSystem.Data_Errors (
		[ErrorNumber],
		[ErrorSeverity],
		[ErrorState],
		[ErrorProcedure],
		[ErrorLine],
		[ErrorMessage],
		[ErrorDate]
	)
	VALUES (
		ERROR_NUMBER(),
		ERROR_SEVERITY(),
		ERROR_STATE(),
		ERROR_PROCEDURE(),
		ERROR_LINE(),
		ERROR_MESSAGE(),
		GETDATE()
	)
	IF @P_Return_Row = 1
		BEGIN
			SELECT @V_Error_SeqID = SCOPE_IDENTITY()
	
			SELECT 
				[ErrorNumber],
				[ErrorSeverity],
				[ErrorState],
				[ErrorProcedure],
				[ErrorLine],
				[ErrorMessage],
				[ErrorDate]
			FROM
				ZGWSystem.Data_Errors
			WHERE
				Error_SeqID = @V_Error_SeqID
		END
	-- END IF
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[ErrorNumber]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[ErrorSeverity]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[ErrorState]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[ErrorProcedure]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[ErrorLine]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[ErrorMessage]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[ErrorDate]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Log_Error_Info].[@P_Return_Row]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Data_Errors].[Error_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Log_Error_Info].[@P_Return_Row]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="751" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [ZGWSystem].[Log_Error_Info]&#xD;&#xA;&#x9;@P_Return_Row bit = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSystem].[Name_Value_Pairs]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Display]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Status_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Added_By]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="11" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Name_Value_Pairs].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSystem].[PK_ZGWSystem_Database_Information]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSystem].[Database_Information].[Database_Information_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Database_Information]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSystem].[PK_ZGWSystem_Name_Value_Pairs]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[ZGWSystem].[PK_ZGWSystem_Statuses]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Set_Datase_Information]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	DECLARE @V_Now DATETIME = GETDATE()
	IF (SELECT COUNT(*) FROM [ZGWSystem].[Database_Information]) = 0
		BEGIN -- INSERT
			INSERT [ZGWSystem].[Database_Information]
			(
				Version,
				Enable_Inheritance,
				ADDED_BY,
				ADDED_DATE
			)
			VALUES
			(
				@P_Version,
				@P_Enable_Inheritance,
				@P_Added_Updated_By,
				@V_Now
			)
			SELECT @P_Primary_Key = SCOPE_IDENTITY()-- Get the IDENTITY value for the row just inserted.
		END
	ELSE-- UPDATE
		BEGIN
			UPDATE [ZGWSystem].[Database_Information]
			SET 
				[Version] = @P_Version,
				Enable_Inheritance = @P_Enable_Inheritance,
				UPDATED_BY = @P_Added_Updated_By,
				UPDATED_DATE = @V_Now
			WHERE
				Database_Information_SeqID = @P_Database_Information_SeqID

			SET @P_Primary_Key = @P_Database_Information_SeqID

		END
	-- END IF
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Version]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Enable_Inheritance]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Datase_Information].[@P_Version]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Datase_Information].[@P_Enable_Inheritance]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Datase_Information].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Datase_Information].[@P_Primary_Key]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Database_Information].[Database_Information_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Datase_Information].[@P_Database_Information_SeqID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Datase_Information].[@P_Database_Information_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Datase_Information].[@P_Version]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Datase_Information].[@P_Enable_Inheritance]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Datase_Information].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Datase_Information].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Datase_Information].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="666" />
				<Property Name="Length" Value="1768" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_Database_Information_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Version VARCHAR(15) = '3',&#xD;&#xA;&#x9;&#x9;@P_Enable_Inheritance INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key int,&#xD;&#xA;&#x9;&#x9;@P_Debug INT = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSystem.Set_Datase_Information&#xD;&#xA;&#x9;&#x9;@P_Database_Information_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Version,&#xD;&#xA;&#x9;&#x9;@P_Enable_Inheritance,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_By,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/28/2011&#xD;&#xA;-- Description:&#x9;Inserts or updates a record from [ZGWSystem].[Set_Datase_Information]&#xD;&#xA;--&#x9;given the Database_Information_SeqID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Set_Datase_Information]&#xD;&#xA;&#x9;@P_Database_Information_SeqID INT,&#xD;&#xA;&#x9;@P_Version VARCHAR(15),&#xD;&#xA;&#x9;@P_Enable_Inheritance INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Primary_Key int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Set_Name_Value_Pair]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting [ZGWSystem].[Set_Name_Value_Pair]'
	DECLARE @V_NOW DATETIME = GETDATE()
	IF @P_NVP_SeqID > -1
		BEGIN -- UPDATE PROFILE
			UPDATE ZGWSystem.Name_Value_Pairs
			SET 
				[Display] = @P_Display,
				[Description] = @P_Description,
				Status_SeqID = @P_Status_SeqID,
				UPDATED_BY = @P_Added_Updated_BY,
				UPDATED_DATE = @V_NOW
			WHERE
				NVP_SeqID = @P_NVP_SeqID

			SELECT @P_Primary_Key = @P_NVP_SeqID
		END
	ELSE
	BEGIN -- INSERT a new row in the table.

			-- CHECK FOR DUPLICATE NAME BEFORE INSERTING
			IF EXISTS(SELECT Static_Name FROM ZGWSystem.Name_Value_Pairs WHERE Static_Name = @P_Static_Name)
				BEGIN
					RAISERROR ('The name value pair already exists in the database.',16,1)
					SELECT @P_ErrorCode=1
					RETURN
				END
			IF NOT EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID('[' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '].[' + CONVERT(VARCHAR(MAX),@P_Static_Name) + ']') AND OBJECTPROPERTY(id, N'IsUserTable') = 1)
			BEGIN -- Create the new table to hold the details for the name value pair
				DECLARE @V_Statement nvarchar(4000)

				set @V_Statement = 'CREATE TABLE [' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '].[' + CONVERT(VARCHAR,@P_Static_Name) + '](
					[NVP_Detail_SeqID] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
					[NVP_SeqID] [int] NOT NULL,
					[NVP_Detail_Name] [varchar](50) NOT NULL,
					[NVP_Detail_Value] [varchar](300) NOT NULL,
					[Status_SeqID] [int] NOT NULL,
					[Sort_Order] [int] NOT NULL,
					[Added_By] [int] NOT NULL,
					[Added_DATE] [datetime] NOT NULL,
					[UPDATED_BY] [int] NULL,
					[UPDATED_DATE] [datetime] NULL,
					 CONSTRAINT [PK_' + CONVERT(VARCHAR,@P_Static_Name) + '] PRIMARY KEY CLUSTERED 
					(
						[NVP_Detail_SeqID] ASC
					)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY],
					 CONSTRAINT [UK_' + CONVERT(VARCHAR,@P_Static_Name) + '] UNIQUE NONCLUSTERED 
					(
						[NVP_Detail_Name] ASC,	
						[NVP_Detail_Value] ASC
					)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
					) ON [PRIMARY]
					ALTER TABLE [' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '].[' + CONVERT(VARCHAR,@P_Static_Name) + '] WITH CHECK ADD CONSTRAINT [FK_' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '_' + CONVERT(VARCHAR,@P_Static_Name) + '_ZGWSystem_Statuses] FOREIGN KEY([Status_SeqID])
					REFERENCES [ZGWSystem].[Statuses] ([Status_SeqID])
					ON UPDATE CASCADE
					ON DELETE CASCADE
					ALTER TABLE [' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '].[' + CONVERT(VARCHAR,@P_Static_Name) + '] CHECK CONSTRAINT [FK_' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '_' + CONVERT(VARCHAR,@P_Static_Name) + '_ZGWSystem_Statuses]
					ALTER TABLE[' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '].[' + CONVERT(VARCHAR,@P_Static_Name) + ']  WITH CHECK ADD  CONSTRAINT [FK_' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '_' + CONVERT(VARCHAR,@P_Static_Name) + '_ZGWSystem_Name_Value_Pairs] FOREIGN KEY([NVP_SeqID])
					REFERENCES [ZGWSystem].[Name_Value_Pairs] ([NVP_SeqID])
					ON UPDATE CASCADE
					ON DELETE CASCADE
					ALTER TABLE [' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '].[' + CONVERT(VARCHAR,@P_Static_Name) + '] CHECK CONSTRAINT [FK_' + CONVERT(VARCHAR(MAX),@P_Schema_Name) + '_' + CONVERT(VARCHAR,@P_Static_Name) + '_ZGWSystem_Name_Value_Pairs]
					' 
				IF @P_Debug = 1 PRINT  @V_Statement
				EXECUTE dbo.sp_executesql @statement = @V_Statement

			END
			INSERT ZGWSystem.Name_Value_Pairs
			(
				[Schema_Name],
				Static_Name,
				[Display],
				[Description],
				Status_SeqID,
				Added_By,
				Added_DATE
			)
			VALUES
			(
				@P_Schema_Name,
				@P_Static_Name,
				@P_Display,
				@P_Description,
				@P_Status_SeqID,
				@P_Added_Updated_BY,
				@V_NOW
			)
			SELECT @P_Primary_Key=SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
		END
-- Get the Error Code for the statement just executed.
SELECT @P_ErrorCode=@@ERROR
IF @P_Debug = 1 PRINT 'End [ZGWSystem].[Set_Name_Value_Pair]']]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Display]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Display]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Added_Updated_BY]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Primary_Key]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_ErrorCode]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sysobjects]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sysobjects].[id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Schema_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sp_executesql]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Added_Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Schema_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Static_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Display]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Status_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Added_Updated_BY]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_ErrorCode]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="840" />
				<Property Name="Length" Value="5366" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID int = -1,&#xD;&#xA;&#x9;&#x9;@P_Schema_Name VARCHAR(30) = 'dbo',&#xD;&#xA;&#x9;&#x9;@P_Static_Name VARCHAR(30) = 'Testing',&#xD;&#xA;&#x9;&#x9;@P_Display VARCHAR(128) = 'TestingNVP',&#xD;&#xA;&#x9;&#x9;@P_Description VARCHAR(256) = 'Just Testing the Name value Pair',&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_BY INT = 1,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key INT = null,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode int = null,&#xD;&#xA;&#x9;&#x9;@P_Debug bit = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSystem.Set_Name_Value_Pair&#xD;&#xA;&#x9;&#x9;@P_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Schema_Name,&#xD;&#xA;&#x9;&#x9;@P_Static_Name,&#xD;&#xA;&#x9;&#x9;@P_Display,&#xD;&#xA;&#x9;&#x9;@P_Description,&#xD;&#xA;&#x9;&#x9;@P_Status_SeqID,&#xD;&#xA;&#x9;&#x9;@P_Added_Updated_BY,&#xD;&#xA;&#x9;&#x9;@P_Primary_Key,&#xD;&#xA;&#x9;&#x9;@P_ErrorCode,&#xD;&#xA;&#x9;&#x9;@P_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/26/2011&#xD;&#xA;-- Description:&#x9;Inserts/Updates ZGWCoreWeb.Account_Choices based on @P_Account&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Set_Name_Value_Pair]&#xD;&#xA;&#x9;@P_NVP_SeqID int,&#xD;&#xA;&#x9;@P_Schema_Name VARCHAR(30),&#xD;&#xA;&#x9;@P_Static_Name VARCHAR(30),&#xD;&#xA;&#x9;@P_Display VARCHAR(128),&#xD;&#xA;&#x9;@P_Description VARCHAR(256),&#xD;&#xA;&#x9;@P_Status_SeqID INT,&#xD;&#xA;&#x9;@P_Added_Updated_BY INT,&#xD;&#xA;&#x9;@P_Primary_Key INT OUTPUT,&#xD;&#xA;&#x9;@P_ErrorCode int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Debug = 1 PRINT 'Starting [ZGWSystem].[Set_Name_Value_Pair_Detail]'
	DECLARE 
		@V_Static_Name VARCHAR(30) = (SELECT Static_Name FROM ZGWSystem.Name_Value_Pairs WHERE NVP_SeqID = @P_NVP_SeqID)
		,@V_Schema_Name VARCHAR(30) = (SELECT [Schema_Name] FROM ZGWSystem.Name_Value_Pairs WHERE NVP_SeqID = @P_NVP_SeqID)
		,@V_Statement NVARCHAR(4000)
		,@V_Now DATETIME = GETDATE()

	IF @P_NVP_Detail_SeqID > -1
		BEGIN -- UPDATE PROFILE
			SET @V_Statement = 'UPDATE ' + CONVERT(VARCHAR,@V_Schema_Name) + '.' + CONVERT(VARCHAR,@V_Static_Name) + '
			SET 
				NVP_Detail_Name = ''' + CONVERT(VARCHAR,@P_NVP_Detail_Name) + ''',
				NVP_Detail_Value = ''' + CONVERT(VARCHAR,@P_NVP_Detail_Value) + ''',
				Status_SeqID = ' + CONVERT(VARCHAR,@P_Status_SeqID) + ',
				Sort_Order = ' + CONVERT(VARCHAR,@P_Sort_Order) + ',
				UPDATED_BY = ' + CONVERT(VARCHAR,@P_Added_Updated_By) + ',
				UPDATED_DATE = ''' + CONVERT(VARCHAR,@V_Now) + '''
			WHERE
				NVP_Detail_SeqID = ' + CONVERT(VARCHAR,@P_NVP_Detail_SeqID)
			IF @P_Debug = 1 PRINT @V_Statement
			EXECUTE dbo.sp_executesql @statement = @V_Statement
			SELECT @P_Primary_Key = @P_NVP_SeqID
		END
	ELSE
		BEGIN -- INSERT a new row in the table.
			-- CHECK FOR DUPLICATE NAME BEFORE INSERTING
			DECLARE @V_COUNT INT
			SET @V_Statement= 'SET @V_COUNT = (SELECT COUNT(*)
				   FROM ' + CONVERT(VARCHAR,@V_Schema_Name) + '.' + CONVERT(VARCHAR,@V_Static_Name) + '
				   WHERE NVP_Detail_Value = ''' + CONVERT(VARCHAR,@P_NVP_Detail_Value) + ''' AND NVP_Detail_Name = ''' + CONVERT(VARCHAR,@P_NVP_Detail_Name) + ''')'
			IF @P_Debug = 1 PRINT @V_Statement
			EXECUTE sp_executesql @V_Statement,N'@V_COUNT int output',@V_COUNT output
			IF @V_COUNT > 0
				BEGIN
					RAISERROR ('The entry already exists in the database.',16,1)
					RETURN
				END
			SET @V_Statement = 'INSERT INTO ' + CONVERT(VARCHAR,@V_Schema_Name) + '.' + CONVERT(VARCHAR,@V_Static_Name) + '(
					NVP_SeqID,
					NVP_Detail_Name,
					NVP_Detail_Value,
					Status_SeqID,
					Sort_Order,
					Added_By,
					ADDED_DATE
				)
				VALUES
				(
					' + CONVERT(VARCHAR,@P_NVP_SeqID) + ',
					''' + CONVERT(VARCHAR,@P_NVP_Detail_Name) + ''',
					''' + CONVERT(VARCHAR,@P_NVP_Detail_Value) + ''',
					' + CONVERT(VARCHAR,@P_Status_SeqID) + ',
					' + CONVERT(VARCHAR,@P_Sort_Order) + ',
					' + CONVERT(VARCHAR,@P_Added_Updated_By) + ',
					''' + CONVERT(VARCHAR,@V_Now) + '''
				)'
			IF @P_Debug = 1 PRINT @V_Statement
			EXECUTE dbo.sp_executesql @statement = @V_Statement
			SELECT @P_Primary_Key=SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
			--PRINT 'DONE ADDING'
		END
-- Get the Error Code for the statement just executed.
--PRINT 'SETTING ERROR CODE'
SELECT @P_ErrorCode=@@ERROR
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Static_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[NVP_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Name_Value_Pairs].[Schema_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Debug]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_NVP_Detail_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_NVP_Detail_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_NVP_Detail_Value]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Status_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Sort_Order]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sp_executesql]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Primary_Key]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_NVP_SeqID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dbschema" Name="[master]|[sys].[sp_executesql]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_ErrorCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_NVP_Detail_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_NVP_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_NVP_Detail_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_NVP_Detail_Value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Status_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Sort_Order]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_ErrorCode]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_Name_Value_Pair_Detail].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="913" />
				<Property Name="Length" Value="4048" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE &#xD;&#xA;&#x9;&#x9;@V_NVP_Detail_SeqID INT = -1,&#xD;&#xA;&#x9;&#x9;@V_NVP_SeqID int = (SELECT NVP_SeqID FROM ZGWSystem.Name_Value_Pairs WHERE STATIC_NAME = 'Navigation_Types') ,&#xD;&#xA;&#x9;&#x9;@V_NVP_Detail_Name VARCHAR(50) = 'Test',&#xD;&#xA;&#x9;&#x9;@V_NVP_Detail_Value VARCHAR(300) = 'Test value',&#xD;&#xA;&#x9;&#x9;@V_Status_SeqID INT = 1,&#xD;&#xA;&#x9;&#x9;@V_Sort_Order INT = 1,&#xD;&#xA;&#x9;&#x9;@V_Added_Updated_BY INT = 1,&#xD;&#xA;&#x9;&#x9;@V_Primary_Key INT = null,&#xD;&#xA;&#x9;&#x9;@V_ErrorCode int = null,&#xD;&#xA;&#x9;&#x9;@V_Debug bit = 1&#xD;&#xA;&#xD;&#xA;&#x9;exec ZGWSystem.Set_Name_Value_Pair_Detail&#xD;&#xA;&#x9;&#x9;@V_NVP_Detail_SeqID,&#xD;&#xA;&#x9;&#x9;@V_NVP_SeqID,&#xD;&#xA;&#x9;&#x9;@V_NVP_Detail_Name,&#xD;&#xA;&#x9;&#x9;@V_NVP_Detail_Value,&#xD;&#xA;&#x9;&#x9;@V_Status_SeqID,&#xD;&#xA;&#x9;&#x9;@V_Sort_Order,&#xD;&#xA;&#x9;&#x9;@V_Added_Updated_BY,&#xD;&#xA;&#x9;&#x9;@V_Primary_Key,&#xD;&#xA;&#x9;&#x9;@V_ErrorCode,&#xD;&#xA;&#x9;&#x9;@V_Debug&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/26/2011&#xD;&#xA;-- Description:&#x9;Inserts/Updates ZGWCoreWeb.Account_Choices based on @P_Account&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Set_Name_Value_Pair_Detail]&#xD;&#xA;&#x9;@P_NVP_Detail_SeqID INT,&#xD;&#xA;&#x9;@P_NVP_SeqID int,&#xD;&#xA;&#x9;@P_NVP_Detail_Name VARCHAR(50),&#xD;&#xA;&#x9;@P_NVP_Detail_Value VARCHAR(300),&#xD;&#xA;&#x9;@P_Status_SeqID INT,&#xD;&#xA;&#x9;@P_Sort_Order INT,&#xD;&#xA;&#x9;@P_Added_Updated_By INT,&#xD;&#xA;&#x9;@P_Primary_Key INT OUTPUT,&#xD;&#xA;&#x9;@P_ErrorCode int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[ZGWSystem].[Set_System_Status]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF @P_Status_SeqID > -1
		BEGIN -- UPDATE PROFILE
			UPDATE [ZGWSystem].[Statuses]
			SET 
				[Name] = @P_Name,
				[Description] = @P_Description,
				Updated_By = @P_Added_Updated_By,
				Updated_Date = GETDATE()
			WHERE
				Status_SeqID = @P_Status_SeqID

			SELECT @P_Primary_Key = @P_Status_SeqID
		END
	ELSE
	BEGIN -- INSERT a new row in the table.

			-- CHECK FOR DUPLICATE NAME BEFORE INSERTING
			IF EXISTS( SELECT 1 FROM [ZGWSystem].[Statuses] WHERE [Name] = @P_Name)
				BEGIN
					RAISERROR ('THE STATUS YOU ENTERED ALREADY EXISTS IN THE DATABASE.',16,1)
					RETURN
				END
			-- END IF
			INSERT [ZGWSystem].[Statuses]
			(
				[Name],
				[Description],
				Added_By ,
				Added_Date 
			)
			VALUES
			(
				@P_Name,
				@P_Description,
				@P_Added_Updated_By ,
				GETDATE() 
			)
			SELECT @P_Status_SeqID = SCOPE_IDENTITY() -- Get the IDENTITY value for the row just inserted.
		END
-- Get the Error Code for the statement just executed.
SELECT @P_ErrorCode=@@ERROR]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[ZGWSystem].[Set_System_Status].[@P_Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_System_Status].[@P_Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_System_Status].[@P_Description]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_System_Status].[@P_Added_Updated_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Updated_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Status_SeqID]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_System_Status].[@P_Primary_Key]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Name]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Added_By]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Statuses].[Added_Date]" />
				</Entry>
				<Entry>
					<References Name="[ZGWSystem].[Set_System_Status].[@P_ErrorCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_System_Status].[@P_Status_SeqID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_System_Status].[@P_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_System_Status].[@P_Description]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_System_Status].[@P_Added_Updated_By]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_System_Status].[@P_Primary_Key]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_System_Status].[@P_ErrorCode]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[ZGWSystem].[Set_System_Status].[@P_Debug]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="929" />
				<Property Name="Length" Value="2198" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/*&#xD;&#xA;Usage:&#xD;&#xA;&#x9;DECLARE @V_Status_SeqID INT,&#xD;&#xA;&#x9;&#x9;&#x9;@V_Added_Updated_By INT,&#xD;&#xA;&#x9;&#x9;&#x9;@V_PRIMARY_KEY INT,&#xD;&#xA;&#x9;&#x9;&#x9;@V_ErrorCode INT&#xD;&#xA;&#x9;SET @V_Status_SeqID = -1&#xD;&#xA;&#x9;SET @V_Added_Updated_By = 1&#xD;&#xA;&#x9;SET @V_PRIMARY_KEY = NULL -- Not needed when setup up the database&#xD;&#xA;&#x9;SET @V_ErrorCode = NULL -- Not needed when setup up the database&#xD;&#xA;Insert new&#xD;&#xA;&#x9;exec [ZGWSystem].[Set_System_Status] @V_Status_SeqID,'Active','Active Status',@V_Added_Updated_By,@V_PRIMARY_KEY,@V_ErrorCode&#xD;&#xA;Update&#xD;&#xA;&#x9;SET @V_Status_SeqID = 1&#xD;&#xA;&#x9;exec [ZGWSystem].[Set_System_Status] @V_Status_SeqID,'Active','Active Status',@V_Added_Updated_By,@V_PRIMARY_KEY,@V_ErrorCode&#xD;&#xA;*/&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Michael Regan&#xD;&#xA;-- Create date: 07/26/2011&#xD;&#xA;-- Description:&#x9;Inserts/Updates [ZGWSystem].[Statuses]&#xD;&#xA;--&#x9;@P_Status_SeqID's value determines insert/update&#xD;&#xA;--&#x9;a value of -1 is insert &gt; -1 performs update&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [ZGWSystem].[Set_System_Status]&#xD;&#xA;&#x9;@P_Status_SeqID int,&#xD;&#xA;&#x9;@P_Name VARCHAR(25),&#xD;&#xA;&#x9;@P_Description VARCHAR(512) = null,&#xD;&#xA;&#x9;@P_Added_Updated_By int,&#xD;&#xA;&#x9;@P_Primary_Key int OUTPUT,&#xD;&#xA;&#x9;@P_ErrorCode int OUTPUT,&#xD;&#xA;&#x9;@P_Debug INT = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[ZGWSystem].[Statuses]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Statuses].[Status_SeqID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIsNotForReplication" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Statuses].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Statuses].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Statuses].[Added_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Statuses].[Added_Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Statuses].[Updated_By]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[ZGWSystem].[Statuses].[Updated_Date]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References Name="[ZGWSystem]" />
				</Entry>
			</Relationship>
		</Element>
	</Model>
</DataSchemaModel>